---
sidebar_position: 23
title: ä½è¿ç®—
---

# ä½è¿ç®—

ä½è¿ç®—æ˜¯é¢è¯•ä¸­å¸¸è§çš„â€œæŠ€å·§é¢˜â€æ¥æºï¼Œä¹Ÿæ˜¯å®ç°é«˜æ€§èƒ½åº•å±‚é€»è¾‘çš„é‡è¦å·¥å…·ã€‚

## ğŸ“Œ å¸¸ç”¨è¿ç®—ç¬¦

- `&`ï¼šæŒ‰ä½ä¸
- `|`ï¼šæŒ‰ä½æˆ–
- `^`ï¼šæŒ‰ä½å¼‚æˆ–
- `~`ï¼šæŒ‰ä½å–å
- `<<`ï¼šå·¦ç§»ï¼ˆä¹˜ä»¥ 2 çš„å¹‚ï¼‰
- `>>`ï¼šå³ç§»ï¼ˆå¸¦ç¬¦å·ï¼Œç®—æœ¯å³ç§»ï¼‰
- `>>>`ï¼šæ— ç¬¦å·å³ç§»ï¼ˆJava ç‰¹æœ‰ï¼‰

## âœ… å¸¸ç”¨æŠ€å·§

### 1) åˆ¤æ–­å¥‡å¶

```java
public boolean isOdd(int x) {
    return (x & 1) == 1;
}
```

### 2) å–æœ€ä½ä½çš„ 1ï¼ˆlowbitï¼‰

`x & -x` å¯ä»¥å¾—åˆ° `x` çš„æœ€ä½ä½ 1 æ‰€ä»£è¡¨çš„å€¼ã€‚

```java
public int lowbit(int x) {
    return x & -x;
}
```

### 3) ç»Ÿè®¡äºŒè¿›åˆ¶ 1 çš„ä¸ªæ•°ï¼ˆBrian Kernighanï¼‰

æ¯æ¬¡æŠŠæœ€ä½ä½çš„ 1 æ¶ˆæ‰ï¼š`x &= (x - 1)`ã€‚

```java
public int bitCount(int x) {
    int cnt = 0;
    while (x != 0) {
        x &= (x - 1);
        cnt++;
    }
    return cnt;
}
```

### 4) å¼‚æˆ–æ€§è´¨

- `a ^ a = 0`
- `a ^ 0 = a`
- å¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ã€ç»“åˆå¾‹

```java
// æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™éƒ½å‡ºç°ä¸¤æ¬¡
public int singleNumber(int[] nums) {
    int x = 0;
    for (int n : nums) x ^= n;
    return x;
}
```

### 5) æšä¸¾å­é›†ï¼ˆä½æ©ç ï¼‰

å½“å…ƒç´ ä¸ªæ•°è¾ƒå°ï¼ˆå¦‚ `n <= 20`ï¼‰æ—¶ï¼Œå¯ä»¥ç”¨ `mask` è¡¨ç¤ºé€‰/ä¸é€‰ã€‚

```java
public List<List<Integer>> subsetsByMask(int[] nums) {
    List<List<Integer>> res = new ArrayList<>();
    int n = nums.length;

    for (int mask = 0; mask < (1 << n); mask++) {
        List<Integer> cur = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            if (((mask >> i) & 1) == 1) cur.add(nums[i]);
        }
        res.add(cur);
    }

    return res;
}
```

## ğŸ’¡ æ³¨æ„ç‚¹

- Java çš„ `int` æ˜¯ 32 ä½ã€æœ‰ç¬¦å·ï¼›æ¶‰åŠæ— ç¬¦å·ä½ç§»å¯ç”¨ `>>>`ã€‚
- ä½è¿ç®—é€šå¸¸æ­é…â€œçŠ¶æ€å‹ç¼© DPâ€â€œå­é›†æšä¸¾â€â€œä½å›¾æ ‡è®°â€ç­‰æ€è·¯ä¸€èµ·ä½¿ç”¨ã€‚
