---
sidebar_position: 13
title: 计算机网络面试题
description: 计算机网络常见面试题及答案
keywords: [网络面试题, TCP, HTTP, 三次握手, 四次挥手]
---

# 计算机网络面试题精选

## TCP/UDP 相关

### Q1: TCP 和 UDP 的区别？

| 特性     | TCP            | UDP               |
| -------- | -------------- | ----------------- |
| 连接方式 | 面向连接       | 无连接            |
| 可靠性   | 可靠传输       | 不可靠            |
| 有序性   | 保证顺序       | 不保证            |
| 传输方式 | 字节流         | 数据报            |
| 头部大小 | 20-60 字节     | 8 字节            |
| 速度     | 较慢           | 较快              |
| 使用场景 | HTTP, FTP, SSH | DNS, 视频流, 游戏 |

---

### Q2: TCP 三次握手过程？

```
Client                    Server
  |                         |
  |---- SYN, seq=x -------->|
  |                         |
  |<-- SYN+ACK, seq=y,ack=x+1 -|
  |                         |
  |---- ACK, ack=y+1 ------>|
  |                         |
```

1. 客户端发送 SYN，进入 SYN_SENT
2. 服务端回复 SYN+ACK，进入 SYN_RCVD
3. 客户端发送 ACK，双方进入 ESTABLISHED

**为什么是三次？**

- 第一次：服务端确认客户端发送能力
- 第二次：客户端确认服务端收发能力
- 第三次：服务端确认客户端接收能力

---

### Q3: TCP 四次挥手过程？

```
Client                    Server
  |                         |
  |---- FIN, seq=u -------->|  FIN_WAIT_1
  |                         |
  |<--- ACK, ack=u+1 -------|  FIN_WAIT_2 / CLOSE_WAIT
  |                         |
  |<--- FIN, seq=w ---------|  LAST_ACK
  |                         |
  |---- ACK, ack=w+1 ------>|  TIME_WAIT
  |                         |
  |       (2MSL)            |  CLOSED
```

**为什么是四次？**

- TCP 是全双工，每个方向需要单独关闭
- FIN 只表示不再发送数据，不影响接收

**为什么有 TIME_WAIT？**

- 等待 2MSL（约 60 秒）
- 确保最后的 ACK 能送达
- 让旧连接的数据包消失

---

### Q4: TCP 如何保证可靠传输？

1. **序列号和确认号**：标识每个字节
2. **校验和**：检测数据损坏
3. **超时重传**：丢包后重发
4. **流量控制**：滑动窗口机制
5. **拥塞控制**：慢启动、拥塞避免、快重传、快恢复

---

### Q5: TIME_WAIT 过多怎么处理？

**原因**：高并发短连接场景

**解决方案**：

```bash
# 开启端口复用
net.ipv4.tcp_tw_reuse = 1

# 缩短 FIN 超时
net.ipv4.tcp_fin_timeout = 30
```

**根本方案**：

- 使用连接池
- 使用长连接

---

## HTTP 相关

### Q6: HTTP 1.0 / 1.1 / 2 / 3 的区别？

| 版本 | 连接     | 特性                             |
| ---- | -------- | -------------------------------- |
| 1.0  | 短连接   | 每次请求新建连接                 |
| 1.1  | 持久连接 | keep-alive, 管道化               |
| 2    | 多路复用 | 二进制分帧, 头部压缩, 服务器推送 |
| 3    | QUIC     | 基于 UDP, 0-RTT, 无队头阻塞      |

---

### Q7: GET 和 POST 的区别？

| 对比项   | GET          | POST     |
| -------- | ------------ | -------- |
| 参数位置 | URL 中       | 请求体   |
| 缓存     | 可缓存       | 不缓存   |
| 幂等性   | 幂等         | 非幂等   |
| 长度限制 | URL 长度限制 | 无限制   |
| 安全性   | 参数暴露     | 相对安全 |
| 书签     | 可收藏       | 不可收藏 |

---

### Q8: HTTP 状态码有哪些？

| 范围 | 类别       | 常见状态码                                     |
| ---- | ---------- | ---------------------------------------------- |
| 1xx  | 信息       | 100 Continue                                   |
| 2xx  | 成功       | 200 OK, 201 Created, 204 No Content            |
| 3xx  | 重定向     | 301 永久, 302 临时, 304 缓存                   |
| 4xx  | 客户端错误 | 400 错误请求, 401 未认证, 403 禁止, 404 未找到 |
| 5xx  | 服务端错误 | 500 内部错误, 502 网关错误, 503 不可用         |

---

### Q9: HTTP 缓存机制？

**强缓存**：

- `Cache-Control: max-age=3600`
- `Expires: Wed, 21 Oct 2024 07:28:00 GMT`

**协商缓存**：

- `Last-Modified` / `If-Modified-Since`
- `ETag` / `If-None-Match`

```
浏览器 ---请求---> 强缓存 ---未过期---> 使用缓存
                    |
                 已过期
                    |
             协商缓存 ---304---> 使用缓存
                    |
                  200 + 新资源
```

---

### Q10: HTTPS 握手过程？

1. Client Hello：支持的加密套件、随机数
2. Server Hello：选择的加密套件、随机数
3. 服务端发送证书
4. 客户端验证证书，生成预主密钥
5. 双方计算会话密钥
6. 开始加密通信

---

### Q11: Cookie 和 Session 的区别？

| 对比项   | Cookie         | Session      |
| -------- | -------------- | ------------ |
| 存储位置 | 客户端         | 服务端       |
| 安全性   | 较低           | 较高         |
| 大小限制 | 4KB            | 无限制       |
| 生命周期 | 可设置过期时间 | 会话结束销毁 |

---

## 网络基础

### Q12: 在浏览器输入 URL 到页面展示，发生了什么？

1. **DNS 解析**：域名 → IP 地址
2. **TCP 连接**：三次握手
3. **TLS 握手**：（如果是 HTTPS）
4. **发送 HTTP 请求**
5. **服务器处理请求**
6. **返回 HTTP 响应**
7. **浏览器解析渲染**：HTML → DOM, CSS → CSSOM
8. **TCP 断开**：四次挥手

---

### Q13: OSI 七层模型和 TCP/IP 四层模型？

```
OSI 七层        TCP/IP 四层
应用层  ─┐
表示层   ├→     应用层
会话层  ─┘
传输层   ───→   传输层
网络层   ───→   网际层
数据链路层─┐
物理层    ─┴→   网络接口层
```

---

### Q14: ARP 协议的作用？

ARP（Address Resolution Protocol）将 IP 地址解析为 MAC 地址：

1. 发送 ARP 请求广播
2. 目标主机回复 ARP 响应
3. 发送方缓存映射关系

---

### Q15: TCP 粘包问题如何解决？

**原因**：TCP 是字节流，没有消息边界

**解决方案**：

1. 固定长度消息
2. 特殊分隔符（如 `\n`）
3. 消息头 + 消息体（推荐）

```
+--------+----------------+
| Length |    Payload     |
| 4 bytes|   N bytes      |
+--------+----------------+
```

---

## 安全相关

### Q16: 常见 Web 攻击有哪些？

| 攻击类型 | 描述          | 防护措施               |
| -------- | ------------- | ---------------------- |
| XSS      | 注入恶意脚本  | 输出编码, CSP          |
| CSRF     | 伪造请求      | Token, SameSite Cookie |
| SQL 注入 | 恶意 SQL 语句 | 参数化查询             |
| DDoS     | 拒绝服务      | 限流, CDN              |

---

### Q17: HTTPS 如何保证安全？

- **对称加密**：加密传输数据（AES）
- **非对称加密**：交换对称密钥（RSA/ECDHE）
- **数字证书**：验证服务器身份
- **消息认证码**：确保数据完整性

---

## 编程相关

### Q18: select、poll、epoll 的区别？

| 特性       | select   | poll     | epoll     |
| ---------- | -------- | -------- | --------- |
| 最大连接数 | 1024     | 无限制   | 无限制    |
| 数据结构   | 数组     | 链表     | 红黑树    |
| 效率       | O(n)     | O(n)     | O(1)      |
| 触发方式   | 水平触发 | 水平触发 | 水平/边缘 |

---

### Q19: 什么是 WebSocket？和 HTTP 的区别？

| 对比项     | HTTP      | WebSocket |
| ---------- | --------- | --------- |
| 通信       | 请求-响应 | 全双工    |
| 连接       | 短/长连接 | 持久连接  |
| 协议       | http://   | ws://     |
| 服务器推送 | 不支持    | 支持      |

---

### Q20: 长连接和短连接的区别？

**短连接**：

- 每次请求都新建连接
- 请求结束立即关闭
- HTTP/1.0 默认

**长连接**：

- 复用同一个连接
- `Connection: keep-alive`
- HTTP/1.1 默认

---

## 快速回顾

| 主题       | 核心知识点                       |
| ---------- | -------------------------------- |
| TCP 连接   | 三次握手、四次挥手、TIME_WAIT    |
| TCP 可靠性 | 序列号、确认、重传、流控、拥塞   |
| HTTP 版本  | 1.1 持久连接, 2 多路复用, 3 QUIC |
| HTTPS      | TLS 握手、证书验证、对称加密     |
| 网络安全   | XSS, CSRF, SQL 注入, DDoS        |
