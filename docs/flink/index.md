---
sidebar_position: 1
title: "Flink æ¦‚è¿°"
description: "Apache Flink åˆ†å¸ƒå¼æµå¤„ç†æ¡†æ¶å®Œæ•´æŒ‡å—"
---

# Apache Flink æ¦‚è¿°

## ä»€ä¹ˆæ˜¯ Flinkï¼Ÿ

Apache Flink æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æµå¤„ç†æ¡†æ¶ï¼Œä¸“ä¸ºé«˜ååé‡ã€ä½å»¶è¿Ÿçš„æœ‰çŠ¶æ€æµå¤„ç†è€Œè®¾è®¡ã€‚å®ƒèƒ½å¤Ÿå¤„ç†æœ‰ç•Œå’Œæ— ç•Œæ•°æ®æµï¼Œå¹¿æ³›åº”ç”¨äºå®æ—¶æ•°æ®åˆ†æã€äº‹ä»¶é©±åŠ¨åº”ç”¨å’Œæ•°æ®ç®¡é“ç­‰åœºæ™¯ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸš€ **é«˜ååä½å»¶è¿Ÿ**

- æ¯«ç§’çº§ç«¯åˆ°ç«¯å»¶è¿Ÿ
- æ¯ç§’å¤„ç†æ•°ç™¾ä¸‡äº‹ä»¶
- æ”¯æŒäº‹ä»¶æ—¶é—´å’Œå¤„ç†æ—¶é—´è¯­ä¹‰

### ğŸ’ª **æœ‰çŠ¶æ€è®¡ç®—**

- å†…ç½®çŠ¶æ€ç®¡ç†æœºåˆ¶
- æ”¯æŒå¤§è§„æ¨¡çŠ¶æ€å­˜å‚¨ï¼ˆTB çº§ï¼‰
- çŠ¶æ€ä¸€è‡´æ€§ä¿è¯

### ğŸ”’ **ç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰**

- Exactly-once çŠ¶æ€ä¸€è‡´æ€§
- ç«¯åˆ°ç«¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†
- å¯é çš„æ£€æŸ¥ç‚¹æœºåˆ¶

### ğŸ¯ **ç»Ÿä¸€æ‰¹æµå¤„ç†**

- æµæ‰¹ä¸€ä½“åŒ– API
- ç›¸åŒä»£ç å¤„ç†æ‰¹å’Œæµ
- DataStream å’Œ Table API æ”¯æŒ

## ä¸»è¦ä½¿ç”¨åœºæ™¯

### ğŸ“Š å®æ—¶æ•°æ®åˆ†æ

å®æ—¶ä»ªè¡¨æ¿ã€å®æ—¶æŠ¥è¡¨ã€å®æ—¶ç›‘æ§å‘Šè­¦ã€‚

```java
// ç®€å•çš„æµå¤„ç†ç¤ºä¾‹
DataStream<String> stream = env.socketTextStream("localhost", 9999);
DataStream<Tuple2<String, Integer>> wordCounts = stream
    .flatMap(new Tokenizer())
    .keyBy(value -> value.f0)
    .sum(1);
wordCounts.print();
```

### ğŸ”„ äº‹ä»¶é©±åŠ¨åº”ç”¨

æ¬ºè¯ˆæ£€æµ‹ã€å¼‚å¸¸æ£€æµ‹ã€å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰ã€‚

### ğŸ’¾ ETL æ•°æ®ç®¡é“

å®æ—¶æ•°æ®åŒæ­¥ã€æ•°æ®è½¬æ¢ã€æ•°æ®é›†æˆã€‚

### ğŸ“ˆ æœºå™¨å­¦ä¹ æµæ°´çº¿

å®æ—¶ç‰¹å¾è®¡ç®—ã€åœ¨çº¿æ¨¡å‹æ¨ç†ã€æ¨¡å‹è®­ç»ƒã€‚

## Flink æ ¸å¿ƒæ¦‚å¿µ

### DataStream API

- æ ¸å¿ƒçš„æµå¤„ç† API
- æ”¯æŒå„ç§ç®—å­è½¬æ¢
- ç±»å‹å®‰å…¨çš„ç¼–ç¨‹æ¥å£

### Table API & SQL

- å£°æ˜å¼çš„å…³ç³»å‹ API
- æ ‡å‡† SQL æ”¯æŒ
- æµè¡¨äºŒå…ƒæ€§

### çŠ¶æ€ç®¡ç†

- Keyed State å’Œ Operator State
- å¤šç§çŠ¶æ€åç«¯æ”¯æŒ
- å¢é‡æ£€æŸ¥ç‚¹

### æ—¶é—´è¯­ä¹‰

- Event Timeï¼šäº‹ä»¶å‘ç”Ÿæ—¶é—´
- Processing Timeï¼šå¤„ç†æ—¶é—´
- Ingestion Timeï¼šæ‘„å…¥æ—¶é—´

### çª—å£ï¼ˆWindowï¼‰

- æ»šåŠ¨çª—å£ï¼ˆTumbling Windowï¼‰
- æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰
- ä¼šè¯çª—å£ï¼ˆSession Windowï¼‰

## æ¶æ„ç»„ä»¶

```mermaid
graph TB
    Client[Client å®¢æˆ·ç«¯] --> JM[JobManager ä½œä¸šç®¡ç†å™¨]
    JM --> TM1[TaskManager 1]
    JM --> TM2[TaskManager 2]
    JM --> TM3[TaskManager 3]

    subgraph Flinké›†ç¾¤
        JM
        TM1
        TM2
        TM3
    end

    style JM fill:#2e7d32,color:#fff
    style TM1 fill:#1976d2,color:#fff
    style TM2 fill:#1976d2,color:#fff
    style TM3 fill:#1976d2,color:#fff
```

### JobManager

- æ¥æ”¶ä½œä¸šæäº¤
- åè°ƒä»»åŠ¡è°ƒåº¦
- ç®¡ç†æ£€æŸ¥ç‚¹å’Œæ•…éšœæ¢å¤

### TaskManager

- æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡
- ç®¡ç†æœ¬åœ°çŠ¶æ€
- ä¸ JobManager é€šä¿¡

### Dispatcher

- æä¾› REST æ¥å£
- å¯åŠ¨ JobManager
- è´Ÿè´£ä½œä¸šæäº¤

## Flink vs Spark Streaming

| ç‰¹æ€§         | Flink        | Spark Streaming |
| ------------ | ------------ | --------------- |
| **å¤„ç†æ¨¡å¼** | çœŸæ­£çš„æµå¤„ç† | å¾®æ‰¹å¤„ç†        |
| **å»¶è¿Ÿ**     | æ¯«ç§’çº§       | ç§’çº§            |
| **çŠ¶æ€ç®¡ç†** | å†…ç½®å¼ºå¤§æ”¯æŒ | éœ€è¦é¢å¤–ç»„ä»¶    |
| **ç²¾ç¡®ä¸€æ¬¡** | åŸç”Ÿæ”¯æŒ     | éœ€è¦é¢å¤–é…ç½®    |
| **çª—å£æ”¯æŒ** | çµæ´»å¤šæ ·     | åŸºäºæ—¶é—´        |
| **SQL æ”¯æŒ** | Flink SQL    | Spark SQL       |

## ç‰ˆæœ¬ç‰¹æ€§

### Flink 1.17+

- æ”¹è¿›çš„ SQL æ”¯æŒ
- æ›´å¥½çš„ Kubernetes é›†æˆ
- å¢å¼ºçš„çŠ¶æ€ç®¡ç†
- æ–°çš„ Table Store æ”¯æŒ

## é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆä½¿ç”¨ Flink çš„åœºæ™¯ï¼š**

- éœ€è¦æ¯«ç§’çº§å»¶è¿Ÿçš„å®æ—¶å¤„ç†
- å¤æ‚çš„æœ‰çŠ¶æ€è®¡ç®—
- éœ€è¦ç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰
- å®æ—¶æœºå™¨å­¦ä¹ æ¨ç†
- å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰

âŒ **ä¸é€‚åˆä½¿ç”¨ Flink çš„åœºæ™¯ï¼š**

- ç®€å•çš„æ‰¹å¤„ç†ä»»åŠ¡
- å¯¹å»¶è¿Ÿè¦æ±‚ä¸é«˜çš„åœºæ™¯
- èµ„æºæœ‰é™çš„å°è§„æ¨¡åº”ç”¨
- ç®€å•çš„ ETL ä»»åŠ¡

## ä¸‹ä¸€æ­¥

- ğŸ“– [Flink ç®€ä»‹](./introduction.md) - æ·±å…¥äº†è§£ Flink çš„åŸºæœ¬æ¦‚å¿µ
- ğŸš€ [å¿«é€Ÿå¼€å§‹](./quick-start.md) - å¿«é€Ÿæ­å»º Flink ç¯å¢ƒ
- ğŸ¯ [æ ¸å¿ƒæ¦‚å¿µ](./core-concepts.md) - ç†è§£ Flink çš„æ ¸å¿ƒç»„ä»¶
- ğŸ’» [DataStream API](./datastream-api.md) - å­¦ä¹ æµå¤„ç†ç¼–ç¨‹
- ğŸ“Š [Table API & SQL](./table-sql.md) - å£°æ˜å¼æ•°æ®å¤„ç†

## å‚è€ƒèµ„æº

- [Apache Flink å®˜æ–¹æ–‡æ¡£](https://flink.apache.org/docs/)
- [Flink ä¸­æ–‡ç¤¾åŒº](https://flink-learning.org.cn/)
- [Confluent Flink æ•™ç¨‹](https://developer.confluent.io/flink/)

---

**ğŸ’¡ æç¤ºï¼š** å»ºè®®ä» [å¿«é€Ÿå¼€å§‹](./quick-start.md) ç« èŠ‚å¼€å§‹ï¼Œé€šè¿‡å®é™…æ“ä½œæ¥å­¦ä¹  Flinkã€‚
