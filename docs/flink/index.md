---
sidebar_position: 1
title: "Flink æ¦‚è¿°"
description: "Apache Flink åˆ†å¸ƒå¼æµå¤„ç†æ¡†æ¶å®Œæ•´æŒ‡å—"
---

# Apache Flink æ¦‚è¿°

> é€‚ç”¨ç‰ˆæœ¬ï¼šApache Flink v2.2.0

## ä»€ä¹ˆæ˜¯ Flinkï¼Ÿ

Apache Flink æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æµå¤„ç†æ¡†æ¶ï¼Œä¸“ä¸ºé«˜ååé‡ã€ä½å»¶è¿Ÿçš„æœ‰çŠ¶æ€æµå¤„ç†è€Œè®¾è®¡ã€‚å®ƒèƒ½å¤Ÿå¤„ç†æœ‰ç•Œå’Œæ— ç•Œæ•°æ®æµï¼Œå¹¿æ³›åº”ç”¨äºå®æ—¶æ•°æ®åˆ†æã€äº‹ä»¶é©±åŠ¨åº”ç”¨å’Œæ•°æ®ç®¡é“ç­‰åœºæ™¯ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸš€ **é«˜ååä½å»¶è¿Ÿ**

- æ¯«ç§’çº§ç«¯åˆ°ç«¯å»¶è¿Ÿ
- æ¯ç§’å¤„ç†æ•°ç™¾ä¸‡äº‹ä»¶
- æ”¯æŒäº‹ä»¶æ—¶é—´å’Œå¤„ç†æ—¶é—´è¯­ä¹‰

### ğŸ’ª **æœ‰çŠ¶æ€è®¡ç®—**

- å†…ç½®çŠ¶æ€ç®¡ç†æœºåˆ¶
- æ”¯æŒå¤§è§„æ¨¡çŠ¶æ€å­˜å‚¨ï¼ˆTB çº§ï¼‰
- çŠ¶æ€ä¸€è‡´æ€§ä¿è¯

### ğŸ”’ **ç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰**

- Exactly-once çŠ¶æ€ä¸€è‡´æ€§
- ç«¯åˆ°ç«¯ç²¾ç¡®ä¸€æ¬¡å¤„ç†
- å¯é çš„æ£€æŸ¥ç‚¹æœºåˆ¶

### ğŸ¯ **ç»Ÿä¸€æ‰¹æµå¤„ç†**

- æµæ‰¹ä¸€ä½“åŒ– API
- ç›¸åŒä»£ç å¤„ç†æ‰¹å’Œæµ
- DataStream å’Œ Table API æ”¯æŒ

## ä¸»è¦ä½¿ç”¨åœºæ™¯

### ğŸ“Š å®æ—¶æ•°æ®åˆ†æ

å®æ—¶ä»ªè¡¨æ¿ã€å®æ—¶æŠ¥è¡¨ã€å®æ—¶ç›‘æ§å‘Šè­¦ã€‚

```java
// ç®€å•çš„æµå¤„ç†ç¤ºä¾‹
DataStream<String> stream = env.socketTextStream("localhost", 9999);
DataStream<Tuple2<String, Integer>> wordCounts = stream
    .flatMap(new Tokenizer())
    .keyBy(value -> value.f0)
    .sum(1);
wordCounts.print();
```

### ğŸ”„ äº‹ä»¶é©±åŠ¨åº”ç”¨

æ¬ºè¯ˆæ£€æµ‹ã€å¼‚å¸¸æ£€æµ‹ã€å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰ã€‚

### ğŸ’¾ ETL æ•°æ®ç®¡é“

å®æ—¶æ•°æ®åŒæ­¥ã€æ•°æ®è½¬æ¢ã€æ•°æ®é›†æˆã€‚

### ğŸ“ˆ æœºå™¨å­¦ä¹ æµæ°´çº¿

å®æ—¶ç‰¹å¾è®¡ç®—ã€åœ¨çº¿æ¨¡å‹æ¨ç†ã€æ¨¡å‹è®­ç»ƒã€‚

## Flink æ ¸å¿ƒæ¦‚å¿µ

### DataStream API

- æ ¸å¿ƒçš„æµå¤„ç† API
- æ”¯æŒå„ç§ç®—å­è½¬æ¢
- ç±»å‹å®‰å…¨çš„ç¼–ç¨‹æ¥å£

### Table API & SQL

- å£°æ˜å¼çš„å…³ç³»å‹ API
- æ ‡å‡† SQL æ”¯æŒ
- æµè¡¨äºŒå…ƒæ€§

### çŠ¶æ€ç®¡ç†

- Keyed State å’Œ Operator State
- å¤šç§çŠ¶æ€åç«¯æ”¯æŒ
- å¢é‡æ£€æŸ¥ç‚¹

### æ—¶é—´è¯­ä¹‰

- Event Timeï¼šäº‹ä»¶å‘ç”Ÿæ—¶é—´
- Processing Timeï¼šå¤„ç†æ—¶é—´
- Ingestion Timeï¼šæ‘„å…¥æ—¶é—´

### çª—å£ï¼ˆWindowï¼‰

- æ»šåŠ¨çª—å£ï¼ˆTumbling Windowï¼‰
- æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰
- ä¼šè¯çª—å£ï¼ˆSession Windowï¼‰

## æ¶æ„ç»„ä»¶

```mermaid
graph TB
    Client[Client å®¢æˆ·ç«¯] --> JM[JobManager ä½œä¸šç®¡ç†å™¨]
    JM --> TM1[TaskManager 1]
    JM --> TM2[TaskManager 2]
    JM --> TM3[TaskManager 3]

    subgraph Flinké›†ç¾¤
        JM
        TM1
        TM2
        TM3
    end

    style JM fill:#2e7d32,color:#fff
    style TM1 fill:#1976d2,color:#fff
    style TM2 fill:#1976d2,color:#fff
    style TM3 fill:#1976d2,color:#fff
```

### JobManager

- æ¥æ”¶ä½œä¸šæäº¤
- åè°ƒä»»åŠ¡è°ƒåº¦
- ç®¡ç†æ£€æŸ¥ç‚¹å’Œæ•…éšœæ¢å¤

### TaskManager

- æ‰§è¡Œå…·ä½“çš„ä»»åŠ¡
- ç®¡ç†æœ¬åœ°çŠ¶æ€
- ä¸ JobManager é€šä¿¡

### Dispatcher

- æä¾› REST æ¥å£
- å¯åŠ¨ JobManager
- è´Ÿè´£ä½œä¸šæäº¤

## Flink vs Spark Streaming

| ç‰¹æ€§         | Flink        | Spark Streaming |
| ------------ | ------------ | --------------- |
| **å¤„ç†æ¨¡å¼** | çœŸæ­£çš„æµå¤„ç† | å¾®æ‰¹å¤„ç†        |
| **å»¶è¿Ÿ**     | æ¯«ç§’çº§       | ç§’çº§            |
| **çŠ¶æ€ç®¡ç†** | å†…ç½®å¼ºå¤§æ”¯æŒ | éœ€è¦é¢å¤–ç»„ä»¶    |
| **ç²¾ç¡®ä¸€æ¬¡** | åŸç”Ÿæ”¯æŒ     | éœ€è¦é¢å¤–é…ç½®    |
| **çª—å£æ”¯æŒ** | çµæ´»å¤šæ ·     | åŸºäºæ—¶é—´        |
| **SQL æ”¯æŒ** | Flink SQL    | Spark SQL       |

## ç‰ˆæœ¬è¯´æ˜

æœ¬æ–‡æ¡£é›†é»˜è®¤ä»¥ **Apache Flink v2.2.0** ä¸ºåŸºå‡†ã€‚è‹¥ä½ ä½¿ç”¨å…¶ä»–ç‰ˆæœ¬ï¼Œè¯·ç»“åˆå®˜æ–¹ Release Notes å¯¹ç…§å·®å¼‚ã€‚

## é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆä½¿ç”¨ Flink çš„åœºæ™¯ï¼š**

- éœ€è¦æ¯«ç§’çº§å»¶è¿Ÿçš„å®æ—¶å¤„ç†
- å¤æ‚çš„æœ‰çŠ¶æ€è®¡ç®—
- éœ€è¦ç²¾ç¡®ä¸€æ¬¡è¯­ä¹‰
- å®æ—¶æœºå™¨å­¦ä¹ æ¨ç†
- å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆCEPï¼‰

âŒ **ä¸é€‚åˆä½¿ç”¨ Flink çš„åœºæ™¯ï¼š**

- ç®€å•çš„æ‰¹å¤„ç†ä»»åŠ¡
- å¯¹å»¶è¿Ÿè¦æ±‚ä¸é«˜çš„åœºæ™¯
- èµ„æºæœ‰é™çš„å°è§„æ¨¡åº”ç”¨
- ç®€å•çš„ ETL ä»»åŠ¡

## æ–‡æ¡£å¯¼èˆª

### å…¥é—¨

- ğŸ“– [Flink ç®€ä»‹](/docs/flink/introduction) - åŸºæœ¬åŸç†ä¸è®¾è®¡ç†å¿µ
- ğŸš€ [å¿«é€Ÿå¼€å§‹](/docs/flink/quick-start) - æ­å»ºç¯å¢ƒå¹¶è·‘é€šç¬¬ä¸€ä¸ªä½œä¸š
- ğŸ¯ [æ ¸å¿ƒæ¦‚å¿µ](/docs/flink/core-concepts) - æ—¶é—´è¯­ä¹‰ / æ°´å° / çª—å£ / çŠ¶æ€

### å¼€å‘ç¼–ç¨‹

- ğŸ’» [DataStream API](/docs/flink/datastream-api) - æµå¤„ç†ç¼–ç¨‹ä¸å¸¸è§ç®—å­
- ğŸ“Š [Table API & SQL](/docs/flink/table-sql) - å£°æ˜å¼å»ºè¡¨ã€æŸ¥è¯¢ä¸çª—å£
- ğŸ”§ [çŠ¶æ€ç®¡ç†](/docs/flink/state-management) - State / Checkpoint / Savepoint / TTL
- ğŸ§© [CEP å¤æ‚äº‹ä»¶å¤„ç†](/docs/flink/cep) - æ¨¡å¼åŒ¹é…ä¸è¶…æ—¶å¤„ç†

### ç”Ÿæ€ä¸è¿æ¥å™¨

- ğŸ”Œ [è¿æ¥å™¨](/docs/flink/connectors) - å¸¸è§ Source/Sink ä¸ä½¿ç”¨è¦ç‚¹
- ğŸ” [Flink CDC](/docs/flink/flink-cdc) - æ•°æ®åº“å˜æ›´æ•è·ä¸è½åœ°å®è·µ

### ç”Ÿäº§è¿ç»´

- ğŸ§­ [éƒ¨ç½²ä¸è¿ç»´](/docs/flink/deployment) - Standalone / YARN / Kubernetes
- ğŸ“ˆ [ç›‘æ§ä¸è¿ç»´](/docs/flink/monitoring) - Metrics / Prometheus / Grafana
- âš¡ [æ€§èƒ½ä¼˜åŒ–](/docs/flink/performance-optimization) - ååã€å»¶è¿Ÿä¸çŠ¶æ€è°ƒä¼˜
- âœ… [æœ€ä½³å®è·µ](/docs/flink/best-practices) - å¼€å‘è§„èŒƒä¸ç”Ÿäº§é…ç½®å»ºè®®

### æŸ¥é˜…ä¸æ‰©å±•

- ğŸ§¾ [é€ŸæŸ¥è¡¨](/docs/flink/quick-reference) - å¸¸ç”¨æ¦‚å¿µä¸å‘½ä»¤é€Ÿè§ˆ
- ğŸ§ª [å®æˆ˜æ¡ˆä¾‹](/docs/flink/practical-examples) - å…¸å‹ä¸šåŠ¡åœºæ™¯å‚è€ƒ
- â“ [å¸¸è§é—®é¢˜](/docs/flink/faq) - FAQ ä¸å¸¸è§é”™è¯¯
- ğŸ§  [é¢è¯•é¢˜ç²¾é€‰](/docs/flink/interview-questions) - é«˜é¢‘é¢˜ä¸çŸ¥è¯†ç‚¹

## å‚è€ƒèµ„æº

- [Apache Flink å®˜æ–¹æ–‡æ¡£](https://flink.apache.org/docs/)
- [Flink ä¸­æ–‡ç¤¾åŒº](https://flink-learning.org.cn/)
- [Confluent Flink æ•™ç¨‹](https://developer.confluent.io/flink/)

---

**ğŸ’¡ æç¤ºï¼š** å»ºè®®ä» [å¿«é€Ÿå¼€å§‹](/docs/flink/quick-start) ç« èŠ‚å¼€å§‹ï¼Œé€šè¿‡å®é™…æ“ä½œæ¥å­¦ä¹  Flinkã€‚
