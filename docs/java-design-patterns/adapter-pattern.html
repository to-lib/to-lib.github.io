<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-java-design-patterns/adapter-pattern" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">适配器模式 (Adapter Pattern) | TechLib - 开发者知识库</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://to-lib.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://to-lib.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://to-lib.github.io/docs/java-design-patterns/adapter-pattern"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="适配器模式 (Adapter Pattern) | TechLib - 开发者知识库"><meta data-rh="true" name="description" content="模式定义"><meta data-rh="true" property="og:description" content="模式定义"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://to-lib.github.io/docs/java-design-patterns/adapter-pattern"><link data-rh="true" rel="alternate" href="https://to-lib.github.io/docs/java-design-patterns/adapter-pattern" hreflang="en"><link data-rh="true" rel="alternate" href="https://to-lib.github.io/docs/java-design-patterns/adapter-pattern" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"适配器模式 (Adapter Pattern)","item":"https://to-lib.github.io/docs/java-design-patterns/adapter-pattern"}]}</script><link rel="stylesheet" href="/assets/css/styles.15338575.css">
<script src="/assets/js/runtime~main.e41b7933.js" defer="defer"></script>
<script src="/assets/js/main.7a72b9b7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_k978" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="to-lib Logo" class="themedComponent_FW6w themedComponent--light_ZYRo"><img src="/img/logo.svg" alt="to-lib Logo" class="themedComponent_FW6w themedComponent--dark_Rd3V"></div><b class="navbar__title text--truncate">to-lib</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">☕ Java 编程</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java">📖 Java 概述</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">基础知识</div></li><li><a class="dropdown__link" href="/docs/java/basic-syntax">📝 基础语法</a></li><li><a class="dropdown__link" href="/docs/java/oop">🎯 面向对象</a></li><li><a class="dropdown__link" href="/docs/java/exception-handling">❌ 异常处理</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">核心特性</div></li><li><a class="dropdown__link" href="/docs/java/collections">📦 集合框架</a></li><li><a class="dropdown__link" href="/docs/java/generics">🔤 泛型编程</a></li><li><a class="dropdown__link" href="/docs/java/io-streams">💾 IO 流</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">高级主题</div></li><li><a class="dropdown__link" href="/docs/java/multithreading">🧵 多线程</a></li><li><a class="dropdown__link" href="/docs/java/functional-programming">⚡ 函数式编程</a></li><li><a class="dropdown__link" href="/docs/java/jvm-basics">🖥️ JVM 基础</a></li><li><a class="dropdown__link" href="/docs/java/performance">🚀 性能优化</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">版本新特性</div></li><li><a class="dropdown__link" href="/docs/java/jdk17-features">📦 JDK 17 新特性</a></li><li><a class="dropdown__link" href="/docs/java/jdk21-features">🎯 JDK 21 新特性</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🦀 Rust 编程</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/rust">📖 Rust 概述</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">基础知识</div></li><li><a class="dropdown__link" href="/docs/rust/basic-syntax">📝 基础语法</a></li><li><a class="dropdown__link" href="/docs/rust/ownership">🔑 所有权系统</a></li><li><a class="dropdown__link" href="/docs/rust/structs-enums">📦 结构体和枚举</a></li><li><a class="dropdown__link" href="/docs/rust/collections">📚 集合类型</a></li><li><a class="dropdown__link" href="/docs/rust/project-structure">🗂️ 项目组织</a></li><li><a class="dropdown__link" href="/docs/rust/cargo-guide">📦 Cargo 使用</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">核心特性</div></li><li><a class="dropdown__link" href="/docs/rust/error-handling">❌ 错误处理</a></li><li><a class="dropdown__link" href="/docs/rust/generics-traits">🔤 泛型和 Trait</a></li><li><a class="dropdown__link" href="/docs/rust/lifetimes">⏱️ 生命周期</a></li><li><a class="dropdown__link" href="/docs/rust/closures-iterators">🎯 闭包和迭代器</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">高级主题</div></li><li><a class="dropdown__link" href="/docs/rust/smart-pointers">📌 智能指针</a></li><li><a class="dropdown__link" href="/docs/rust/concurrency">🧵 并发编程</a></li><li><a class="dropdown__link" href="/docs/rust/async-programming">⚡ 异步编程</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">参考指南</div></li><li><a class="dropdown__link" href="/docs/rust/quick-reference">📋 快速参考</a></li><li><a class="dropdown__link" href="/docs/rust/faq">❓ 常见问题</a></li><li><a class="dropdown__link" href="/docs/rust/interview-questions">💼 面试题集</a></li><li><a class="dropdown__link" href="/docs/rust/practical-projects">🚀 实战项目</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">⚛️ React 19</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/react">📖 React 概览</a></li><li><a class="dropdown__link" href="/docs/react/getting-started">🚀 快速开始</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">基础知识</div></li><li><a class="dropdown__link" href="/docs/react/components">🧩 组件基础</a></li><li><a class="dropdown__link" href="/docs/react/jsx-syntax">🔤 JSX 语法</a></li><li><a class="dropdown__link" href="/docs/react/props-and-state">📦 Props 和 State</a></li><li><a class="dropdown__link" href="/docs/react/event-handling">🎯 事件处理</a></li><li><a class="dropdown__link" href="/docs/react/conditional-rendering">🔀 条件渲染</a></li><li><a class="dropdown__link" href="/docs/react/lists-and-keys">📋 列表和 Keys</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">核心概念</div></li><li><a class="dropdown__link" href="/docs/react/hooks">🎣 Hooks 详解</a></li><li><a class="dropdown__link" href="/docs/react/context">🔄 Context API</a></li><li><a class="dropdown__link" href="/docs/react/forms">📝 表单处理</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">性能优化</div></li><li><a class="dropdown__link" href="/docs/react/performance-optimization">⚡ 性能优化</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">React 19 新特性</div></li><li><a class="dropdown__link" href="/docs/react/react19-features">🆕 React 19 新特性</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/react/interview-questions">📋 面试题精选</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🐧 Linux</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/linux">📖 Linux 概述</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">基础知识</div></li><li><a class="dropdown__link" href="/docs/linux/basic-commands">💻 基础命令</a></li><li><a class="dropdown__link" href="/docs/linux/file-system">📁 文件系统</a></li><li><a class="dropdown__link" href="/docs/linux/permissions">🔐 权限管理</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">系统管理</div></li><li><a class="dropdown__link" href="/docs/linux/process-management">⚙️ 进程管理</a></li><li><a class="dropdown__link" href="/docs/linux/networking">🌐 网络配置</a></li><li><a class="dropdown__link" href="/docs/linux/shell-scripting">📜 Shell 脚本</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">📚 设计模式</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/java-design-patterns/overview">📘 模式概览</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/quick-reference">⚡ 快速参考</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/best-practices">✨ 最佳实践</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/scenarios">🎯 使用场景对比</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/selection-guide">🔍 模式选择指南</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">创建型模式 (5)</div></li><li><a class="dropdown__link" href="/docs/java-design-patterns/singleton-pattern">📌 单例模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/factory-pattern">🏭 工厂方法模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/abstract-factory-pattern">🏢 抽象工厂模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/builder-pattern">🔨 建造者模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/prototype-pattern">🐑 原型模式</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">结构型模式 (7)</div></li><li><a class="dropdown__link" href="/docs/java-design-patterns/proxy-pattern">🎭 代理模式</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/java-design-patterns/adapter-pattern">🔌 适配器模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/decorator-pattern">🎁 装饰器模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/facade-pattern">🏛️ 外观模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/composite-pattern">🌳 组合模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/flyweight-pattern">♻️ 享元模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/bridge-pattern">🌉 桥接模式</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">行为型模式 (11)</div></li><li><a class="dropdown__link" href="/docs/java-design-patterns/observer-pattern">👀 观察者模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/strategy-pattern">🎲 策略模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/template-method-pattern">📋 模板方法模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/command-pattern">⚡ 命令模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/iterator-pattern">🔄 迭代器模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/state-pattern">🔀 状态模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/chain-of-responsibility-pattern">⛓️ 责任链模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/mediator-pattern">🤝 中介者模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/memento-pattern">💾 备忘录模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/visitor-pattern">🚶 访问者模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/interpreter-pattern">🔤 解释器模式</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🛠️ 框架应用</a><ul class="dropdown__menu"><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">Spring 生态</div></li><li><a class="dropdown__link" href="/docs/spring">🍃 Spring Framework</a></li><li><a class="dropdown__link" href="/docs/springboot">🚀 Spring Boot</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">微服务框架</div></li><li><a class="dropdown__link" href="/docs/springcloud">☁️ Spring Cloud</a></li><li><a class="dropdown__link" href="/docs/springcloud-alibaba">☁️ Spring Cloud Alibaba</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">网络框架</div></li><li><a class="dropdown__link" href="/docs/netty">⚡ Netty</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">人工智能</div></li><li><a class="dropdown__link" href="/docs/spring-ai">🤖 Spring AI</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">消息中间件</div></li><li><a class="dropdown__link" href="/docs/rocketmq">🚀 RocketMQ</a></li><li><a class="dropdown__link" href="/docs/kafka">📊 Kafka</a></li><li><a class="dropdown__link" href="/docs/flink">⚡ Flink</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">💾 数据库</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mysql">🐬 MySQL</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">Redis 数据库</div></li><li><a class="dropdown__link" href="/docs/redis">📖 Redis 概述</a></li><li><a class="dropdown__link" href="/docs/redis/data-types">📚 数据类型</a></li><li><a class="dropdown__link" href="/docs/redis/persistence">💾 持久化</a></li><li><a class="dropdown__link" href="/docs/redis/replication">🔄 主从复制</a></li><li><a class="dropdown__link" href="/docs/redis/cluster">🏛️ Redis 集群</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">核心功能</div></li><li><a class="dropdown__link" href="/docs/redis/pubsub">📡 发布订阅</a></li><li><a class="dropdown__link" href="/docs/redis/streams">🌊 Stream 数据流</a></li><li><a class="dropdown__link" href="/docs/redis/pipeline">🚀 Pipeline 批量操作</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/redis/quick-reference">📋 快速参考</a></li><li><a class="dropdown__link" href="/docs/redis/faq">❓ 常见问题</a></li><li><a class="dropdown__link" href="/docs/redis/interview-questions">💼 面试题集</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">PostgreSQL 数据库</div></li><li><a class="dropdown__link" href="/docs/postgres">🐘 PostgreSQL 概述</a></li><li><a class="dropdown__link" href="/docs/postgres/data-types">📚 数据类型</a></li><li><a class="dropdown__link" href="/docs/postgres/indexes">🎯 索引优化</a></li><li><a class="dropdown__link" href="/docs/postgres/transactions">🔄 事务管理</a></li><li><a class="dropdown__link" href="/docs/postgres/performance-optimization">🚀 性能优化</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/postgres/quick-reference">📋 快速参考</a></li><li><a class="dropdown__link" href="/docs/postgres/faq">❓ 常见问题</a></li><li><a class="dropdown__link" href="/docs/postgres/interview-questions">💼 面试题集</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">📨 消息队列</a><ul class="dropdown__menu"><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff6b6b;">RabbitMQ</div></li><li><a class="dropdown__link" href="/docs/rabbitmq">🐰 RabbitMQ 概述</a></li><li><a class="dropdown__link" href="/docs/rabbitmq/introduction">📖 RabbitMQ 简介</a></li><li><a class="dropdown__link" href="/docs/rabbitmq/core-concepts">🎯 核心概念</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">Kafka</div></li><li><a class="dropdown__link" href="/docs/kafka">📡 Kafka 概述</a></li><li><a class="dropdown__link" href="/docs/kafka/introduction">📖 Kafka 简介</a></li><li><a class="dropdown__link" href="/docs/kafka/core-concepts">🎯 核心概念</a></li><li><a class="dropdown__link" href="/docs/kafka/quick-start">🚀 快速开始</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/kafka/producer-api">💻 生产者 API</a></li><li><a class="dropdown__link" href="/docs/kafka/consumer-api">📊 消费者 API</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/kafka/quick-reference">📋 快速参考</a></li><li><a class="dropdown__link" href="/docs/kafka/faq">❓ 常见问题</a></li><li><a class="dropdown__link" href="/docs/kafka/interview-questions">💼 面试题集</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">高级应用</div></li><li><a class="dropdown__link" href="/docs/kafka/cluster-management">🔧 集群管理</a></li><li><a class="dropdown__link" href="/docs/kafka/performance-optimization">⚡ 性能优化</a></li><li><a class="dropdown__link" href="/docs/kafka/best-practices">✨ 最佳实践</a></li><li><a class="dropdown__link" href="/docs/kafka/monitoring">📊 监控与运维</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">RocketMQ</div></li><li><a class="dropdown__link" href="/docs/rocketmq">🚀 RocketMQ 概述</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">Flink</div></li><li><a class="dropdown__link" href="/docs/flink">⚡ Flink 概述</a></li><li><a class="dropdown__link" href="/docs/flink/introduction">📖 Flink 简介</a></li><li><a class="dropdown__link" href="/docs/flink/core-concepts">🎯 核心概念</a></li><li><a class="dropdown__link" href="/docs/flink/quick-start">🚀 快速开始</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/flink/datastream-api">💻 DataStream API</a></li><li><a class="dropdown__link" href="/docs/flink/table-sql">📊 Table API &amp; SQL</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #ff9800;">高级主题</div></li><li><a class="dropdown__link" href="/docs/flink/state-management">🔄 状态管理</a></li><li><a class="dropdown__link" href="/docs/flink/cep">🎯 CEP 复杂事件处理</a></li><li><a class="dropdown__link" href="/docs/flink/connectors">🔌 连接器</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">生产部署</div></li><li><a class="dropdown__link" href="/docs/flink/deployment">🛠️ 部署与运维</a></li><li><a class="dropdown__link" href="/docs/flink/performance-optimization">⚡ 性能优化</a></li><li><a class="dropdown__link" href="/docs/flink/best-practices">✨ 最佳实践</a></li><li class=""><hr style="margin: 8px 0;"></li><li><a class="dropdown__link" href="/docs/flink/quick-reference">📋 快速参考</a></li><li><a class="dropdown__link" href="/docs/flink/faq">❓ 常见问题</a></li><li><a class="dropdown__link" href="/docs/flink/interview-questions">💼 面试题集</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">📝 面试题库</a><ul class="dropdown__menu"><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #1976d2;">Java 核心</div></li><li><a class="dropdown__link" href="/docs/java">☕ Java 基础知识</a></li><li><a class="dropdown__link" href="/docs/java/interview-questions">📋 Java 面试题精选</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #388e3c;">框架应用</div></li><li><a class="dropdown__link" href="/docs/spring">🍃 Spring 框架</a></li><li><a class="dropdown__link" href="/docs/spring/interview-questions">📋 Spring 面试题精选</a></li><li><a class="dropdown__link" href="/docs/springboot">� Spring Boot</a></li><li class=""><hr style="margin: 8px 0;"></li><li class=""><div style="padding: 8px 12px; font-weight: bold; color: #d32f2f;">进阶主题</div></li><li><a class="dropdown__link" href="/docs/java-design-patterns/overview">�📚 设计模式</a></li><li><a class="dropdown__link" href="/docs/java-design-patterns/interview-questions">📋 设计模式面试题精选</a></li><li><a class="dropdown__link" href="/docs/netty">⚡ Netty 网络编程</a></li><li><a class="dropdown__link" href="/docs/netty/interview-questions">📋 Netty 面试题精选</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/to-lib/to-lib.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Cy_U"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_lwka colorModeToggle_SVpo"><button class="clean-btn toggleButton_Mbg6 toggleButtonDisabled_dsJi" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ lightToggleIcon_iZ7o"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ darkToggleIcon_sbHe"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_LX0_ systemToggleIcon_rNLr"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_bxl4"><div class="navbar__search searchBarContainer_klkp" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_AuBj" value=""><div class="loadingRing_Allz searchBarLoadingRing_DNDh"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_CSSr"><div class="docsWrapper_b3o4"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ngaE" type="button"></button><div class="docRoot_vnET"><aside class="theme-doc-sidebar-container docSidebarContainer_lkE3"><div class="sidebarViewport_l_GY"><div class="sidebar_rAVx"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_V6cO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/design-patterns-guide"><span title="📖 概览与参考" class="categoryLinkLabel_ExjS">📖 概览与参考</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/design-patterns-guide"><span title="Java 设计模式完全指南" class="linkLabel_ElBB">Java 设计模式完全指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/overview"><span title="Java设计模式概述" class="linkLabel_ElBB">Java设计模式概述</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/quick-reference"><span title="设计模式快速参考" class="linkLabel_ElBB">设计模式快速参考</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/best-practices"><span title="设计模式最佳实践" class="linkLabel_ElBB">设计模式最佳实践</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/scenarios"><span title="使用场景对比" class="linkLabel_ElBB">使用场景对比</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/selection-guide"><span title="模式选择指南" class="linkLabel_ElBB">模式选择指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/pattern-comparisons"><span title="设计模式对比速查" class="linkLabel_ElBB">设计模式对比速查</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/interview-questions"><span title="设计模式面试题精选" class="linkLabel_ElBB">设计模式面试题精选</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/java-design-patterns/singleton-pattern"><span title="创建型模式 (5)" class="categoryLinkLabel_ExjS">创建型模式 (5)</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/java-design-patterns/proxy-pattern"><span title="结构型模式 (7)" class="categoryLinkLabel_ExjS">结构型模式 (7)</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/proxy-pattern"><span title="代理模式 (Proxy Pattern)" class="linkLabel_ElBB">代理模式 (Proxy Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/java-design-patterns/adapter-pattern"><span title="适配器模式 (Adapter Pattern)" class="linkLabel_ElBB">适配器模式 (Adapter Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/decorator-pattern"><span title="装饰器模式 (Decorator Pattern)" class="linkLabel_ElBB">装饰器模式 (Decorator Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/facade-pattern"><span title="外观模式 (Facade Pattern)" class="linkLabel_ElBB">外观模式 (Facade Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/composite-pattern"><span title="组合模式 (Composite Pattern)" class="linkLabel_ElBB">组合模式 (Composite Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/flyweight-pattern"><span title="享元模式 (Flyweight Pattern)" class="linkLabel_ElBB">享元模式 (Flyweight Pattern)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/java-design-patterns/bridge-pattern"><span title="桥接模式 (Bridge Pattern)" class="linkLabel_ElBB">桥接模式 (Bridge Pattern)</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NYqt menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/java-design-patterns/observer-pattern"><span title="行为型模式 (11)" class="categoryLinkLabel_ExjS">行为型模式 (11)</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_WeUM"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_qoff"><div class="docItemContainer_phNv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_q0fI" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_UB4j"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">结构型模式 (7)</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">适配器模式 (Adapter Pattern)</span></li></ul></nav><div class="tocCollapsible_Jjm_ theme-doc-toc-mobile tocMobile_KLro"><button type="button" class="clean-btn tocCollapsibleButton_ibvO">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>适配器模式 (Adapter Pattern)</h1></header>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="模式定义">模式定义<a href="#模式定义" class="hash-link" aria-label="Direct link to 模式定义" title="Direct link to 模式定义" translate="no">​</a></h2>
<p><strong>适配器模式</strong>是一种结构型设计模式，它允许将一个类的接口转换成客户端所期望的另一个接口，使得原本由于接口不兼容而不能一起工作的类可以协同工作。</p>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="问题分析">问题分析<a href="#问题分析" class="hash-link" aria-label="Direct link to 问题分析" title="Direct link to 问题分析" translate="no">​</a></h2>
<p>在实际开发中，经常遇到接口不兼容的问题：</p>
<ul>
<li class="">❌ 新系统需要集成第三方库，但接口不匹配</li>
<li class="">❌ 现有类的接口不符合新的需求</li>
<li class="">❌ 需要兼容多个版本的 API</li>
<li class="">❌ 遗留系统与新系统接口不一致</li>
</ul>
<p><strong>现实类比：</strong></p>
<blockquote>
<p>就像你的手机充电器（美标两孔）到了欧洲（欧标圆孔）无法使用，需要一个**转换插头（适配器）**才能正常充电。</p>
</blockquote>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">// 问题示例：接口不兼容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class OldSystem {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void oldMethod(String data) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 旧系统的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 新系统期望的接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface NewInterface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void newMethod(Data data);  // 参数类型不同！</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 无法直接使用 OldSystem，需要适配器</span><br></span></code></pre></div></div>
<blockquote>
<p>[!NOTE] &gt; <strong>适配器模式的别名</strong>：</p>
<ul>
<li class="">Wrapper（包装器）</li>
<li class="">Translator（转换器）</li>
</ul>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="适配器模式的两种实现">适配器模式的两种实现<a href="#适配器模式的两种实现" class="hash-link" aria-label="Direct link to 适配器模式的两种实现" title="Direct link to 适配器模式的两种实现" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="1-类适配器class-adapter--继承方式">1. 类适配器（Class Adapter）- 继承方式<a href="#1-类适配器class-adapter--继承方式" class="hash-link" aria-label="Direct link to 1. 类适配器（Class Adapter）- 继承方式" title="Direct link to 1. 类适配器（Class Adapter）- 继承方式" translate="no">​</a></h3>
<!-- -->
<p><strong>特点</strong>：使用继承（extends）</p>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="2-对象适配器object-adapter--组合方式">2. 对象适配器（Object Adapter）- 组合方式<a href="#2-对象适配器object-adapter--组合方式" class="hash-link" aria-label="Direct link to 2. 对象适配器（Object Adapter）- 组合方式" title="Direct link to 2. 对象适配器（Object Adapter）- 组合方式" translate="no">​</a></h3>
<!-- -->
<p><strong>特点</strong>：使用组合（has-a）</p>
<blockquote>
<p>[!IMPORTANT] &gt; <strong>推荐使用对象适配器</strong>：</p>
<ul>
<li class="">Java 只支持单继承，类适配器限制大</li>
<li class="">组合优于继承（《Effective Java》原则）</li>
<li class="">对象适配器更灵活，可以适配多个 Adaptee</li>
</ul>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="代码实现">代码实现<a href="#代码实现" class="hash-link" aria-label="Direct link to 代码实现" title="Direct link to 代码实现" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="场景支付系统集成">场景：支付系统集成<a href="#场景支付系统集成" class="hash-link" aria-label="Direct link to 场景：支付系统集成" title="Direct link to 场景：支付系统集成" translate="no">​</a></h3>
<p>假设我们的系统有一个标准的支付接口，但需要集成多个第三方支付平台，它们的接口各不相同。</p>
<h4 class="anchor anchorTargetStickyNavbar__9bU" id="1-定义系统的目标接口">1. 定义系统的目标接口<a href="#1-定义系统的目标接口" class="hash-link" aria-label="Direct link to 1. 定义系统的目标接口" title="Direct link to 1. 定义系统的目标接口" translate="no">​</a></h4>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 系统的标准支付接口（Target）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 所有支付方式都应该实现此接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface PaymentGateway {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 处理支付</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param amount 支付金额</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return 是否成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean processPayment(double amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 获取交易ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return 交易ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String getTransactionId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 退款</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param transactionId 交易ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @param amount 退款金额</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * @return 是否成功</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean refund(String transactionId, double amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar__9bU" id="2-第三方支付库adaptee---不能修改">2. 第三方支付库（Adaptee - 不能修改）<a href="#2-第三方支付库adaptee---不能修改" class="hash-link" aria-label="Direct link to 2. 第三方支付库（Adaptee - 不能修改）" title="Direct link to 2. 第三方支付库（Adaptee - 不能修改）" translate="no">​</a></h4>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 支付宝支付服务（第三方库，不能修改）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 接口与我们的系统不兼容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AlipayService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 支付宝的支付方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 参数和返回值与我们的接口不同</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String pay(double money, String currency, String orderId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;支付宝支付: &quot; + money + &quot; &quot; + currency);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;订单号: &quot; + orderId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 返回支付宝的交易号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;ALIPAY_&quot; + System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 支付宝的退款方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean doRefund(String tradeNo, double refundAmount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;支付宝退款: &quot; + refundAmount + &quot;, 交易号: &quot; + tradeNo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 微信支付服务（第三方库，不能修改）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WeChatPayService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 微信的支付方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int wxPay(int amountInCents) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;微信支付: &quot; + (amountInCents / 100.0) + &quot; 元&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 返回微信的交易码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return (int) (Math.random() * 1000000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 微信的退款方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean wxRefund(int transactionCode, int refundInCents) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;微信退款: &quot; + (refundInCents / 100.0) + &quot; 元&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<blockquote>
<p>[!WARNING] &gt; <strong>第三方库不能修改</strong>：这些是来自外部的代码，我们无权修改，只能通过适配器来适配它们的接口。</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar__9bU" id="3-对象适配器实现">3. 对象适配器实现<a href="#3-对象适配器实现" class="hash-link" aria-label="Direct link to 3. 对象适配器实现" title="Direct link to 3. 对象适配器实现" translate="no">​</a></h4>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 支付宝支付适配器（推荐方式：对象适配器）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 将支付宝的接口适配成系统标准接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AlipayAdapter implements PaymentGateway {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 持有被适配对象的引用（组合）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final AlipayService alipayService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String lastTransactionId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 构造函数：注入被适配对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public AlipayAdapter(AlipayService alipayService) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.alipayService = alipayService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 适配 processPayment 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 将系统的接口转换为支付宝的接口调用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean processPayment(double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 生成订单号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String orderId = &quot;ORDER_&quot; + System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 调用支付宝的 pay 方法（参数不同）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastTransactionId = alipayService.pay(amount, &quot;CNY&quot;, orderId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;支付宝交易成功，交易号: &quot; + lastTransactionId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;支付宝支付失败: &quot; + e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 适配 getTransactionId 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getTransactionId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return lastTransactionId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 适配 refund 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean refund(String transactionId, double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return alipayService.doRefund(transactionId, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 微信支付适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class WeChatPayAdapter implements PaymentGateway {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final WeChatPayService weChatPayService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int lastTransactionCode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public WeChatPayAdapter(WeChatPayService weChatPayService) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.weChatPayService = weChatPayService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 适配微信支付</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 注意：微信使用分为单位，需要转换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean processPayment(double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 元转换为分</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            int amountInCents = (int) (amount * 100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 调用微信支付接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastTransactionCode = weChatPayService.wxPay(amountInCents);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;微信支付成功，交易码: &quot; + lastTransactionCode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;微信支付失败: &quot; + e.getMessage());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getTransactionId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;WX_&quot; + lastTransactionCode;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean refund(String transactionId, double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 提取交易码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int code = Integer.parseInt(transactionId.replace(&quot;WX_&quot;, &quot;&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int refundInCents = (int) (amount * 100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return weChatPayService.wxRefund(code, refundInCents);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<blockquote>
<p>[!TIP] &gt; <strong>适配器的职责</strong>：</p>
<ol>
<li class="">转换方法调用（<code>pay()</code> → <code>processPayment()</code>）</li>
<li class="">转换参数类型和格式（元 → 分）</li>
<li class="">转换返回值格式（支付宝交易号 → 标准交易 ID）</li>
</ol>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar__9bU" id="4-客户端使用">4. 客户端使用<a href="#4-客户端使用" class="hash-link" aria-label="Direct link to 4. 客户端使用" title="Direct link to 4. 客户端使用" translate="no">​</a></h4>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 支付处理器（客户端）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 只依赖 PaymentGateway 接口，不知道具体实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PaymentProcessor {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private PaymentGateway paymentGateway;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PaymentProcessor(PaymentGateway paymentGateway) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.paymentGateway = paymentGateway;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 结账</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void checkout(double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;========== 开始支付 ==========&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (paymentGateway.processPayment(amount)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String txnId = paymentGateway.getTransactionId();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;✅ 支付成功！&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;交易ID: &quot; + txnId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;金额: ¥&quot; + amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;❌ 支付失败！&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;============================\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * 退款</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doRefund(String transactionId, double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;========== 开始退款 ==========&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (paymentGateway.refund(transactionId, amount)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;✅ 退款成功！金额: ¥&quot; + amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println(&quot;❌ 退款失败！&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;============================\n&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 演示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Demo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 使用支付宝支付</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AlipayService alipayService = new AlipayService();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PaymentGateway alipayGateway = new AlipayAdapter(alipayService);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PaymentProcessor processor1 = new PaymentProcessor(alipayGateway);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        processor1.checkout(100.50);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        processor1.doRefund(alipayGateway.getTransactionId(), 50.00);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 切换到微信支付（无需修改 PaymentProcessor）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WeChatPayService weChatService = new WeChatPayService();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PaymentGateway weChatGateway = new WeChatPayAdapter(weChatService);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        PaymentProcessor processor2 = new PaymentProcessor(weChatGateway);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        processor2.checkout(200.00);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><strong>输出：</strong></p>
<div class="language-text codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-text codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">========== 开始支付 ==========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">支付宝支付: 100.5 CNY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">订单号: ORDER_1702345678901</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">支付宝交易成功，交易号: ALIPAY_1702345678901</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ 支付成功！</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">交易ID: ALIPAY_1702345678901</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">金额: ¥100.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========== 开始退款 ==========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">支付宝退款: 50.0, 交易号: ALIPAY_1702345678901</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ 退款成功！金额: ¥50.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">============================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">========== 开始支付 ==========</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">微信支付: 200.0 元</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">微信支付成功，交易码: 123456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✅ 支付成功！</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">交易ID: WX_123456</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">金额: ¥200.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">============================</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="类适配器-vs-对象适配器">类适配器 vs 对象适配器<a href="#类适配器-vs-对象适配器" class="hash-link" aria-label="Direct link to 类适配器 vs 对象适配器" title="Direct link to 类适配器 vs 对象适配器" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="类适配器实现不推荐">类适配器实现（不推荐）<a href="#类适配器实现不推荐" class="hash-link" aria-label="Direct link to 类适配器实现（不推荐）" title="Direct link to 类适配器实现（不推荐）" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 类适配器（使用继承）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ❌ 不推荐：Java 单继承限制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class AlipayClassAdapter extends AlipayService implements PaymentGateway {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String lastTransactionId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean processPayment(double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            String orderId = &quot;ORDER_&quot; + System.currentTimeMillis();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 直接调用父类方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lastTransactionId = pay(amount, &quot;CNY&quot;, orderId);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (Exception e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getTransactionId() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return lastTransactionId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean refund(String transactionId, double amount) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return doRefund(transactionId, amount);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="全面对比">全面对比<a href="#全面对比" class="hash-link" aria-label="Direct link to 全面对比" title="Direct link to 全面对比" translate="no">​</a></h3>
<!-- -->
<table><thead><tr><th>特性</th><th>类适配器</th><th>对象适配器</th></tr></thead><tbody><tr><td><strong>实现方式</strong></td><td>继承（extends）</td><td>组合（has-a）</td></tr><tr><td><strong>Java 支持</strong></td><td>❌ 单继承限制</td><td>✅ 无限制</td></tr><tr><td><strong>灵活性</strong></td><td>⭐⭐ 低</td><td>⭐⭐⭐⭐⭐ 高</td></tr><tr><td><strong>代码量</strong></td><td>⭐⭐⭐ 少</td><td>⭐⭐ 多一些</td></tr><tr><td><strong>可适配多个类</strong></td><td>❌ 不行</td><td>✅ 可以</td></tr><tr><td><strong>运行时替换</strong></td><td>❌ 不行</td><td>✅ 可以</td></tr><tr><td><strong>推荐度</strong></td><td>❌ 不推荐</td><td>✅ 强烈推荐</td></tr></tbody></table>
<blockquote>
<p>[!IMPORTANT] &gt; <strong>为什么推荐对象适配器</strong>：</p>
<ol>
<li class="">Java 只支持单继承，如果 Adaptee 已经继承了其他类，就无法使用类适配器</li>
<li class="">对象适配器可以适配一个类及其所有子类</li>
<li class="">符合&quot;组合优于继承&quot;的设计原则</li>
</ol>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="实际应用示例">实际应用示例<a href="#实际应用示例" class="hash-link" aria-label="Direct link to 实际应用示例" title="Direct link to 实际应用示例" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="示例-1日志系统适配">示例 1：日志系统适配<a href="#示例-1日志系统适配" class="hash-link" aria-label="Direct link to 示例 1：日志系统适配" title="Direct link to 示例 1：日志系统适配" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 系统的日志接口（Target）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface Logger {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void debug(String message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void info(String message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void warn(String message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void error(String message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 第三方日志库：Log4j（Adaptee）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Log4j {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void logDebug(String msg) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;[DEBUG] &quot; + msg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void logInfo(String msg) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;[INFO] &quot; + msg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void logWarning(String msg) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;[WARN] &quot; + msg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void logError(String msg) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;[ERROR] &quot; + msg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Log4j 适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Log4jAdapter implements Logger {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final Log4j log4j;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Log4jAdapter(Log4j log4j) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.log4j = log4j;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void debug(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log4j.logDebug(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void info(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log4j.logInfo(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void warn(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log4j.logWarning(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void error(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log4j.logError(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Logger logger = new Log4jAdapter(new Log4j());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger.info(&quot;应用启动&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger.error(&quot;发生错误&quot;);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="示例-2数据格式适配器">示例 2：数据格式适配器<a href="#示例-2数据格式适配器" class="hash-link" aria-label="Direct link to 示例 2：数据格式适配器" title="Direct link to 示例 2：数据格式适配器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 系统接口：JSON 数据处理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface JsonDataProcessor {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String toJson();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void fromJson(String json);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 现有类：XML 数据处理（Adaptee）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class XmlDataHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String xmlData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setXml(String xml) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.xmlData = xml;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getXml() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return xmlData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * XML 到 JSON 适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class XmlToJsonAdapter implements JsonDataProcessor {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final XmlDataHandler xmlHandler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public XmlToJsonAdapter(XmlDataHandler xmlHandler) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.xmlHandler = xmlHandler;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String toJson() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String xml = xmlHandler.getXml();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 简化示例：实际应使用 XML 解析库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return convertXmlToJson(xml);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void fromJson(String json) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String xml = convertJsonToXml(json);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        xmlHandler.setXml(xml);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * XML 转 JSON（简化示例）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String convertXmlToJson(String xml) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 实际应使用 Jackson 或 Gson</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (xml.contains(&quot;&lt;user&gt;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return &quot;{\&quot;user\&quot;: {...}}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;{}&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     * JSON 转 XML（简化示例）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String convertJsonToXml(String json) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 实际应使用 Jackson XML 或类似库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (json.contains(&quot;\&quot;user\&quot;&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return &quot;&lt;user&gt;...&lt;/user&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;&lt;root&gt;&lt;/root&gt;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="示例-3数据库驱动适配器">示例 3：数据库驱动适配器<a href="#示例-3数据库驱动适配器" class="hash-link" aria-label="Direct link to 示例 3：数据库驱动适配器" title="Direct link to 示例 3：数据库驱动适配器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 系统的数据库接口（Target）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface Database {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void connect(String url);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void execute(String sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * MySQL 驱动（Adaptee）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MySQLDriver {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void mysqlConnect(String host, int port, String db) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;连接 MySQL: &quot; + host + &quot;:&quot; + port + &quot;/&quot; + db);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void runQuery(String query) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;执行 MySQL 查询: &quot; + query);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void close() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;关闭 MySQL 连接&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * PostgreSQL 驱动（Adaptee）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PostgreSQLDriver {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean pgConnect(String connectionString) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;连接 PostgreSQL: &quot; + connectionString);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execSQL(String sql) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;执行 PostgreSQL SQL: &quot; + sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void terminate() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;断开 PostgreSQL&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * MySQL 适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MySQLAdapter implements Database {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final MySQLDriver driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public MySQLAdapter(MySQLDriver driver) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.driver = driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void connect(String url) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 解析 URL: jdbc:mysql://localhost:3306/mydb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] parts = url.split(&quot;/&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String[] hostPort = parts[2].split(&quot;:&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String host = hostPort[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        int port = Integer.parseInt(hostPort[1]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String db = parts[3];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.mysqlConnect(host, port, db);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute(String sql) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.runQuery(sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void disconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * PostgreSQL 适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PostgreSQLAdapter implements Database {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private final PostgreSQLDriver driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public PostgreSQLAdapter(PostgreSQLDriver driver) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.driver = driver;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void connect(String url) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.pgConnect(url);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void execute(String sql) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.execSQL(sql);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void disconnect() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        driver.terminate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用：统一接口访问不同数据库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class DatabaseDemo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // MySQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Database mysqlDB = new MySQLAdapter(new MySQLDriver());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mysqlDB.connect(&quot;jdbc:mysql://localhost:3306/mydb&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mysqlDB.execute(&quot;SELECT * FROM users&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        mysqlDB.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // PostgreSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Database pgDB = new PostgreSQLAdapter(new PostgreSQLDriver());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pgDB.connect(&quot;postgresql://localhost:5432/mydb&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pgDB.execute(&quot;SELECT * FROM users&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pgDB.disconnect();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="java-标准库中的适配器">Java 标准库中的适配器<a href="#java-标准库中的适配器" class="hash-link" aria-label="Direct link to Java 标准库中的适配器" title="Direct link to Java 标准库中的适配器" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="1-inputstreamreader">1. InputStreamReader<a href="#1-inputstreamreader" class="hash-link" aria-label="Direct link to 1. InputStreamReader" title="Direct link to 1. InputStreamReader" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * InputStreamReader 是经典的适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 将 InputStream（字节流）适配为 Reader（字符流）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">InputStream inputStream = new FileInputStream(&quot;file.txt&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 字节流 → 字符流（适配）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reader reader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);</span><br></span></code></pre></div></div>
<blockquote>
<p>[!TIP] &gt; <strong>InputStreamReader 的作用</strong>：</p>
<ul>
<li class="">Target：Reader（字符流接口）</li>
<li class="">Adaptee：InputStream（字节流）</li>
<li class="">Adapter：InputStreamReader（适配器）</li>
</ul>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="2-arraysaslist">2. Arrays.asList()<a href="#2-arraysaslist" class="hash-link" aria-label="Direct link to 2. Arrays.asList()" title="Direct link to 2. Arrays.asList()" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Arrays.asList() 将数组适配为 List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">String[] array = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 数组 → List（适配）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; list = Arrays.asList(array);</span><br></span></code></pre></div></div>
<blockquote>
<p>[!WARNING] &gt; <strong>Arrays.asList() 的限制</strong>：返回的 List 是固定大小的，不能添加或删除元素。</p>
</blockquote>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="3-collections-包装器">3. Collections 包装器<a href="#3-collections-包装器" class="hash-link" aria-label="Direct link to 3. Collections 包装器" title="Direct link to 3. Collections 包装器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Collections 的各种适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; list = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 适配为线程安全的 List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; syncList = Collections.synchronizedList(list);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 适配为只读 List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; readOnlyList = Collections.unmodifiableList(list);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 适配为单元素 List</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">List&lt;String&gt; singletonList = Collections.singletonList(&quot;item&quot;);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="4-windowadapter">4. WindowAdapter<a href="#4-windowadapter" class="hash-link" aria-label="Direct link to 4. WindowAdapter" title="Direct link to 4. WindowAdapter" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">import java.awt.event.*;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * WindowAdapter 是抽象适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 为所有方法提供空实现，子类只需覆盖需要的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">frame.addWindowListener(new WindowAdapter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void windowClosing(WindowEvent e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;窗口关闭&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 其他方法使用空实现，无需全部覆盖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="优缺点">优缺点<a href="#优缺点" class="hash-link" aria-label="Direct link to 优缺点" title="Direct link to 优缺点" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="优点">优点<a href="#优点" class="hash-link" aria-label="Direct link to 优点" title="Direct link to 优点" translate="no">​</a></h3>
<ul>
<li class="">✅ <strong>提高类的复用性</strong> - 可以使用现有的类而无需修改</li>
<li class="">✅ <strong>目标类和适配者类解耦</strong> - 增加了中间层</li>
<li class="">✅ <strong>符合开闭原则</strong> - 不修改现有代码，通过扩展实现</li>
<li class="">✅ <strong>灵活性高</strong> - 可以适配多个不兼容的接口</li>
<li class="">✅ <strong>透明性好</strong> - 客户端不知道适配过程</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="缺点">缺点<a href="#缺点" class="hash-link" aria-label="Direct link to 缺点" title="Direct link to 缺点" translate="no">​</a></h3>
<ul>
<li class="">❌ <strong>增加系统复杂度</strong> - 增加了类和对象的数量</li>
<li class="">❌ <strong>降低代码可读性</strong> - 增加了调用层次</li>
<li class="">❌ <strong>可能影响性能</strong> - 额外的方法调用和转换</li>
</ul>
<blockquote>
<p>[!WARNING] &gt; <strong>过度使用适配器</strong>：如果系统中存在大量适配器，说明设计可能有问题，应考虑重新设计接口。</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="适用场景">适用场景<a href="#适用场景" class="hash-link" aria-label="Direct link to 适用场景" title="Direct link to 适用场景" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="何时使用适配器模式">何时使用适配器模式<a href="#何时使用适配器模式" class="hash-link" aria-label="Direct link to 何时使用适配器模式" title="Direct link to 何时使用适配器模式" translate="no">​</a></h3>
<ul>
<li class="">✓ <strong>系统需要使用现有的类</strong> - 但接口不符合需求</li>
<li class="">✓ <strong>与第三方库集成</strong> - 第三方库的接口与系统不兼容</li>
<li class="">✓ <strong>需要兼容多个版本</strong> - 旧版本 API 与新版本不兼容</li>
<li class="">✓ <strong>接口转换</strong> - 将一个接口转换为另一个接口</li>
<li class="">✓ <strong>数据格式转换</strong> - XML ↔ JSON、字节流 ↔ 字符流</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="实际应用场景">实际应用场景<a href="#实际应用场景" class="hash-link" aria-label="Direct link to 实际应用场景" title="Direct link to 实际应用场景" translate="no">​</a></h3>
<ul>
<li class="">💳 <strong>支付系统</strong> - 适配不同的支付平台（支付宝、微信、PayPal）</li>
<li class="">📝 <strong>日志系统</strong> - 适配不同的日志库（Log4j、Logback、SLF4J）</li>
<li class="">💾 <strong>数据库</strong> - 适配不同的数据库驱动（MySQL、Oracle、PostgreSQL）</li>
<li class="">📊 <strong>数据格式</strong> - XML、JSON、Protocol Buffers 之间的转换</li>
<li class="">🔌 <strong>API 版本</strong> - 适配不同版本的 API</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="适配器-vs-其他模式">适配器 vs 其他模式<a href="#适配器-vs-其他模式" class="hash-link" aria-label="Direct link to 适配器 vs 其他模式" title="Direct link to 适配器 vs 其他模式" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="适配器-vs-装饰器">适配器 vs 装饰器<a href="#适配器-vs-装饰器" class="hash-link" aria-label="Direct link to 适配器 vs 装饰器" title="Direct link to 适配器 vs 装饰器" translate="no">​</a></h3>
<table><thead><tr><th>特性</th><th>适配器</th><th>装饰器</th></tr></thead><tbody><tr><td><strong>目的</strong></td><td>接口转换</td><td>功能增强</td></tr><tr><td><strong>接口</strong></td><td>改变接口</td><td>保持接口</td></tr><tr><td><strong>使用时机</strong></td><td>接口不兼容</td><td>需要扩展功能</td></tr><tr><td><strong>层次</strong></td><td>通常一层</td><td>可多层嵌套</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="适配器-vs-代理">适配器 vs 代理<a href="#适配器-vs-代理" class="hash-link" aria-label="Direct link to 适配器 vs 代理" title="Direct link to 适配器 vs 代理" translate="no">​</a></h3>
<table><thead><tr><th>特性</th><th>适配器</th><th>代理</th></tr></thead><tbody><tr><td><strong>目的</strong></td><td>接口转换</td><td>控制访问</td></tr><tr><td><strong>接口</strong></td><td>不同接口</td><td>相同接口</td></tr><tr><td><strong>关注点</strong></td><td>兼容性</td><td>访问控制</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="适配器-vs-外观">适配器 vs 外观<a href="#适配器-vs-外观" class="hash-link" aria-label="Direct link to 适配器 vs 外观" title="Direct link to 适配器 vs 外观" translate="no">​</a></h3>
<table><thead><tr><th>特 性</th><th>适配器</th><th>外观</th></tr></thead><tbody><tr><td><strong>目的</strong></td><td>转换接口</td><td>简化接口</td></tr><tr><td><strong>对象数量</strong></td><td>通常一个</td><td>通常多个</td></tr><tr><td><strong>新接口</strong></td><td>匹配已有接口</td><td>定义新接口</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="最佳实践">最佳实践<a href="#最佳实践" class="hash-link" aria-label="Direct link to 最佳实践" title="Direct link to 最佳实践" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="1-优先使用对象适配器">1. 优先使用对象适配器<a href="#1-优先使用对象适配器" class="hash-link" aria-label="Direct link to 1. 优先使用对象适配器" title="Direct link to 1. 优先使用对象适配器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">// ✅ 推荐：对象适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Adapter implements Target {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Adaptee adaptee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Adapter(Adaptee adaptee) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.adaptee = adaptee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ❌ 不推荐：类适配器（除非有特殊需求）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Adapter extends Adaptee implements Target {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="2-适配器应该轻量级">2. 适配器应该轻量级<a href="#2-适配器应该轻量级" class="hash-link" aria-label="Direct link to 2. 适配器应该轻量级" title="Direct link to 2. 适配器应该轻量级" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 适配器应只做接口转换，不添加额外逻辑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GoodAdapter implements Target {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Adaptee adaptee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void request() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ✅ 只做转换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        adaptee.specificRequest();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BadAdapter implements Target {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Adaptee adaptee;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void request() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ❌ 不应该在适配器中添加业务逻辑</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doSomeBusinessLogic();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        adaptee.specificRequest();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        doMoreBusinessLogic();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="3-考虑双向适配器">3. 考虑双向适配器<a href="#3-考虑双向适配器" class="hash-link" aria-label="Direct link to 3. 考虑双向适配器" title="Direct link to 3. 考虑双向适配器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 双向适配器：可以适配两个不同的接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class TwoWayAdapter implements TargetA, TargetB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private AdapteeA adapteeA;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private AdapteeB adapteeB;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 实现 TargetA 的方法，委托给 AdapteeB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void methodA() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        adapteeB.methodB();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 实现 TargetB 的方法，委托给 AdapteeA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void methodB() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        adapteeA.methodA();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar__9bU" id="4-使用默认适配器抽象适配器">4. 使用默认适配器/抽象适配器<a href="#4-使用默认适配器抽象适配器" class="hash-link" aria-label="Direct link to 4. 使用默认适配器/抽象适配器" title="Direct link to 4. 使用默认适配器/抽象适配器" translate="no">​</a></h3>
<div class="language-java codeBlockContainer_WMw_ theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_wTBs"><pre tabindex="0" class="prism-code language-java codeBlock_Nmz_ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Uft3"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 抽象适配器：为接口提供默认实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 子类只需覆盖需要的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public interface MultiMethodInterface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void method1();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void method2();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void method3();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void method4();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void method5();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * 默认适配器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public abstract class MultiMethodAdapter implements MultiMethodInterface {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method1() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method2() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method3() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method4() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method5() {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用：只覆盖需要的方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MultiMethodInterface impl = new MultiMethodAdapter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void method2() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;只实现 method2&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="与其他模式的关系">与其他模式的关系<a href="#与其他模式的关系" class="hash-link" aria-label="Direct link to 与其他模式的关系" title="Direct link to 与其他模式的关系" translate="no">​</a></h2>
<ul>
<li class=""><strong>适配器 + 工厂</strong> - 工厂可以创建合适的适配器</li>
<li class=""><strong>适配器 + 单例</strong> - 适配器通常是无状态的，可以是单例</li>
<li class=""><strong>适配器 + 策略</strong> - 策略的不同实现可能需要适配器</li>
<li class=""><strong>适配器 + 桥接</strong> - 都涉及接口和实现的分离</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar__9bU" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h2>
<p>适配器模式是一个非常实用的结构型模式：</p>
<ul>
<li class=""><strong>核心思想</strong> - 通过中间层转换接口，使不兼容的类能够协同工作</li>
<li class=""><strong>关键角色</strong> - Target（目标接口）、Adapter（适配器）、Adaptee（被适配者）</li>
<li class=""><strong>两种实现</strong> - 类适配器（继承）vs 对象适配器（组合，推荐）</li>
<li class=""><strong>主要优势</strong> - 提高复用性、解耦、符合开闭原则</li>
<li class=""><strong>实际应用</strong> - 第三方库集成、数据格式转换、版本兼容</li>
</ul>
<blockquote>
<p>[!TIP] &gt; <strong>现代开发建议</strong>：</p>
<ul>
<li class="">优先使用对象适配器</li>
<li class="">保持适配器简单，只做接口转换</li>
<li class="">考虑使用第三方库简化转换（如 Gson、Jackson）</li>
<li class="">如果需要大量适配器，考虑重新设计接口</li>
</ul>
</blockquote>
<p><strong>下一步优化：</strong> <code>decorator-pattern.md</code>（装饰器模式）</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_LFcd"><a href="https://github.com/to-lib/to-lib.github.io/tree/main/docs/java-design-patterns/adapter-pattern.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_cm6n" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_o2CG"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/java-design-patterns/proxy-pattern"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">代理模式 (Proxy Pattern)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/java-design-patterns/decorator-pattern"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">装饰器模式 (Decorator Pattern)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Odgc thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#模式定义" class="table-of-contents__link toc-highlight">模式定义</a></li><li><a href="#问题分析" class="table-of-contents__link toc-highlight">问题分析</a></li><li><a href="#适配器模式的两种实现" class="table-of-contents__link toc-highlight">适配器模式的两种实现</a><ul><li><a href="#1-类适配器class-adapter--继承方式" class="table-of-contents__link toc-highlight">1. 类适配器（Class Adapter）- 继承方式</a></li><li><a href="#2-对象适配器object-adapter--组合方式" class="table-of-contents__link toc-highlight">2. 对象适配器（Object Adapter）- 组合方式</a></li></ul></li><li><a href="#代码实现" class="table-of-contents__link toc-highlight">代码实现</a><ul><li><a href="#场景支付系统集成" class="table-of-contents__link toc-highlight">场景：支付系统集成</a></li></ul></li><li><a href="#类适配器-vs-对象适配器" class="table-of-contents__link toc-highlight">类适配器 vs 对象适配器</a><ul><li><a href="#类适配器实现不推荐" class="table-of-contents__link toc-highlight">类适配器实现（不推荐）</a></li><li><a href="#全面对比" class="table-of-contents__link toc-highlight">全面对比</a></li></ul></li><li><a href="#实际应用示例" class="table-of-contents__link toc-highlight">实际应用示例</a><ul><li><a href="#示例-1日志系统适配" class="table-of-contents__link toc-highlight">示例 1：日志系统适配</a></li><li><a href="#示例-2数据格式适配器" class="table-of-contents__link toc-highlight">示例 2：数据格式适配器</a></li><li><a href="#示例-3数据库驱动适配器" class="table-of-contents__link toc-highlight">示例 3：数据库驱动适配器</a></li></ul></li><li><a href="#java-标准库中的适配器" class="table-of-contents__link toc-highlight">Java 标准库中的适配器</a><ul><li><a href="#1-inputstreamreader" class="table-of-contents__link toc-highlight">1. InputStreamReader</a></li><li><a href="#2-arraysaslist" class="table-of-contents__link toc-highlight">2. Arrays.asList()</a></li><li><a href="#3-collections-包装器" class="table-of-contents__link toc-highlight">3. Collections 包装器</a></li><li><a href="#4-windowadapter" class="table-of-contents__link toc-highlight">4. WindowAdapter</a></li></ul></li><li><a href="#优缺点" class="table-of-contents__link toc-highlight">优缺点</a><ul><li><a href="#优点" class="table-of-contents__link toc-highlight">优点</a></li><li><a href="#缺点" class="table-of-contents__link toc-highlight">缺点</a></li></ul></li><li><a href="#适用场景" class="table-of-contents__link toc-highlight">适用场景</a><ul><li><a href="#何时使用适配器模式" class="table-of-contents__link toc-highlight">何时使用适配器模式</a></li><li><a href="#实际应用场景" class="table-of-contents__link toc-highlight">实际应用场景</a></li></ul></li><li><a href="#适配器-vs-其他模式" class="table-of-contents__link toc-highlight">适配器 vs 其他模式</a><ul><li><a href="#适配器-vs-装饰器" class="table-of-contents__link toc-highlight">适配器 vs 装饰器</a></li><li><a href="#适配器-vs-代理" class="table-of-contents__link toc-highlight">适配器 vs 代理</a></li><li><a href="#适配器-vs-外观" class="table-of-contents__link toc-highlight">适配器 vs 外观</a></li></ul></li><li><a href="#最佳实践" class="table-of-contents__link toc-highlight">最佳实践</a><ul><li><a href="#1-优先使用对象适配器" class="table-of-contents__link toc-highlight">1. 优先使用对象适配器</a></li><li><a href="#2-适配器应该轻量级" class="table-of-contents__link toc-highlight">2. 适配器应该轻量级</a></li><li><a href="#3-考虑双向适配器" class="table-of-contents__link toc-highlight">3. 考虑双向适配器</a></li><li><a href="#4-使用默认适配器抽象适配器" class="table-of-contents__link toc-highlight">4. 使用默认适配器/抽象适配器</a></li></ul></li><li><a href="#与其他模式的关系" class="table-of-contents__link toc-highlight">与其他模式的关系</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">📚 设计模式</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/overview">模式概览</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/singleton-pattern">创建型模式 (5)</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/proxy-pattern">结构型模式 (7)</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/observer-pattern">行为型模式 (11)</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">☕ Java 编程</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/java">Java 概述</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java/basic-syntax">基础语法</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java/collections">集合框架</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java/multithreading">多线程</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java/jvm-basics">JVM 基础</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java/performance">性能优化</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">🦀 Rust 编程</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/rust">Rust 概述</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rust/ownership">所有权系统</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rust/error-handling">错误处理</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/rust/concurrency">并发编程</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">🐧 Linux</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/linux">Linux 概述</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/linux/basic-commands">基础命令</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/linux/permissions">权限管理</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/linux/shell-scripting">Shell 脚本</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">📖 学习资源</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/quick-reference">快速参考</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/best-practices">最佳实践</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/java-design-patterns/selection-guide">选择指南</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">🛠️ 框架应用</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/spring">Spring Framework</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/springboot">Spring Boot</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/springcloud">Spring Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/springcloud-alibaba">Spring Cloud Alibaba</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/netty/overview">Netty</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">🔗 链接</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/to-lib/to-lib.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Cy_U"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/to-lib/to-lib.github.io/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">问题反馈<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_Cy_U"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 to-lib 开发者知识库. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>