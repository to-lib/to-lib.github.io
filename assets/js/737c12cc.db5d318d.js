"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[99820],{17297:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"cpp/environment-setup","title":"\u5f00\u53d1\u73af\u5883\u914d\u7f6e","description":"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u914d\u7f6e C++ \u5f00\u53d1\u73af\u5883\u3002","source":"@site/docs/cpp/environment-setup.md","sourceDirName":"cpp","slug":"/cpp/environment-setup","permalink":"/docs/cpp/environment-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/environment-setup.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"\u5f00\u53d1\u73af\u5883\u914d\u7f6e"},"sidebar":"cpp","previous":{"title":"C++ \u7f16\u7a0b\u6982\u8ff0","permalink":"/docs/cpp/"},"next":{"title":"\u57fa\u7840\u8bed\u6cd5","permalink":"/docs/cpp/basic-syntax"}}');var s=i(22714),d=i(48885);const a={sidebar_position:2,title:"\u5f00\u53d1\u73af\u5883\u914d\u7f6e"},c="C++ \u5f00\u53d1\u73af\u5883\u914d\u7f6e",r={},t=[{value:"\ud83d\udda5\ufe0f \u7f16\u8bd1\u5668\u5b89\u88c5",id:"\ufe0f-\u7f16\u8bd1\u5668\u5b89\u88c5",level:2},{value:"macOS",id:"macos",level:3},{value:"Linux (Ubuntu/Debian)",id:"linux-ubuntudebian",level:3},{value:"Linux (CentOS/RHEL)",id:"linux-centosrhel",level:3},{value:"Windows",id:"windows",level:3},{value:"\u9009\u9879 1: Visual Studio",id:"\u9009\u9879-1-visual-studio",level:4},{value:"\u9009\u9879 2: MinGW-w64",id:"\u9009\u9879-2-mingw-w64",level:4},{value:"\u9009\u9879 3: WSL",id:"\u9009\u9879-3-wsl",level:4},{value:"\ud83d\udee0\ufe0f IDE \u4e0e\u7f16\u8f91\u5668",id:"\ufe0f-ide-\u4e0e\u7f16\u8f91\u5668",level:2},{value:"Visual Studio Code",id:"visual-studio-code",level:3},{value:"CLion",id:"clion",level:3},{value:"Visual Studio (Windows)",id:"visual-studio-windows",level:3},{value:"\ud83d\udce6 \u6784\u5efa\u5de5\u5177",id:"-\u6784\u5efa\u5de5\u5177",level:2},{value:"CMake",id:"cmake",level:3},{value:"Make",id:"make",level:3},{value:"\ud83d\udd27 \u8c03\u8bd5\u5de5\u5177",id:"-\u8c03\u8bd5\u5de5\u5177",level:2},{value:"GDB",id:"gdb",level:3},{value:"LLDB (macOS)",id:"lldb-macos",level:3},{value:"Valgrind",id:"valgrind",level:3},{value:"AddressSanitizer",id:"addresssanitizer",level:3},{value:"\ud83d\udcdd \u7f16\u8f91\u5668\u914d\u7f6e\u6587\u4ef6",id:"-\u7f16\u8f91\u5668\u914d\u7f6e\u6587\u4ef6",level:2},{value:".clang-format",id:"clang-format",level:3},{value:".clang-tidy",id:"clang-tidy",level:3},{value:"\u2705 \u9a8c\u8bc1\u73af\u5883",id:"-\u9a8c\u8bc1\u73af\u5883",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"c-\u5f00\u53d1\u73af\u5883\u914d\u7f6e",children:"C++ \u5f00\u53d1\u73af\u5883\u914d\u7f6e"})}),"\n",(0,s.jsx)(e.p,{children:"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u914d\u7f6e C++ \u5f00\u53d1\u73af\u5883\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-\u7f16\u8bd1\u5668\u5b89\u88c5",children:"\ud83d\udda5\ufe0f \u7f16\u8bd1\u5668\u5b89\u88c5"}),"\n",(0,s.jsx)(e.h3,{id:"macos",children:"macOS"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 Xcode \u547d\u4ee4\u884c\u5de5\u5177\uff08\u5305\u542b clang++\uff09\nxcode-select --install\n\n# \u9a8c\u8bc1\u5b89\u88c5\nclang++ --version\n\n# \u6216\u4f7f\u7528 Homebrew \u5b89\u88c5 GCC\nbrew install gcc\ng++-13 --version\n"})}),"\n",(0,s.jsx)(e.h3,{id:"linux-ubuntudebian",children:"Linux (Ubuntu/Debian)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 GCC/G++\nsudo apt update\nsudo apt install build-essential\n\n# \u9a8c\u8bc1\u5b89\u88c5\ng++ --version\n\n# \u5b89\u88c5 Clang\uff08\u53ef\u9009\uff09\nsudo apt install clang\n"})}),"\n",(0,s.jsx)(e.h3,{id:"linux-centosrhel",children:"Linux (CentOS/RHEL)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# \u5b89\u88c5\u5f00\u53d1\u5de5\u5177\nsudo yum groupinstall "Development Tools"\n\n# \u6216\u4f7f\u7528 dnf\nsudo dnf install gcc-c++\n'})}),"\n",(0,s.jsx)(e.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsx)(e.h4,{id:"\u9009\u9879-1-visual-studio",children:"\u9009\u9879 1: Visual Studio"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4e0b\u8f7d ",(0,s.jsx)(e.a,{href:"https://visualstudio.microsoft.com/",children:"Visual Studio"})]}),"\n",(0,s.jsx)(e.li,{children:'\u5b89\u88c5\u65f6\u9009\u62e9 "Desktop development with C++"'}),"\n",(0,s.jsx)(e.li,{children:"\u4f7f\u7528 Developer Command Prompt \u7f16\u8bd1"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"\u9009\u9879-2-mingw-w64",children:"\u9009\u9879 2: MinGW-w64"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4e0b\u8f7d ",(0,s.jsx)(e.a,{href:"https://www.mingw-w64.org/",children:"MinGW-w64"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u6dfb\u52a0 ",(0,s.jsx)(e.code,{children:"bin"})," \u76ee\u5f55\u5230 PATH"]}),"\n",(0,s.jsxs)(e.li,{children:["\u9a8c\u8bc1\uff1a",(0,s.jsx)(e.code,{children:"g++ --version"})]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"\u9009\u9879-3-wsl",children:"\u9009\u9879 3: WSL"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5728 PowerShell \u4e2d\u5b89\u88c5 WSL\nwsl --install\n\n# \u8fdb\u5165 WSL \u540e\u5b89\u88c5 GCC\nsudo apt install build-essential\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\ufe0f-ide-\u4e0e\u7f16\u8f91\u5668",children:"\ud83d\udee0\ufe0f IDE \u4e0e\u7f16\u8f91\u5668"}),"\n",(0,s.jsx)(e.h3,{id:"visual-studio-code",children:"Visual Studio Code"}),"\n",(0,s.jsx)(e.p,{children:"\u63a8\u8350\u7684\u8f7b\u91cf\u7ea7\u7f16\u8f91\u5668\u914d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5b89\u88c5 VS Code"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5b89\u88c5\u6269\u5c55\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"C/C++"})," (Microsoft)"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"C/C++ Extension Pack"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"CMake Tools"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u521b\u5efa ",(0,s.jsx)(e.code,{children:".vscode/tasks.json"}),"\uff1a"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "version": "2.0.0",\n  "tasks": [\n    {\n      "label": "build",\n      "type": "shell",\n      "command": "g++",\n      "args": [\n        "-std=c++17",\n        "-g",\n        "-Wall",\n        "-Wextra",\n        "${file}",\n        "-o",\n        "${fileDirname}/${fileBasenameNoExtension}"\n      ],\n      "group": {\n        "kind": "build",\n        "isDefault": true\n      }\n    }\n  ]\n}\n'})}),"\n",(0,s.jsxs)(e.ol,{start:"4",children:["\n",(0,s.jsxs)(e.li,{children:["\u521b\u5efa ",(0,s.jsx)(e.code,{children:".vscode/launch.json"}),"\uff08\u8c03\u8bd5\u914d\u7f6e\uff09\uff1a"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Debug",\n      "type": "cppdbg",\n      "request": "launch",\n      "program": "${fileDirname}/${fileBasenameNoExtension}",\n      "args": [],\n      "stopAtEntry": false,\n      "cwd": "${workspaceFolder}",\n      "environment": [],\n      "externalConsole": false,\n      "MIMode": "gdb"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"clion",children:"CLion"}),"\n",(0,s.jsx)(e.p,{children:"JetBrains \u51fa\u54c1\u7684\u4e13\u4e1a C++ IDE\uff1a"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4e0b\u8f7d\u5b89\u88c5 ",(0,s.jsx)(e.a,{href:"https://www.jetbrains.com/clion/",children:"CLion"})]}),"\n",(0,s.jsx)(e.li,{children:"\u914d\u7f6e\u5de5\u5177\u94fe\uff08\u81ea\u52a8\u68c0\u6d4b\u6216\u624b\u52a8\u6307\u5b9a\u7f16\u8bd1\u5668\u8def\u5f84\uff09"}),"\n",(0,s.jsx)(e.li,{children:"\u4f7f\u7528 CMake \u7ba1\u7406\u9879\u76ee"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"visual-studio-windows",children:"Visual Studio (Windows)"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u521b\u5efa\u65b0\u9879\u76ee \u2192 Console App (C++)"}),"\n",(0,s.jsx)(e.li,{children:"\u7f16\u5199\u4ee3\u7801"}),"\n",(0,s.jsx)(e.li,{children:"F5 \u8fd0\u884c/\u8c03\u8bd5"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"-\u6784\u5efa\u5de5\u5177",children:"\ud83d\udce6 \u6784\u5efa\u5de5\u5177"}),"\n",(0,s.jsx)(e.h3,{id:"cmake",children:"CMake"}),"\n",(0,s.jsx)(e.p,{children:"\u8de8\u5e73\u53f0\u6784\u5efa\u7cfb\u7edf\uff0c\u5f3a\u70c8\u63a8\u8350\u4f7f\u7528\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5\n# macOS\nbrew install cmake\n\n# Ubuntu\nsudo apt install cmake\n\n# Windows\n# \u4e0b\u8f7d\u5b89\u88c5\u5305\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u57fa\u672c ",(0,s.jsx)(e.code,{children:"CMakeLists.txt"}),"\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.16)\nproject(MyProject)\n\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\n# \u6dfb\u52a0\u53ef\u6267\u884c\u6587\u4ef6\nadd_executable(main main.cpp)\n\n# \u6dfb\u52a0\u7f16\u8bd1\u8b66\u544a\ntarget_compile_options(main PRIVATE -Wall -Wextra)\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u6784\u5efa\u9879\u76ee\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mkdir build && cd build\ncmake ..\nmake\n./main\n"})}),"\n",(0,s.jsx)(e.h3,{id:"make",children:"Make"}),"\n",(0,s.jsxs)(e.p,{children:["\u4f20\u7edf\u6784\u5efa\u5de5\u5177\uff0c",(0,s.jsx)(e.code,{children:"Makefile"})," \u793a\u4f8b\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-makefile",children:"CXX = g++\nCXXFLAGS = -std=c++17 -Wall -Wextra -g\n\nTARGET = main\nSRCS = main.cpp utils.cpp\nOBJS = $(SRCS:.cpp=.o)\n\n$(TARGET): $(OBJS)\n\t$(CXX) $(CXXFLAGS) -o $@ $^\n\n%.o: %.cpp\n\t$(CXX) $(CXXFLAGS) -c $< -o $@\n\nclean:\n\trm -f $(OBJS) $(TARGET)\n\n.PHONY: clean\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u8c03\u8bd5\u5de5\u5177",children:"\ud83d\udd27 \u8c03\u8bd5\u5de5\u5177"}),"\n",(0,s.jsx)(e.h3,{id:"gdb",children:"GDB"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 (Ubuntu)\nsudo apt install gdb\n\n# \u7f16\u8bd1\u5e26\u8c03\u8bd5\u4fe1\u606f\ng++ -g main.cpp -o main\n\n# \u542f\u52a8\u8c03\u8bd5\ngdb ./main\n\n# \u5e38\u7528\u547d\u4ee4\n# break main    - \u5728 main \u51fd\u6570\u8bbe\u7f6e\u65ad\u70b9\n# run           - \u8fd0\u884c\u7a0b\u5e8f\n# next (n)      - \u4e0b\u4e00\u884c\n# step (s)      - \u8fdb\u5165\u51fd\u6570\n# print var     - \u6253\u5370\u53d8\u91cf\n# backtrace     - \u67e5\u770b\u8c03\u7528\u6808\n# continue (c)  - \u7ee7\u7eed\u8fd0\u884c\n# quit          - \u9000\u51fa\n"})}),"\n",(0,s.jsx)(e.h3,{id:"lldb-macos",children:"LLDB (macOS)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"lldb ./main\n\n# \u547d\u4ee4\u4e0e GDB \u7c7b\u4f3c\n# breakpoint set --name main\n# run\n# next\n# step\n# print var\n"})}),"\n",(0,s.jsx)(e.h3,{id:"valgrind",children:"Valgrind"}),"\n",(0,s.jsx)(e.p,{children:"\u5185\u5b58\u68c0\u6d4b\u5de5\u5177\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5 (Ubuntu)\nsudo apt install valgrind\n\n# \u68c0\u6d4b\u5185\u5b58\u6cc4\u6f0f\nvalgrind --leak-check=full ./main\n"})}),"\n",(0,s.jsx)(e.h3,{id:"addresssanitizer",children:"AddressSanitizer"}),"\n",(0,s.jsx)(e.p,{children:"\u7f16\u8bd1\u65f6\u5185\u5b58\u68c0\u6d4b\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"g++ -fsanitize=address -g main.cpp -o main\n./main\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u7f16\u8f91\u5668\u914d\u7f6e\u6587\u4ef6",children:"\ud83d\udcdd \u7f16\u8f91\u5668\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsx)(e.h3,{id:"clang-format",children:".clang-format"}),"\n",(0,s.jsx)(e.p,{children:"\u4ee3\u7801\u683c\u5f0f\u5316\u914d\u7f6e\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"BasedOnStyle: Google\nIndentWidth: 4\nColumnLimit: 100\nAllowShortFunctionsOnASingleLine: Empty\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4f7f\u7528\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"clang-format -i main.cpp\n"})}),"\n",(0,s.jsx)(e.h3,{id:"clang-tidy",children:".clang-tidy"}),"\n",(0,s.jsx)(e.p,{children:"\u9759\u6001\u5206\u6790\u914d\u7f6e\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'Checks: "clang-analyzer-*,modernize-*,performance-*"\nWarningsAsErrors: ""\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\u9a8c\u8bc1\u73af\u5883",children:"\u2705 \u9a8c\u8bc1\u73af\u5883"}),"\n",(0,s.jsxs)(e.p,{children:["\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6 ",(0,s.jsx)(e.code,{children:"test.cpp"}),"\uff1a"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <vector>\n#include <string>\n\nint main() {\n    std::vector<std::string> items = {"C++17", "\u5df2\u5c31\u7eea", "\ud83c\udf89"};\n\n    for (const auto& item : items) {\n        std::cout << item << " ";\n    }\n    std::cout << std::endl;\n\n    // C++17 \u7279\u6027\u6d4b\u8bd5\n    if (auto x = 42; x > 0) {\n        std::cout << "C++17 if-init \u8bed\u6cd5\u6b63\u5e38" << std::endl;\n    }\n\n    return 0;\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u7f16\u8bd1\u8fd0\u884c\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"g++ -std=c++17 test.cpp -o test && ./test\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u8f93\u51fa\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"C++17 \u5df2\u5c31\u7eea \ud83c\udf89\nC++17 if-init \u8bed\u6cd5\u6b63\u5e38\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u73af\u5883\u914d\u7f6e\u5b8c\u6210\uff01\ud83d\ude80"})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},48885:(n,e,i)=>{i.d(e,{R:()=>a,x:()=>c});var l=i(99378);const s={},d=l.createContext(s);function a(n){const e=l.useContext(d);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),l.createElement(d.Provider,{value:e},n.children)}}}]);