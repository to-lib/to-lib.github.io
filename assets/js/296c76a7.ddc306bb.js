"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[60310],{16178:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"java/build-tools","title":"Maven/Gradle \u6784\u5efa\u4e0e\u7f16\u8bd1\uff08JDK 1.8\uff09","description":"[!IMPORTANT]","source":"@site/docs/java/build-tools.md","sourceDirName":"java","slug":"/java/build-tools","permalink":"/docs/java/build-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/java/build-tools.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Maven/Gradle \u6784\u5efa\u4e0e\u7f16\u8bd1\uff08JDK 1.8\uff09"},"sidebar":"java","previous":{"title":"JDK 1.8 \u5f00\u53d1\u73af\u5883\u642d\u5efa","permalink":"/docs/java/environment-setup"},"next":{"title":"Java \u57fa\u7840\u8bed\u6cd5","permalink":"/docs/java/basic-syntax"}}');var l=r(22714),a=r(48885);const s={sidebar_position:3,title:"Maven/Gradle \u6784\u5efa\u4e0e\u7f16\u8bd1\uff08JDK 1.8\uff09"},o="Maven/Gradle \u6784\u5efa\u4e0e\u7f16\u8bd1\uff08JDK 1.8\uff09",d={},c=[{value:"\u4f60\u9700\u8981\u7edf\u4e00\u7684\u201cJava \u7248\u672c\u201d\u5230\u5e95\u662f\u4ec0\u4e48",id:"\u4f60\u9700\u8981\u7edf\u4e00\u7684java-\u7248\u672c\u5230\u5e95\u662f\u4ec0\u4e48",level:2},{value:"Maven\uff08\u63a8\u8350\uff1a\u56fa\u5b9a source/target=1.8\uff09",id:"maven\u63a8\u8350\u56fa\u5b9a-sourcetarget18",level:2},{value:"\u6700\u5c0f\u53ef\u7528\u914d\u7f6e\uff1amaven-compiler-plugin",id:"\u6700\u5c0f\u53ef\u7528\u914d\u7f6emaven-compiler-plugin",level:3},{value:"\u8ba9 CI / \u56e2\u961f\u66f4\u4e00\u81f4\uff1aMaven Wrapper",id:"\u8ba9-ci--\u56e2\u961f\u66f4\u4e00\u81f4maven-wrapper",level:3},{value:"Gradle\uff08\u56fa\u5b9a sourceCompatibility=1.8\uff09",id:"gradle\u56fa\u5b9a-sourcecompatibility18",level:2},{value:"Groovy DSL\uff08build.gradle\uff09",id:"groovy-dslbuildgradle",level:3},{value:"Kotlin DSL\uff08build.gradle.kts\uff09",id:"kotlin-dslbuildgradlekts",level:3},{value:"Gradle Wrapper\uff08\u5f3a\u70c8\u5efa\u8bae\uff09",id:"gradle-wrapper\u5f3a\u70c8\u5efa\u8bae",level:3},{value:"\u6253\u5305\uff08Jar\uff09",id:"\u6253\u5305jar",level:2},{value:"Maven \u6253\u666e\u901a Jar",id:"maven-\u6253\u666e\u901a-jar",level:3},{value:"Maven \u6253\u53ef\u6267\u884c Fat Jar\uff08Shade Plugin\uff09",id:"maven-\u6253\u53ef\u6267\u884c-fat-jarshade-plugin",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u6392\u67e5",id:"\u5e38\u89c1\u95ee\u9898\u6392\u67e5",level:2},{value:"1) Unsupported major.minor version / Unsupported class file major version",id:"1-unsupported-majorminor-version--unsupported-class-file-major-version",level:3},{value:"2) \u7f16\u8bd1\u901a\u8fc7\u4f46\u7ebf\u4e0a\u5f02\u5e38\uff1a\u4f9d\u8d56\u4e0e\u8fd0\u884c\u65f6 JDK \u4e0d\u517c\u5bb9",id:"2-\u7f16\u8bd1\u901a\u8fc7\u4f46\u7ebf\u4e0a\u5f02\u5e38\u4f9d\u8d56\u4e0e\u8fd0\u884c\u65f6-jdk-\u4e0d\u517c\u5bb9",level:3},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:2}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"mavengradle-\u6784\u5efa\u4e0e\u7f16\u8bd1jdk-18",children:"Maven/Gradle \u6784\u5efa\u4e0e\u7f16\u8bd1\uff08JDK 1.8\uff09"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["[!IMPORTANT]\n\u672c\u76ee\u5f55\u9ed8\u8ba4\u4ee5 ",(0,l.jsx)(n.strong,{children:"JDK 1.8 (Java 8)"})," \u4e3a\u57fa\u7ebf\u3002\u672c\u9875\u91cd\u70b9\u662f\u8ba9\u4f60\u7684\u9879\u76ee\u5728\u672c\u5730/CI \u4e0a\u80fd\u591f\u7a33\u5b9a\u5730\u4ee5 Java 8 \u7f16\u8bd1\u3001\u6d4b\u8bd5\u3001\u6253\u5305\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4f60\u9700\u8981\u7edf\u4e00\u7684java-\u7248\u672c\u5230\u5e95\u662f\u4ec0\u4e48",children:"\u4f60\u9700\u8981\u7edf\u4e00\u7684\u201cJava \u7248\u672c\u201d\u5230\u5e95\u662f\u4ec0\u4e48"}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u5de5\u7a0b\u5316\u573a\u666f\u4e2d\uff0c\u901a\u5e38\u8981\u540c\u65f6\u7ea6\u675f\u4e09\u4ef6\u4e8b\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"JDK \u8fd0\u884c\u7248\u672c"}),"\uff1a\u4f60\u7528\u4ec0\u4e48\u7248\u672c\u7684 ",(0,l.jsx)(n.code,{children:"java/javac"})," \u6765\u7f16\u8bd1\uff08\u4f8b\u5982 JDK 8\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6e90\u7801\u7ea7\u522b\uff08source\uff09"}),"\uff1a\u4f60\u5199\u7684\u8bed\u6cd5\u4e0a\u9650\uff08\u4f8b\u5982 ",(0,l.jsx)(n.code,{children:"1.8"}),"\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5b57\u8282\u7801\u7ea7\u522b\uff08target\uff09"}),"\uff1a\u7f16\u8bd1\u4ea7\u7269\u80fd\u5728\u4ec0\u4e48 JRE \u4e0a\u8fd0\u884c\uff08\u4f8b\u5982 ",(0,l.jsx)(n.code,{children:"1.8"}),"\uff09"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u53ea\u8981 ",(0,l.jsx)(n.code,{children:"target=1.8"}),"\uff0c\u4ea7\u7269\u539f\u5219\u4e0a\u5c31\u80fd\u5728 Java 8 \u8fd0\u884c\u65f6\u8fd0\u884c\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"maven\u63a8\u8350\u56fa\u5b9a-sourcetarget18",children:"Maven\uff08\u63a8\u8350\uff1a\u56fa\u5b9a source/target=1.8\uff09"}),"\n",(0,l.jsx)(n.h3,{id:"\u6700\u5c0f\u53ef\u7528\u914d\u7f6emaven-compiler-plugin",children:"\u6700\u5c0f\u53ef\u7528\u914d\u7f6e\uff1amaven-compiler-plugin"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 ",(0,l.jsx)(n.code,{children:"pom.xml"})," \u4e2d\u589e\u52a0\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:"<properties>\n    <maven.compiler.source>1.8</maven.compiler.source>\n    <maven.compiler.target>1.8</maven.compiler.target>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n</properties>\n\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.apache.maven.plugins</groupId>\n            <artifactId>maven-compiler-plugin</artifactId>\n            <version>3.11.0</version>\n            <configuration>\n                <source>${maven.compiler.source}</source>\n                <target>${maven.compiler.target}</target>\n                <encoding>${project.build.sourceEncoding}</encoding>\n            </configuration>\n        </plugin>\n    </plugins>\n</build>\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8ba9-ci--\u56e2\u961f\u66f4\u4e00\u81f4maven-wrapper",children:"\u8ba9 CI / \u56e2\u961f\u66f4\u4e00\u81f4\uff1aMaven Wrapper"}),"\n",(0,l.jsx)(n.p,{children:"\u5efa\u8bae\u4e3a\u9879\u76ee\u751f\u6210 wrapper\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mvn -N -q wrapper:wrapper"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u751f\u6210\u540e\u4f7f\u7528\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"./mvnw -v"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"./mvnw clean test"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"gradle\u56fa\u5b9a-sourcecompatibility18",children:"Gradle\uff08\u56fa\u5b9a sourceCompatibility=1.8\uff09"}),"\n",(0,l.jsx)(n.h3,{id:"groovy-dslbuildgradle",children:"Groovy DSL\uff08build.gradle\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-groovy",children:"plugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0.0'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"kotlin-dslbuildgradlekts",children:"Kotlin DSL\uff08build.gradle.kts\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-kotlin",children:'plugins {\n    java\n}\n\ngroup = "com.example"\nversion = "1.0.0"\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ntasks.withType<JavaCompile> {\n    options.encoding = "UTF-8"\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"gradle-wrapper\u5f3a\u70c8\u5efa\u8bae",children:"Gradle Wrapper\uff08\u5f3a\u70c8\u5efa\u8bae\uff09"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"gradle wrapper"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u7136\u540e\u5728\u56e2\u961f/CI \u4e2d\u7edf\u4e00\u7528\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"./gradlew test"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"./gradlew build"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u6253\u5305jar",children:"\u6253\u5305\uff08Jar\uff09"}),"\n",(0,l.jsx)(n.h3,{id:"maven-\u6253\u666e\u901a-jar",children:"Maven \u6253\u666e\u901a Jar"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"mvn clean package"})}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u4ea7\u7269\u901a\u5e38\u5728\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"target/*.jar"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"maven-\u6253\u53ef\u6267\u884c-fat-jarshade-plugin",children:"Maven \u6253\u53ef\u6267\u884c Fat Jar\uff08Shade Plugin\uff09"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u4f60\u9700\u8981\u628a\u4f9d\u8d56\u4e00\u8d77\u6253\u8fdb jar\uff08\u5e38\u89c1\u4e8e\u547d\u4ee4\u884c\u5de5\u5177/\u7b80\u5355\u670d\u52a1\uff09\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-shade-plugin</artifactId>\n    <version>3.5.0</version>\n    <executions>\n        <execution>\n            <phase>package</phase>\n            <goals>\n                <goal>shade</goal>\n            </goals>\n            <configuration>\n                <transformers>\n                    <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">\n                        <mainClass>com.example.Main</mainClass>\n                    </transformer>\n                </transformers>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n'})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsxs)(n.p,{children:["[!TIP]\n",(0,l.jsx)(n.code,{children:"mainClass"})," \u9700\u8981\u66ff\u6362\u4e3a\u4f60\u7684\u7a0b\u5e8f\u5165\u53e3\u7c7b\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898\u6392\u67e5",children:"\u5e38\u89c1\u95ee\u9898\u6392\u67e5"}),"\n",(0,l.jsx)(n.h3,{id:"1-unsupported-majorminor-version--unsupported-class-file-major-version",children:"1) Unsupported major.minor version / Unsupported class file major version"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u73b0\u8c61"}),"\uff1a\u8fd0\u884c\u65f6\u62a5 \u201cUnsupported major.minor version\u201d \u6216 \u201cUnsupported class file major version xx\u201d"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u539f\u56e0"}),"\uff1a\u4f60\u7528\u66f4\u9ad8\u7248\u672c JDK \u7f16\u8bd1\u51fa\u4e86\u66f4\u9ad8\u5b57\u8282\u7801\u7248\u672c\uff0c\u4f46\u8fd0\u884c\u65f6\u8fd8\u662f Java 8"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5904\u7406"}),"\uff1a\u786e\u4fdd\u6784\u5efa\u914d\u7f6e ",(0,l.jsx)(n.code,{children:"target=1.8"}),"\uff08\u6216 Gradle \u7684 ",(0,l.jsx)(n.code,{children:"targetCompatibility=1.8"}),"\uff09\uff0c\u5e76\u68c0\u67e5 CI \u7684 JDK \u7248\u672c"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"2-\u7f16\u8bd1\u901a\u8fc7\u4f46\u7ebf\u4e0a\u5f02\u5e38\u4f9d\u8d56\u4e0e\u8fd0\u884c\u65f6-jdk-\u4e0d\u517c\u5bb9",children:"2) \u7f16\u8bd1\u901a\u8fc7\u4f46\u7ebf\u4e0a\u5f02\u5e38\uff1a\u4f9d\u8d56\u4e0e\u8fd0\u884c\u65f6 JDK \u4e0d\u517c\u5bb9"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u73b0\u8c61"}),"\uff1a\u4f9d\u8d56\u91cc\u4f7f\u7528\u4e86\u66f4\u9ad8\u7248\u672c JDK \u624d\u6709\u7684 API\uff08\u4f8b\u5982 ",(0,l.jsx)(n.code,{children:"HttpClient"})," \u662f JDK 11+\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5904\u7406"}),"\uff1a\u5bf9\u5916\u53d1\u5e03/\u8fd0\u884c\u5728 Java 8 \u7684\u9879\u76ee\uff0c\u4f9d\u8d56\u9009\u62e9\u8981\u4fdd\u8bc1 Java 8 \u517c\u5bb9\uff1b\u65b0\u7279\u6027\u5efa\u8bae\u901a\u8fc7\u201c\u591a\u6a21\u5757/\u591a\u7248\u672c\u201d\u65b9\u5f0f\u9694\u79bb"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,l.jsx)(n.p,{children:"\u5b8c\u6210\u6784\u5efa\u914d\u7f6e\u540e\uff0c\u5efa\u8bae\u7ee7\u7eed\u9605\u8bfb\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/java/environment-setup",children:"\u5f00\u53d1\u73af\u5883\u642d\u5efa"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/java/best-practices",children:"Java \u6700\u4f73\u5b9e\u8df5"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/docs/java/quick-reference",children:"Java \u5feb\u901f\u53c2\u8003"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},48885:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var i=r(99378);const l={},a=i.createContext(l);function s(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);