"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[2410],{42221:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"react/conditional-rendering","title":"\u6761\u4ef6\u6e32\u67d3","description":"[!TIP]","source":"@site/docs/react/conditional-rendering.md","sourceDirName":"react","slug":"/react/conditional-rendering","permalink":"/docs/react/conditional-rendering","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/react/conditional-rendering.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"\u6761\u4ef6\u6e32\u67d3"},"sidebar":"react","previous":{"title":"\u4e8b\u4ef6\u5904\u7406","permalink":"/docs/react/event-handling"},"next":{"title":"\u5217\u8868\u548c Keys","permalink":"/docs/react/lists-and-keys"}}');var i=r(22714),t=r(48885);const d={sidebar_position:8,title:"\u6761\u4ef6\u6e32\u67d3"},a="\u6761\u4ef6\u6e32\u67d3",l={},o=[{value:"\ud83c\udfaf \u57fa\u7840\u65b9\u6cd5",id:"-\u57fa\u7840\u65b9\u6cd5",level:2},{value:"if \u8bed\u53e5",id:"if-\u8bed\u53e5",level:3},{value:"\u5143\u7d20\u53d8\u91cf",id:"\u5143\u7d20\u53d8\u91cf",level:3},{value:"\u26a1 \u5e38\u7528\u65b9\u6cd5",id:"-\u5e38\u7528\u65b9\u6cd5",level:2},{value:"\u4e09\u5143\u8fd0\u7b97\u7b26",id:"\u4e09\u5143\u8fd0\u7b97\u7b26",level:3},{value:"\u903b\u8f91\u4e0e &amp;&amp;",id:"\u903b\u8f91\u4e0e-",level:3},{value:"\u903b\u8f91\u6216 ||",id:"\u903b\u8f91\u6216-",level:3},{value:"\ud83d\udd04 \u591a\u6761\u4ef6\u6e32\u67d3",id:"-\u591a\u6761\u4ef6\u6e32\u67d3",level:2},{value:"Switch \u8bed\u53e5",id:"switch-\u8bed\u53e5",level:3},{value:"\u5bf9\u8c61\u6620\u5c04",id:"\u5bf9\u8c61\u6620\u5c04",level:3},{value:"\u679a\u4e3e\u5bf9\u8c61",id:"\u679a\u4e3e\u5bf9\u8c61",level:3},{value:"\ud83c\udfa8 \u6e32\u67d3\u5217\u8868\u4e2d\u7684\u6761\u4ef6",id:"-\u6e32\u67d3\u5217\u8868\u4e2d\u7684\u6761\u4ef6",level:2},{value:"\u8fc7\u6ee4\u6570\u7ec4",id:"\u8fc7\u6ee4\u6570\u7ec4",level:3},{value:"\u6761\u4ef6\u6837\u5f0f",id:"\u6761\u4ef6\u6837\u5f0f",level:3},{value:"\ud83d\udeab \u963b\u6b62\u6e32\u67d3",id:"-\u963b\u6b62\u6e32\u67d3",level:2},{value:"\u8fd4\u56de null",id:"\u8fd4\u56de-null",level:3},{value:"\u6761\u4ef6\u5305\u88c5\u5668",id:"\u6761\u4ef6\u5305\u88c5\u5668",level:3},{value:"\ud83d\udca1 \u9ad8\u7ea7\u6a21\u5f0f",id:"-\u9ad8\u7ea7\u6a21\u5f0f",level:2},{value:"\u6e32\u67d3\u51fd\u6570",id:"\u6e32\u67d3\u51fd\u6570",level:3},{value:"\u77ed\u8def\u6e32\u67d3",id:"\u77ed\u8def\u6e32\u67d3",level:3},{value:"\u65e9\u671f\u8fd4\u56de",id:"\u65e9\u671f\u8fd4\u56de",level:3},{value:"\u26a0\ufe0f \u5e38\u89c1\u9677\u9631",id:"\ufe0f-\u5e38\u89c1\u9677\u9631",level:2},{value:"\u907f\u514d\u4f7f\u7528 0",id:"\u907f\u514d\u4f7f\u7528-0",level:3},{value:"\u907f\u514d\u590d\u6742\u5d4c\u5957",id:"\u907f\u514d\u590d\u6742\u5d4c\u5957",level:3},{value:"\ud83d\udcd6 \u5b9e\u7528\u793a\u4f8b",id:"-\u5b9e\u7528\u793a\u4f8b",level:2},{value:"\u6743\u9650\u63a7\u5236",id:"\u6743\u9650\u63a7\u5236",level:3},{value:"\u52a0\u8f7d\u72b6\u6001",id:"\u52a0\u8f7d\u72b6\u6001",level:3},{value:"\u7a7a\u72b6\u6001",id:"\u7a7a\u72b6\u6001",level:3},{value:"\u54cd\u5e94\u5f0f\u6e32\u67d3",id:"\u54cd\u5e94\u5f0f\u6e32\u67d3",level:3},{value:"\u529f\u80fd\u5f00\u5173",id:"\u529f\u80fd\u5f00\u5173",level:3}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u6761\u4ef6\u6e32\u67d3",children:"\u6761\u4ef6\u6e32\u67d3"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"[!TIP]\n\u6761\u4ef6\u6e32\u67d3\u8ba9\u4f60\u6839\u636e\u4e0d\u540c\u7684\u6761\u4ef6\u663e\u793a\u4e0d\u540c\u7684\u5185\u5bb9\uff0cReact \u63d0\u4f9b\u4e86\u591a\u79cd\u65b9\u5f0f\u5b9e\u73b0\u6761\u4ef6\u6e32\u67d3\u3002"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"-\u57fa\u7840\u65b9\u6cd5",children:"\ud83c\udfaf \u57fa\u7840\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.h3,{id:"if-\u8bed\u53e5",children:"if \u8bed\u53e5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"function Greeting({ isLoggedIn }) {\n  if (isLoggedIn) {\n    return <h1>Welcome back!</h1>;\n  }\n  return <h1>Please sign in.</h1>;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u5143\u7d20\u53d8\u91cf",children:"\u5143\u7d20\u53d8\u91cf"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"function LoginButton({ isLoggedIn, onLogin, onLogout }) {\n  let button;\n\n  if (isLoggedIn) {\n    button = <button onClick={onLogout}>Logout</button>;\n  } else {\n    button = <button onClick={onLogin}>Login</button>;\n  }\n\n  return <div>{button}</div>;\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"-\u5e38\u7528\u65b9\u6cd5",children:"\u26a1 \u5e38\u7528\u65b9\u6cd5"}),"\n",(0,i.jsx)(e.h3,{id:"\u4e09\u5143\u8fd0\u7b97\u7b26",children:"\u4e09\u5143\u8fd0\u7b97\u7b26"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function Greeting({ isLoggedIn }) {\n  return (\n    <div>{isLoggedIn ? <h1>Welcome back!</h1> : <h1>Please sign in.</h1>}</div>\n  );\n}\n\n// \u5185\u8054\u6837\u5f0f\nfunction Badge({ count }) {\n  return (\n    <span className={count > 0 ? "badge-active" : "badge-inactive"}>\n      {count}\n    </span>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u903b\u8f91\u4e0e-",children:"\u903b\u8f91\u4e0e &&"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function Inbox({ unreadCount }) {\n  return (\n    <div>\n      <h1>Messages</h1>\n      {unreadCount > 0 && <p>You have {unreadCount} unread messages.</p>}\n    </div>\n  );\n}\n\n// \u591a\u4e2a\u6761\u4ef6\nfunction UserProfile({ user, isAdmin }) {\n  return (\n    <div>\n      <h2>{user.name}</h2>\n      {user.email && <p>Email: {user.email}</p>}\n      {user.phone && <p>Phone: {user.phone}</p>}\n      {isAdmin && <span className="admin-badge">Admin</span>}\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u903b\u8f91\u6216-",children:"\u903b\u8f91\u6216 ||"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function UserName({ user }) {\n  return <h1>{user.name || "Guest"}</h1>;\n}\n\n// \u7a7a\u503c\u5408\u5e76\nfunction UserAge({ user }) {\n  return <p>Age: {user.age ?? "Unknown"}</p>;\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-\u591a\u6761\u4ef6\u6e32\u67d3",children:"\ud83d\udd04 \u591a\u6761\u4ef6\u6e32\u67d3"}),"\n",(0,i.jsx)(e.h3,{id:"switch-\u8bed\u53e5",children:"Switch \u8bed\u53e5"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function StatusMessage({ status }) {\n  let message;\n\n  switch (status) {\n    case "loading":\n      message = <p>Loading...</p>;\n      break;\n    case "success":\n      message = <p className="success">Success!</p>;\n      break;\n    case "error":\n      message = <p className="error">Error occurred</p>;\n      break;\n    default:\n      message = <p>Ready</p>;\n  }\n\n  return <div>{message}</div>;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u5bf9\u8c61\u6620\u5c04",children:"\u5bf9\u8c61\u6620\u5c04"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function StatusMessage({ status }) {\n  const messages = {\n    loading: <p>Loading...</p>,\n    success: <p className="success">Success!</p>,\n    error: <p className="error">Error occurred</p>,\n    idle: <p>Ready</p>,\n  };\n\n  return <div>{messages[status] || messages.idle}</div>;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u679a\u4e3e\u5bf9\u8c61",children:"\u679a\u4e3e\u5bf9\u8c61"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'const STATUS = {\n  LOADING: "loading",\n  SUCCESS: "success",\n  ERROR: "error",\n};\n\nfunction StatusMessage({ status }) {\n  const renderMessage = () => {\n    switch (status) {\n      case STATUS.LOADING:\n        return <LoadingSpinner />;\n      case STATUS.SUCCESS:\n        return <SuccessIcon />;\n      case STATUS.ERROR:\n        return <ErrorMessage />;\n      default:\n        return null;\n    }\n  };\n\n  return <div>{renderMessage()}</div>;\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-\u6e32\u67d3\u5217\u8868\u4e2d\u7684\u6761\u4ef6",children:"\ud83c\udfa8 \u6e32\u67d3\u5217\u8868\u4e2d\u7684\u6761\u4ef6"}),"\n",(0,i.jsx)(e.h3,{id:"\u8fc7\u6ee4\u6570\u7ec4",children:"\u8fc7\u6ee4\u6570\u7ec4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function TodoList({ todos, filter }) {\n  const filteredTodos = todos.filter((todo) => {\n    if (filter === "active") return !todo.completed;\n    if (filter === "completed") return todo.completed;\n    return true; // \'all\'\n  });\n\n  return (\n    <ul>\n      {filteredTodos.map((todo) => (\n        <li key={todo.id}>{todo.text}</li>\n      ))}\n    </ul>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u6761\u4ef6\u6837\u5f0f",children:"\u6761\u4ef6\u6837\u5f0f"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function TodoItem({ todo }) {\n  return (\n    <li\n      className={todo.completed ? "completed" : "active"}\n      style={{\n        textDecoration: todo.completed ? "line-through" : "none",\n        color: todo.urgent ? "red" : "black",\n      }}\n    >\n      {todo.text}\n    </li>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-\u963b\u6b62\u6e32\u67d3",children:"\ud83d\udeab \u963b\u6b62\u6e32\u67d3"}),"\n",(0,i.jsx)(e.h3,{id:"\u8fd4\u56de-null",children:"\u8fd4\u56de null"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function WarningBanner({ warn }) {\n  if (!warn) {\n    return null; // \u4e0d\u6e32\u67d3\u4efb\u4f55\u5185\u5bb9\n  }\n\n  return <div className="warning">Warning!</div>;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u6761\u4ef6\u5305\u88c5\u5668",children:"\u6761\u4ef6\u5305\u88c5\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function ConditionalWrapper({ condition, wrapper, children }) {\n  return condition ? wrapper(children) : children;\n}\n\n// \u4f7f\u7528\n<ConditionalWrapper\n  condition={isHighlighted}\n  wrapper={(children) => <div className="highlight">{children}</div>}\n>\n  <p>Content</p>\n</ConditionalWrapper>;\n'})}),"\n",(0,i.jsx)(e.h2,{id:"-\u9ad8\u7ea7\u6a21\u5f0f",children:"\ud83d\udca1 \u9ad8\u7ea7\u6a21\u5f0f"}),"\n",(0,i.jsx)(e.h3,{id:"\u6e32\u67d3\u51fd\u6570",children:"\u6e32\u67d3\u51fd\u6570"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"function DataDisplay({ data, renderLoading, renderError, renderData }) {\n  if (data.loading) return renderLoading();\n  if (data.error) return renderError(data.error);\n  return renderData(data.result);\n}\n\n// \u4f7f\u7528\n<DataDisplay\n  data={userData}\n  renderLoading={() => <Spinner />}\n  renderError={(error) => <ErrorMessage error={error} />}\n  renderData={(data) => <UserProfile user={data} />}\n/>;\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u77ed\u8def\u6e32\u67d3",children:"\u77ed\u8def\u6e32\u67d3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function Component({ user }) {\n  return (\n    <div>\n      {/* \u53ea\u6709 user \u5b58\u5728\u624d\u6e32\u67d3 */}\n      {user && (\n        <>\n          <h2>{user.name}</h2>\n          <p>{user.email}</p>\n        </>\n      )}\n\n      {/* \u5d4c\u5957\u6761\u4ef6 */}\n      {user && user.isPremium && <span className="premium-badge">Premium</span>}\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u65e9\u671f\u8fd4\u56de",children:"\u65e9\u671f\u8fd4\u56de"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"function UserProfile({ user }) {\n  // \u65e9\u671f\u8fd4\u56de\u5904\u7406\u7279\u6b8a\u60c5\u51b5\n  if (!user) {\n    return <div>No user found</div>;\n  }\n\n  if (user.isBlocked) {\n    return <div>User is blocked</div>;\n  }\n\n  // \u6b63\u5e38\u6e32\u67d3\n  return (\n    <div>\n      <h2>{user.name}</h2>\n      <p>{user.email}</p>\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\ufe0f-\u5e38\u89c1\u9677\u9631",children:"\u26a0\ufe0f \u5e38\u89c1\u9677\u9631"}),"\n",(0,i.jsx)(e.h3,{id:"\u907f\u514d\u4f7f\u7528-0",children:"\u907f\u514d\u4f7f\u7528 0"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'// \u2717 \u95ee\u9898 - \u4f1a\u6e32\u67d3 "0"\nfunction Component({ count }) {\n  return <div>{count && <p>Count: {count}</p>}</div>;\n}\n\n// \u2713 \u6b63\u786e\nfunction Component({ count }) {\n  return (\n    <div>\n      {count > 0 && <p>Count: {count}</p>}\n      {/* \u6216 */}\n      {!!count && <p>Count: {count}</p>}\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u907f\u514d\u590d\u6742\u5d4c\u5957",children:"\u907f\u514d\u590d\u6742\u5d4c\u5957"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"// \u2717 \u4e0d\u597d - \u5d4c\u5957\u592a\u6df1\n{\n  isLoggedIn ? isAdmin ? <AdminPanel /> : <UserPanel /> : <LoginForm />;\n}\n\n// \u2713 \u597d - \u63d0\u53d6\u51fd\u6570\nfunction renderPanel() {\n  if (!isLoggedIn) return <LoginForm />;\n  if (isAdmin) return <AdminPanel />;\n  return <UserPanel />;\n}\n\n{\n  renderPanel();\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"-\u5b9e\u7528\u793a\u4f8b",children:"\ud83d\udcd6 \u5b9e\u7528\u793a\u4f8b"}),"\n",(0,i.jsx)(e.h3,{id:"\u6743\u9650\u63a7\u5236",children:"\u6743\u9650\u63a7\u5236"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function ProtectedContent({ user, requiredRole, children }) {\n  if (!user) {\n    return <LoginPrompt />;\n  }\n\n  if (!user.roles.includes(requiredRole)) {\n    return <AccessDenied />;\n  }\n\n  return <>{children}</>;\n}\n\n// \u4f7f\u7528\n<ProtectedContent user={currentUser} requiredRole="admin">\n  <AdminDashboard />\n</ProtectedContent>;\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u52a0\u8f7d\u72b6\u6001",children:"\u52a0\u8f7d\u72b6\u6001"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"function DataFetcher({ url }) {\n  const [state, setState] = useState({\n    loading: true,\n    error: null,\n    data: null,\n  });\n\n  // ... fetch logic\n\n  if (state.loading) {\n    return <LoadingSpinner />;\n  }\n\n  if (state.error) {\n    return <ErrorMessage error={state.error} />;\n  }\n\n  return <DataDisplay data={state.data} />;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u7a7a\u72b6\u6001",children:"\u7a7a\u72b6\u6001"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function ProductList({ products }) {\n  if (products.length === 0) {\n    return (\n      <div className="empty-state">\n        <img src="/empty-box.svg" alt="No products" />\n        <h2>No products found</h2>\n        <p>Try adjusting your filters</p>\n        <button>Clear Filters</button>\n      </div>\n    );\n  }\n\n  return (\n    <div className="product-grid">\n      {products.map((product) => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u54cd\u5e94\u5f0f\u6e32\u67d3",children:"\u54cd\u5e94\u5f0f\u6e32\u67d3"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:'function ResponsiveMenu() {\n  const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    window.addEventListener("resize", handleResize);\n    return () => window.removeEventListener("resize", handleResize);\n  }, []);\n\n  return <nav>{isMobile ? <MobileMenu /> : <DesktopMenu />}</nav>;\n}\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u529f\u80fd\u5f00\u5173",children:"\u529f\u80fd\u5f00\u5173"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"const FEATURES = {\n  newDashboard: true,\n  betaFeature: false,\n  experimentalUI: false,\n};\n\nfunction App() {\n  return (\n    <div>\n      {FEATURES.newDashboard && <NewDashboard />}\n      {FEATURES.betaFeature && <BetaFeature />}\n\n      <MainContent />\n    </div>\n  );\n}\n"})}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u4e0b\u4e00\u6b65"}),": \u5b66\u4e60 ",(0,i.jsx)(e.a,{href:"/docs/react/lists-and-keys",children:"\u5217\u8868\u548c Keys"})," \u4e86\u89e3\u5982\u4f55\u6e32\u67d3\u5217\u8868\uff0c\u6216\u67e5\u770b ",(0,i.jsx)(e.a,{href:"/docs/react/hooks",children:"Hooks \u8be6\u89e3"})," \u6df1\u5165\u5b66\u4e60 React\u3002"]})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},48885:(n,e,r)=>{r.d(e,{R:()=>d,x:()=>a});var s=r(99378);const i={},t=s.createContext(i);function d(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);