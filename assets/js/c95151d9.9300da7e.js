"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[63946],{47099:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"redis/client-libraries","title":"\u5ba2\u6237\u7aef\u5e93\u8be6\u89e3","description":"Redis \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\u5e93\uff0c\u672c\u6587\u8be6\u7ec6\u4ecb\u7ecd Java \u751f\u6001\u4e2d\u4e3b\u6d41\u7684 Redis \u5ba2\u6237\u7aef\uff0c\u5e2e\u52a9\u4f60\u505a\u51fa\u6b63\u786e\u7684\u6280\u672f\u9009\u578b\u3002","source":"@site/docs/redis/client-libraries.md","sourceDirName":"redis","slug":"/redis/client-libraries","permalink":"/docs/redis/client-libraries","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/redis/client-libraries.md","tags":[],"version":"current","sidebarPosition":19,"frontMatter":{"sidebar_position":19,"title":"\u5ba2\u6237\u7aef\u5e93\u8be6\u89e3"},"sidebar":"redis","previous":{"title":"Redis \u6570\u636e\u7c7b\u578b","permalink":"/docs/redis/data-types"},"next":{"title":"Redis \u6301\u4e45\u5316","permalink":"/docs/redis/persistence"}}');var t=i(22714),d=i(48885);const r={sidebar_position:19,title:"\u5ba2\u6237\u7aef\u5e93\u8be6\u89e3"},l="Redis \u5ba2\u6237\u7aef\u5e93\u8be6\u89e3",c={},o=[{value:"Java \u5ba2\u6237\u7aef\u5bf9\u6bd4",id:"java-\u5ba2\u6237\u7aef\u5bf9\u6bd4",level:2},{value:"\u4e3b\u6d41\u5ba2\u6237\u7aef\u6982\u89c8",id:"\u4e3b\u6d41\u5ba2\u6237\u7aef\u6982\u89c8",level:3},{value:"Jedis",id:"jedis",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:3},{value:"\u6dfb\u52a0\u4f9d\u8d56",id:"\u6dfb\u52a0\u4f9d\u8d56",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"\u8fde\u63a5\u6c60\u914d\u7f6e",id:"\u8fde\u63a5\u6c60\u914d\u7f6e",level:3},{value:"Pipeline \u6279\u91cf\u64cd\u4f5c",id:"pipeline-\u6279\u91cf\u64cd\u4f5c",level:3},{value:"\u54e8\u5175\u6a21\u5f0f",id:"\u54e8\u5175\u6a21\u5f0f",level:3},{value:"\u96c6\u7fa4\u6a21\u5f0f",id:"\u96c6\u7fa4\u6a21\u5f0f",level:3},{value:"Lettuce",id:"lettuce",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb-1",level:3},{value:"\u6dfb\u52a0\u4f9d\u8d56",id:"\u6dfb\u52a0\u4f9d\u8d56-1",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-1",level:3},{value:"\u5f02\u6b65\u64cd\u4f5c",id:"\u5f02\u6b65\u64cd\u4f5c",level:3},{value:"\u54cd\u5e94\u5f0f\u64cd\u4f5c",id:"\u54cd\u5e94\u5f0f\u64cd\u4f5c",level:3},{value:"\u8fde\u63a5\u6c60\u914d\u7f6e",id:"\u8fde\u63a5\u6c60\u914d\u7f6e-1",level:3},{value:"\u96c6\u7fa4\u6a21\u5f0f",id:"\u96c6\u7fa4\u6a21\u5f0f-1",level:3},{value:"Redisson",id:"redisson",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb-2",level:3},{value:"\u6dfb\u52a0\u4f9d\u8d56",id:"\u6dfb\u52a0\u4f9d\u8d56-2",level:3},{value:"\u57fa\u672c\u914d\u7f6e",id:"\u57fa\u672c\u914d\u7f6e",level:3},{value:"YAML \u914d\u7f6e\u6587\u4ef6",id:"yaml-\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u5206\u5e03\u5f0f\u9501",id:"\u5206\u5e03\u5f0f\u9501",level:3},{value:"\u516c\u5e73\u9501",id:"\u516c\u5e73\u9501",level:3},{value:"\u8bfb\u5199\u9501",id:"\u8bfb\u5199\u9501",level:3},{value:"\u5206\u5e03\u5f0f\u96c6\u5408",id:"\u5206\u5e03\u5f0f\u96c6\u5408",level:3},{value:"\u5206\u5e03\u5f0f\u9650\u6d41",id:"\u5206\u5e03\u5f0f\u9650\u6d41",level:3},{value:"\u5206\u5e03\u5f0f\u4fe1\u53f7\u91cf",id:"\u5206\u5e03\u5f0f\u4fe1\u53f7\u91cf",level:3},{value:"\u96c6\u7fa4\u6a21\u5f0f",id:"\u96c6\u7fa4\u6a21\u5f0f-2",level:3},{value:"\u54e8\u5175\u6a21\u5f0f",id:"\u54e8\u5175\u6a21\u5f0f-1",level:3},{value:"\u9009\u578b\u5efa\u8bae",id:"\u9009\u578b\u5efa\u8bae",level:2},{value:"\u573a\u666f\u63a8\u8350",id:"\u573a\u666f\u63a8\u8350",level:3},{value:"\u6027\u80fd\u6bd4\u8f83",id:"\u6027\u80fd\u6bd4\u8f83",level:3},{value:"\u8fc1\u79fb\u5efa\u8bae",id:"\u8fc1\u79fb\u5efa\u8bae",level:3},{value:"\u5176\u4ed6\u8bed\u8a00\u5ba2\u6237\u7aef",id:"\u5176\u4ed6\u8bed\u8a00\u5ba2\u6237\u7aef",level:2},{value:"Python - redis-py",id:"python---redis-py",level:3},{value:"Go - go-redis",id:"go---go-redis",level:3},{value:"Node.js - ioredis",id:"nodejs---ioredis",level:3},{value:"\u5c0f\u7ed3",id:"\u5c0f\u7ed3",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"redis-\u5ba2\u6237\u7aef\u5e93\u8be6\u89e3",children:"Redis \u5ba2\u6237\u7aef\u5e93\u8be6\u89e3"})}),"\n",(0,t.jsx)(n.p,{children:"Redis \u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\u7684\u5ba2\u6237\u7aef\u5e93\uff0c\u672c\u6587\u8be6\u7ec6\u4ecb\u7ecd Java \u751f\u6001\u4e2d\u4e3b\u6d41\u7684 Redis \u5ba2\u6237\u7aef\uff0c\u5e2e\u52a9\u4f60\u505a\u51fa\u6b63\u786e\u7684\u6280\u672f\u9009\u578b\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"java-\u5ba2\u6237\u7aef\u5bf9\u6bd4",children:"Java \u5ba2\u6237\u7aef\u5bf9\u6bd4"}),"\n",(0,t.jsx)(n.h3,{id:"\u4e3b\u6d41\u5ba2\u6237\u7aef\u6982\u89c8",children:"\u4e3b\u6d41\u5ba2\u6237\u7aef\u6982\u89c8"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u7279\u6027"}),(0,t.jsx)(n.th,{children:"Jedis"}),(0,t.jsx)(n.th,{children:"Lettuce"}),(0,t.jsx)(n.th,{children:"Redisson"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u8fde\u63a5\u65b9\u5f0f"})}),(0,t.jsx)(n.td,{children:"\u540c\u6b65\u963b\u585e"}),(0,t.jsx)(n.td,{children:"\u5f02\u6b65\u975e\u963b\u585e"}),(0,t.jsx)(n.td,{children:"\u5f02\u6b65\u975e\u963b\u585e"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u7ebf\u7a0b\u5b89\u5168"})}),(0,t.jsx)(n.td,{children:"\u5426\uff08\u9700\u8fde\u63a5\u6c60\uff09"}),(0,t.jsx)(n.td,{children:"\u662f"}),(0,t.jsx)(n.td,{children:"\u662f"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5e95\u5c42\u5b9e\u73b0"})}),(0,t.jsx)(n.td,{children:"BIO"}),(0,t.jsx)(n.td,{children:"Netty"}),(0,t.jsx)(n.td,{children:"Netty"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u6027\u80fd"})}),(0,t.jsx)(n.td,{children:"\u4e2d"}),(0,t.jsx)(n.td,{children:"\u9ad8"}),(0,t.jsx)(n.td,{children:"\u4e2d\u9ad8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u529f\u80fd"})}),(0,t.jsx)(n.td,{children:"\u57fa\u7840"}),(0,t.jsx)(n.td,{children:"\u57fa\u7840"}),(0,t.jsx)(n.td,{children:"\u4e30\u5bcc\uff08\u5206\u5e03\u5f0f\uff09"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u5b66\u4e60\u6210\u672c"})}),(0,t.jsx)(n.td,{children:"\u4f4e"}),(0,t.jsx)(n.td,{children:"\u4e2d"}),(0,t.jsx)(n.td,{children:"\u4e2d\u9ad8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Spring \u9ed8\u8ba4"})}),(0,t.jsx)(n.td,{children:"\u274c"}),(0,t.jsx)(n.td,{children:"\u2705 (2.0+)"}),(0,t.jsx)(n.td,{children:"\u274c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"\u9002\u7528\u573a\u666f"})}),(0,t.jsx)(n.td,{children:"\u7b80\u5355\u5e94\u7528"}),(0,t.jsx)(n.td,{children:"\u9ad8\u5e76\u53d1\u5e94\u7528"}),(0,t.jsx)(n.td,{children:"\u590d\u6742\u5206\u5e03\u5f0f\u573a\u666f"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"jedis",children:"Jedis"}),"\n",(0,t.jsx)(n.h3,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,t.jsx)(n.p,{children:"Jedis \u662f\u6700\u65e9\u7684 Java Redis \u5ba2\u6237\u7aef\uff0cAPI \u8bbe\u8ba1\u7b80\u5355\u76f4\u89c2\uff0c\u4e0e Redis \u547d\u4ee4\u4e00\u4e00\u5bf9\u5e94\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"\u6dfb\u52a0\u4f9d\u8d56",children:"\u6dfb\u52a0\u4f9d\u8d56"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>redis.clients</groupId>\n    <artifactId>jedis</artifactId>\n    <version>5.0.0</version>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.Jedis;\n\npublic class JedisExample {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u8fde\u63a5\uff08\u4e0d\u63a8\u8350\u76f4\u63a5\u4f7f\u7528\uff0c\u5e94\u4f7f\u7528\u8fde\u63a5\u6c60\uff09\n        try (Jedis jedis = new Jedis("localhost", 6379)) {\n            // \u8ba4\u8bc1\n            jedis.auth("password");\n            \n            // String \u64cd\u4f5c\n            jedis.set("key", "value");\n            String value = jedis.get("key");\n            \n            // Hash \u64cd\u4f5c\n            jedis.hset("user:1001", "name", "\u5f20\u4e09");\n            Map<String, String> user = jedis.hgetAll("user:1001");\n            \n            // List \u64cd\u4f5c\n            jedis.lpush("queue", "task1", "task2");\n            String task = jedis.rpop("queue");\n            \n            // \u8fc7\u671f\u65f6\u95f4\n            jedis.setex("session", 3600, "session_data");\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u8fde\u63a5\u6c60\u914d\u7f6e",children:"\u8fde\u63a5\u6c60\u914d\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.JedisPool;\nimport redis.clients.jedis.JedisPoolConfig;\n\npublic class JedisPoolExample {\n    private static JedisPool pool;\n    \n    static {\n        JedisPoolConfig config = new JedisPoolConfig();\n        \n        // \u6700\u5927\u8fde\u63a5\u6570\n        config.setMaxTotal(100);\n        \n        // \u6700\u5927\u7a7a\u95f2\u8fde\u63a5\n        config.setMaxIdle(20);\n        \n        // \u6700\u5c0f\u7a7a\u95f2\u8fde\u63a5\n        config.setMinIdle(10);\n        \n        // \u83b7\u53d6\u8fde\u63a5\u6700\u5927\u7b49\u5f85\u65f6\u95f4\n        config.setMaxWaitMillis(3000);\n        \n        // \u501f\u51fa\u65f6\u68c0\u6d4b\u6709\u6548\u6027\n        config.setTestOnBorrow(true);\n        \n        // \u5f52\u8fd8\u65f6\u68c0\u6d4b\u6709\u6548\u6027\n        config.setTestOnReturn(true);\n        \n        // \u7a7a\u95f2\u65f6\u68c0\u6d4b\u6709\u6548\u6027\n        config.setTestWhileIdle(true);\n        \n        // \u7a7a\u95f2\u68c0\u6d4b\u95f4\u9694\n        config.setTimeBetweenEvictionRunsMillis(30000);\n        \n        pool = new JedisPool(config, "localhost", 6379, 2000, "password");\n    }\n    \n    public static void main(String[] args) {\n        try (Jedis jedis = pool.getResource()) {\n            jedis.set("key", "value");\n            System.out.println(jedis.get("key"));\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"pipeline-\u6279\u91cf\u64cd\u4f5c",children:"Pipeline \u6279\u91cf\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.Pipeline;\n\ntry (Jedis jedis = pool.getResource()) {\n    Pipeline pipeline = jedis.pipelined();\n    \n    // \u6279\u91cf\u5199\u5165\n    for (int i = 0; i < 10000; i++) {\n        pipeline.set("key" + i, "value" + i);\n    }\n    \n    // \u6267\u884c\n    pipeline.sync();\n    \n    // \u6216\u83b7\u53d6\u7ed3\u679c\n    // List<Object> results = pipeline.syncAndReturnAll();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u54e8\u5175\u6a21\u5f0f",children:"\u54e8\u5175\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.JedisSentinelPool;\n\nSet<String> sentinels = new HashSet<>();\nsentinels.add("192.168.1.101:26379");\nsentinels.add("192.168.1.102:26379");\nsentinels.add("192.168.1.103:26379");\n\nJedisSentinelPool sentinelPool = new JedisSentinelPool(\n    "mymaster",    // master name\n    sentinels,\n    poolConfig,\n    2000,          // \u8fde\u63a5\u8d85\u65f6\n    "password"     // \u5bc6\u7801\n);\n\ntry (Jedis jedis = sentinelPool.getResource()) {\n    jedis.set("key", "value");\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u96c6\u7fa4\u6a21\u5f0f",children:"\u96c6\u7fa4\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import redis.clients.jedis.JedisCluster;\nimport redis.clients.jedis.HostAndPort;\n\nSet<HostAndPort> nodes = new HashSet<>();\nnodes.add(new HostAndPort("192.168.1.101", 7001));\nnodes.add(new HostAndPort("192.168.1.102", 7002));\nnodes.add(new HostAndPort("192.168.1.103", 7003));\n\nJedisCluster cluster = new JedisCluster(nodes, 2000, 2000, 5, "password", poolConfig);\n\ncluster.set("key", "value");\nString value = cluster.get("key");\n'})}),"\n",(0,t.jsx)(n.h2,{id:"lettuce",children:"Lettuce"}),"\n",(0,t.jsx)(n.h3,{id:"\u7b80\u4ecb-1",children:"\u7b80\u4ecb"}),"\n",(0,t.jsx)(n.p,{children:"Lettuce \u662f\u57fa\u4e8e Netty \u7684\u9ad8\u6027\u80fd\u5f02\u6b65 Redis \u5ba2\u6237\u7aef\uff0cSpring Boot 2.0+ \u9ed8\u8ba4\u4f7f\u7528 Lettuce\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"\u6dfb\u52a0\u4f9d\u8d56-1",children:"\u6dfb\u52a0\u4f9d\u8d56"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>io.lettuce</groupId>\n    <artifactId>lettuce-core</artifactId>\n    <version>6.3.0.RELEASE</version>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c\u4f7f\u7528-1",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.lettuce.core.RedisClient;\nimport io.lettuce.core.api.StatefulRedisConnection;\nimport io.lettuce.core.api.sync.RedisCommands;\n\npublic class LettuceExample {\n    public static void main(String[] args) {\n        // \u521b\u5efa\u5ba2\u6237\u7aef\n        RedisClient client = RedisClient.create("redis://password@localhost:6379/0");\n        \n        // \u83b7\u53d6\u8fde\u63a5\n        try (StatefulRedisConnection<String, String> connection = client.connect()) {\n            // \u540c\u6b65\u547d\u4ee4\n            RedisCommands<String, String> sync = connection.sync();\n            \n            sync.set("key", "value");\n            String value = sync.get("key");\n            System.out.println(value);\n        }\n        \n        // \u5173\u95ed\u5ba2\u6237\u7aef\n        client.shutdown();\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5f02\u6b65\u64cd\u4f5c",children:"\u5f02\u6b65\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.lettuce.core.api.async.RedisAsyncCommands;\nimport io.lettuce.core.RedisFuture;\n\nStatefulRedisConnection<String, String> connection = client.connect();\nRedisAsyncCommands<String, String> async = connection.async();\n\n// \u5f02\u6b65\u8bbe\u7f6e\nRedisFuture<String> future = async.set("key", "value");\nfuture.thenAccept(result -> System.out.println("Set \u7ed3\u679c: " + result));\n\n// \u5f02\u6b65\u83b7\u53d6\nasync.get("key").thenAccept(value -> System.out.println("Value: " + value));\n\n// \u7b49\u5f85\u6240\u6709\u5b8c\u6210\nasync.set("key1", "value1");\nasync.set("key2", "value2");\nasync.set("key3", "value3");\n\n// \u4f7f\u7528 CompletableFuture\nCompletableFuture<String> cf = async.get("key").toCompletableFuture();\ncf.thenAccept(System.out::println);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u54cd\u5e94\u5f0f\u64cd\u4f5c",children:"\u54cd\u5e94\u5f0f\u64cd\u4f5c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.lettuce.core.api.reactive.RedisReactiveCommands;\nimport reactor.core.publisher.Mono;\n\nRedisReactiveCommands<String, String> reactive = connection.reactive();\n\n// \u54cd\u5e94\u5f0f\u8bbe\u7f6e\nMono<String> setMono = reactive.set("key", "value");\nsetMono.subscribe(result -> System.out.println("Set \u7ed3\u679c: " + result));\n\n// \u54cd\u5e94\u5f0f\u83b7\u53d6\nreactive.get("key")\n    .doOnNext(value -> System.out.println("Value: " + value))\n    .subscribe();\n\n// \u6279\u91cf\u64cd\u4f5c\nreactive.mget("key1", "key2", "key3")\n    .collectList()\n    .subscribe(list -> list.forEach(kv -> \n        System.out.println(kv.getKey() + ": " + kv.getValue())));\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u8fde\u63a5\u6c60\u914d\u7f6e-1",children:"\u8fde\u63a5\u6c60\u914d\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.lettuce.core.support.ConnectionPoolSupport;\nimport org.apache.commons.pool2.impl.GenericObjectPoolConfig;\nimport org.apache.commons.pool2.impl.GenericObjectPool;\n\n// \u914d\u7f6e\u8fde\u63a5\u6c60\nGenericObjectPoolConfig<StatefulRedisConnection<String, String>> config = \n    new GenericObjectPoolConfig<>();\nconfig.setMaxTotal(100);\nconfig.setMaxIdle(20);\nconfig.setMinIdle(10);\n\n// \u521b\u5efa\u8fde\u63a5\u6c60\nGenericObjectPool<StatefulRedisConnection<String, String>> pool = \n    ConnectionPoolSupport.createGenericObjectPool(\n        () -> client.connect(), \n        config\n    );\n\n// \u4f7f\u7528\u8fde\u63a5\ntry (StatefulRedisConnection<String, String> connection = pool.borrowObject()) {\n    connection.sync().set("key", "value");\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u96c6\u7fa4\u6a21\u5f0f-1",children:"\u96c6\u7fa4\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import io.lettuce.core.cluster.RedisClusterClient;\nimport io.lettuce.core.cluster.api.StatefulRedisClusterConnection;\n\nRedisClusterClient clusterClient = RedisClusterClient.create(\n    "redis://password@192.168.1.101:7001,192.168.1.102:7002,192.168.1.103:7003"\n);\n\nStatefulRedisClusterConnection<String, String> connection = clusterClient.connect();\nconnection.sync().set("key", "value");\n'})}),"\n",(0,t.jsx)(n.h2,{id:"redisson",children:"Redisson"}),"\n",(0,t.jsx)(n.h3,{id:"\u7b80\u4ecb-2",children:"\u7b80\u4ecb"}),"\n",(0,t.jsx)(n.p,{children:"Redisson \u4e0d\u4ec5\u662f Redis \u5ba2\u6237\u7aef\uff0c\u66f4\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u670d\u52a1\u6846\u67b6\uff0c\u63d0\u4f9b\u4e30\u5bcc\u7684\u5206\u5e03\u5f0f\u6570\u636e\u7ed3\u6784\u548c\u670d\u52a1\u3002"}),"\n",(0,t.jsx)(n.h3,{id:"\u6dfb\u52a0\u4f9d\u8d56-2",children:"\u6dfb\u52a0\u4f9d\u8d56"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.redisson</groupId>\n    <artifactId>redisson</artifactId>\n    <version>3.25.0</version>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u672c\u914d\u7f6e",children:"\u57fa\u672c\u914d\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import org.redisson.Redisson;\nimport org.redisson.api.RedissonClient;\nimport org.redisson.config.Config;\n\n// \u5355\u8282\u70b9\u914d\u7f6e\nConfig config = new Config();\nconfig.useSingleServer()\n    .setAddress("redis://localhost:6379")\n    .setPassword("password")\n    .setDatabase(0)\n    .setConnectionPoolSize(64)\n    .setConnectionMinimumIdleSize(24)\n    .setConnectTimeout(10000)\n    .setTimeout(3000);\n\nRedissonClient redisson = Redisson.create(config);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"yaml-\u914d\u7f6e\u6587\u4ef6",children:"YAML \u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# redisson.yaml\nsingleServerConfig:\n  address: "redis://localhost:6379"\n  password: "password"\n  database: 0\n  connectionPoolSize: 64\n  connectionMinimumIdleSize: 24\n  connectTimeout: 10000\n  timeout: 3000\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'Config config = Config.fromYAML(new File("redisson.yaml"));\nRedissonClient redisson = Redisson.create(config);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5206\u5e03\u5f0f\u9501",children:"\u5206\u5e03\u5f0f\u9501"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import org.redisson.api.RLock;\n\nRLock lock = redisson.getLock("lock:resource");\n\ntry {\n    // \u5c1d\u8bd5\u52a0\u9501\uff0c\u7b49\u5f85 10 \u79d2\uff0c\u81ea\u52a8\u91ca\u653e 30 \u79d2\n    boolean acquired = lock.tryLock(10, 30, TimeUnit.SECONDS);\n    if (acquired) {\n        try {\n            // \u4e1a\u52a1\u903b\u8f91\n            doSomething();\n        } finally {\n            lock.unlock();\n        }\n    }\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u516c\u5e73\u9501",children:"\u516c\u5e73\u9501"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'RLock fairLock = redisson.getFairLock("fair-lock");\nfairLock.lock();\ntry {\n    // \u6309\u7167\u8bf7\u6c42\u987a\u5e8f\u83b7\u53d6\u9501\n} finally {\n    fairLock.unlock();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u8bfb\u5199\u9501",children:"\u8bfb\u5199\u9501"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'RReadWriteLock rwLock = redisson.getReadWriteLock("rw-lock");\n\n// \u8bfb\u9501\nrwLock.readLock().lock();\ntry {\n    // \u8bfb\u64cd\u4f5c\n} finally {\n    rwLock.readLock().unlock();\n}\n\n// \u5199\u9501\nrwLock.writeLock().lock();\ntry {\n    // \u5199\u64cd\u4f5c\n} finally {\n    rwLock.writeLock().unlock();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5206\u5e03\u5f0f\u96c6\u5408",children:"\u5206\u5e03\u5f0f\u96c6\u5408"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// Map\nRMap<String, String> map = redisson.getMap("myMap");\nmap.put("key", "value");\nString value = map.get("key");\n\n// Set\nRSet<String> set = redisson.getSet("mySet");\nset.add("item1");\nset.add("item2");\n\n// List\nRList<String> list = redisson.getList("myList");\nlist.add("item1");\n\n// Queue\nRQueue<String> queue = redisson.getQueue("myQueue");\nqueue.offer("task1");\nString task = queue.poll();\n\n// Deque\nRDeque<String> deque = redisson.getDeque("myDeque");\n\n// SortedSet\nRSortedSet<String> sortedSet = redisson.getSortedSet("mySortedSet");\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5206\u5e03\u5f0f\u9650\u6d41",children:"\u5206\u5e03\u5f0f\u9650\u6d41"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import org.redisson.api.RRateLimiter;\nimport org.redisson.api.RateType;\n\nRRateLimiter limiter = redisson.getRateLimiter("myLimiter");\n\n// \u6bcf\u79d2 10 \u4e2a\u8bf7\u6c42\nlimiter.trySetRate(RateType.OVERALL, 10, 1, RateIntervalUnit.SECONDS);\n\nif (limiter.tryAcquire(1)) {\n    // \u5141\u8bb8\u8bf7\u6c42\n} else {\n    // \u9650\u6d41\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5206\u5e03\u5f0f\u4fe1\u53f7\u91cf",children:"\u5206\u5e03\u5f0f\u4fe1\u53f7\u91cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'RSemaphore semaphore = redisson.getSemaphore("mySemaphore");\nsemaphore.trySetPermits(10);\n\nsemaphore.acquire();\ntry {\n    // \u6700\u591a 10 \u4e2a\u5e76\u53d1\n} finally {\n    semaphore.release();\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u96c6\u7fa4\u6a21\u5f0f-2",children:"\u96c6\u7fa4\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'Config config = new Config();\nconfig.useClusterServers()\n    .addNodeAddress(\n        "redis://192.168.1.101:7001",\n        "redis://192.168.1.102:7002",\n        "redis://192.168.1.103:7003"\n    )\n    .setPassword("password")\n    .setScanInterval(2000);\n\nRedissonClient redisson = Redisson.create(config);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u54e8\u5175\u6a21\u5f0f-1",children:"\u54e8\u5175\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'Config config = new Config();\nconfig.useSentinelServers()\n    .setMasterName("mymaster")\n    .addSentinelAddress(\n        "redis://192.168.1.101:26379",\n        "redis://192.168.1.102:26379",\n        "redis://192.168.1.103:26379"\n    )\n    .setPassword("password");\n\nRedissonClient redisson = Redisson.create(config);\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u9009\u578b\u5efa\u8bae",children:"\u9009\u578b\u5efa\u8bae"}),"\n",(0,t.jsx)(n.h3,{id:"\u573a\u666f\u63a8\u8350",children:"\u573a\u666f\u63a8\u8350"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u573a\u666f"}),(0,t.jsx)(n.th,{children:"\u63a8\u8350\u5ba2\u6237\u7aef"}),(0,t.jsx)(n.th,{children:"\u539f\u56e0"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u7b80\u5355 CRUD"}),(0,t.jsx)(n.td,{children:"Jedis"}),(0,t.jsx)(n.td,{children:"\u7b80\u5355\u76f4\u89c2\uff0c\u5b66\u4e60\u6210\u672c\u4f4e"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Spring Boot \u9879\u76ee"}),(0,t.jsx)(n.td,{children:"Lettuce"}),(0,t.jsx)(n.td,{children:"\u9ed8\u8ba4\u96c6\u6210\uff0c\u5f02\u6b65\u652f\u6301"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u9ad8\u5e76\u53d1\u8bfb\u5199"}),(0,t.jsx)(n.td,{children:"Lettuce"}),(0,t.jsx)(n.td,{children:"\u975e\u963b\u585e I/O\uff0c\u6027\u80fd\u597d"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u9501"}),(0,t.jsx)(n.td,{children:"Redisson"}),(0,t.jsx)(n.td,{children:"\u5f00\u7bb1\u5373\u7528\uff0c\u529f\u80fd\u5b8c\u5584"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u9650\u6d41"}),(0,t.jsx)(n.td,{children:"Redisson"}),(0,t.jsx)(n.td,{children:"\u5185\u7f6e\u9650\u6d41\u5668"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u54cd\u5e94\u5f0f\u7f16\u7a0b"}),(0,t.jsx)(n.td,{children:"Lettuce"}),(0,t.jsx)(n.td,{children:"\u539f\u751f\u652f\u6301 Reactor"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5fae\u670d\u52a1"}),(0,t.jsx)(n.td,{children:"Redisson"}),(0,t.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u670d\u52a1\u652f\u6301"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\u6027\u80fd\u6bd4\u8f83",children:"\u6027\u80fd\u6bd4\u8f83"}),"\n",(0,t.jsx)(n.p,{children:"\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u6027\u80fd\u6392\u540d\uff08\u4ec5\u4f9b\u53c2\u8003\uff09\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Lettuce"}),"\uff1a\u5f02\u6b65\u975e\u963b\u585e\uff0c\u9ad8\u541e\u5410"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Redisson"}),"\uff1a\u529f\u80fd\u5f00\u9500\u6362\u53d6\u4fbf\u5229"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Jedis"}),"\uff1a\u540c\u6b65\u963b\u585e\uff0c\u4f9d\u8d56\u8fde\u63a5\u6c60"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\u8fc1\u79fb\u5efa\u8bae",children:"\u8fc1\u79fb\u5efa\u8bae"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u4ece Jedis \u8fc1\u79fb\u5230 Lettuce"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'// Jedis\nJedis jedis = pool.getResource();\njedis.set("key", "value");\njedis.close();\n\n// Lettuce\nRedisCommands<String, String> commands = connection.sync();\ncommands.set("key", "value");\n// \u8fde\u63a5\u81ea\u52a8\u7ba1\u7406\uff0c\u65e0\u9700\u624b\u52a8\u5173\u95ed\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u5176\u4ed6\u8bed\u8a00\u5ba2\u6237\u7aef",children:"\u5176\u4ed6\u8bed\u8a00\u5ba2\u6237\u7aef"}),"\n",(0,t.jsx)(n.h3,{id:"python---redis-py",children:"Python - redis-py"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import redis\n\n# \u8fde\u63a5\nr = redis.Redis(host='localhost', port=6379, password='password', decode_responses=True)\n\n# \u64cd\u4f5c\nr.set('key', 'value')\nvalue = r.get('key')\n\n# \u8fde\u63a5\u6c60\npool = redis.ConnectionPool(host='localhost', port=6379, password='password')\nr = redis.Redis(connection_pool=pool)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"go---go-redis",children:"Go - go-redis"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'import "github.com/redis/go-redis/v9"\n\nclient := redis.NewClient(&redis.Options{\n    Addr:     "localhost:6379",\n    Password: "password",\n    DB:       0,\n})\n\nctx := context.Background()\nclient.Set(ctx, "key", "value", 0)\nval, _ := client.Get(ctx, "key").Result()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"nodejs---ioredis",children:"Node.js - ioredis"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"const Redis = require('ioredis');\n\nconst redis = new Redis({\n    host: 'localhost',\n    port: 6379,\n    password: 'password'\n});\n\nawait redis.set('key', 'value');\nconst value = await redis.get('key');\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5c0f\u7ed3",children:"\u5c0f\u7ed3"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u5ba2\u6237\u7aef"}),(0,t.jsx)(n.th,{children:"\u7279\u70b9"}),(0,t.jsx)(n.th,{children:"\u9002\u7528\u573a\u666f"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Jedis"})}),(0,t.jsx)(n.td,{children:"\u7b80\u5355\u76f4\u89c2\uff0c\u540c\u6b65\u963b\u585e"}),(0,t.jsx)(n.td,{children:"\u7b80\u5355\u5e94\u7528\u3001\u5b66\u4e60\u5165\u95e8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Lettuce"})}),(0,t.jsx)(n.td,{children:"\u9ad8\u6027\u80fd\u5f02\u6b65\uff0c\u7ebf\u7a0b\u5b89\u5168"}),(0,t.jsx)(n.td,{children:"Spring Boot\u3001\u9ad8\u5e76\u53d1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Redisson"})}),(0,t.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u670d\u52a1\u6846\u67b6"}),(0,t.jsx)(n.td,{children:"\u5206\u5e03\u5f0f\u9501\u3001\u9650\u6d41\u3001\u5fae\u670d\u52a1"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u9009\u578b\u539f\u5219"}),"\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 Spring Boot \u9879\u76ee\u4f18\u5148\u4f7f\u7528 Lettuce"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \u9700\u8981\u5206\u5e03\u5f0f\u9501/\u9650\u6d41\u4f7f\u7528 Redisson"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \u7b80\u5355\u573a\u666f\u53ef\u4ee5\u4f7f\u7528 Jedis"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 \u9ad8\u5e76\u53d1\u573a\u666f\u4f7f\u7528 Lettuce \u5f02\u6b65\u7279\u6027"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},48885:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var s=i(99378);const t={},d=s.createContext(t);function r(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);