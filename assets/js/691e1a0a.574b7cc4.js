"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[39185],{48885:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>o});var r=t(99378);const a={},i=r.createContext(a);function s(n){const e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),r.createElement(i.Provider,{value:e},n.children)}},49188:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"java/network-programming","title":"Java \u7f51\u7edc\u7f16\u7a0b","description":"Java \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7f51\u7edc\u7f16\u7a0b API\uff0c\u652f\u6301 TCP\u3001UDP \u534f\u8bae\u4ee5\u53ca HTTP \u901a\u4fe1\u3002\u672c\u6587\u4ecb\u7ecd Socket \u7f16\u7a0b\u3001URL \u8fde\u63a5\u548c HTTP Client \u7684\u4f7f\u7528\u3002","source":"@site/docs/java/network-programming.md","sourceDirName":"java","slug":"/java/network-programming","permalink":"/docs/java/network-programming","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/java/network-programming.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Java \u7f51\u7edc\u7f16\u7a0b"},"sidebar":"java","previous":{"title":"\u65e5\u671f\u65f6\u95f4 API","permalink":"/docs/java/date-time"},"next":{"title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b","permalink":"/docs/java/multithreading"}}');var a=t(22714),i=t(48885);const s={sidebar_position:11,title:"Java \u7f51\u7edc\u7f16\u7a0b"},o="Java \u7f51\u7edc\u7f16\u7a0b",c={},l=[{value:"TCP Socket \u7f16\u7a0b",id:"tcp-socket-\u7f16\u7a0b",level:2},{value:"\u670d\u52a1\u5668\u7aef",id:"\u670d\u52a1\u5668\u7aef",level:3},{value:"\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef",level:3},{value:"\u591a\u7ebf\u7a0b\u670d\u52a1\u5668",id:"\u591a\u7ebf\u7a0b\u670d\u52a1\u5668",level:3},{value:"UDP Socket \u7f16\u7a0b",id:"udp-socket-\u7f16\u7a0b",level:2},{value:"UDP \u670d\u52a1\u5668",id:"udp-\u670d\u52a1\u5668",level:3},{value:"UDP \u5ba2\u6237\u7aef",id:"udp-\u5ba2\u6237\u7aef",level:3},{value:"URL \u548c URLConnection",id:"url-\u548c-urlconnection",level:2},{value:"URL \u57fa\u672c\u64cd\u4f5c",id:"url-\u57fa\u672c\u64cd\u4f5c",level:3},{value:"URLConnection",id:"urlconnection",level:3},{value:"HTTP \u901a\u4fe1\uff08JDK 8\uff1aHttpURLConnection\uff09",id:"http-\u901a\u4fe1jdk-8httpurlconnection",level:2},{value:"GET \u8bf7\u6c42",id:"get-\u8bf7\u6c42",level:3},{value:"POST \u8bf7\u6c42\uff08JSON\uff09",id:"post-\u8bf7\u6c42json",level:3},{value:"HTTP Client\uff08\u6269\u5c55\uff1aJDK 11+\uff09",id:"http-client\u6269\u5c55jdk-11",level:2},{value:"GET \u8bf7\u6c42",id:"get-\u8bf7\u6c42-1",level:3},{value:"POST \u8bf7\u6c42",id:"post-\u8bf7\u6c42",level:3},{value:"\u5f02\u6b65\u8bf7\u6c42",id:"\u5f02\u6b65\u8bf7\u6c42",level:3},{value:"\u4e0b\u8f7d\u6587\u4ef6",id:"\u4e0b\u8f7d\u6587\u4ef6",level:3},{value:"InetAddress",id:"inetaddress",level:2},{value:"\u5b9e\u6218\u793a\u4f8b\uff1a\u804a\u5929\u5ba4",id:"\u5b9e\u6218\u793a\u4f8b\u804a\u5929\u5ba4",level:2},{value:"\u670d\u52a1\u5668\u7aef",id:"\u670d\u52a1\u5668\u7aef-1",level:3},{value:"\u5ba2\u6237\u7aef",id:"\u5ba2\u6237\u7aef-1",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u8d44\u6e90\u7ba1\u7406",id:"1-\u8d44\u6e90\u7ba1\u7406",level:3},{value:"2. \u8d85\u65f6\u8bbe\u7f6e",id:"2-\u8d85\u65f6\u8bbe\u7f6e",level:3},{value:"3. \u7ebf\u7a0b\u6c60\u5904\u7406\u5e76\u53d1",id:"3-\u7ebf\u7a0b\u6c60\u5904\u7406\u5e76\u53d1",level:3},{value:"4. \u5f02\u5e38\u5904\u7406",id:"4-\u5f02\u5e38\u5904\u7406",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"java-\u7f51\u7edc\u7f16\u7a0b",children:"Java \u7f51\u7edc\u7f16\u7a0b"})}),"\n",(0,a.jsx)(e.p,{children:"Java \u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7f51\u7edc\u7f16\u7a0b API\uff0c\u652f\u6301 TCP\u3001UDP \u534f\u8bae\u4ee5\u53ca HTTP \u901a\u4fe1\u3002\u672c\u6587\u4ecb\u7ecd Socket \u7f16\u7a0b\u3001URL \u8fde\u63a5\u548c HTTP Client \u7684\u4f7f\u7528\u3002"}),"\n",(0,a.jsxs)(e.blockquote,{children:["\n",(0,a.jsxs)(e.p,{children:["[!IMPORTANT]\n\u672c\u76ee\u5f55\u9ed8\u8ba4\u4ee5 ",(0,a.jsx)(e.strong,{children:"JDK 1.8 (Java 8)"})," \u4e3a\u57fa\u7ebf\u3002\nHTTP \u901a\u4fe1\u5728 JDK 8 \u4e0b\u5efa\u8bae\u4f18\u5148\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"HttpURLConnection"}),"\uff1b",(0,a.jsx)(e.code,{children:"HttpClient"})," \u5c5e\u4e8e ",(0,a.jsx)(e.strong,{children:"\u6269\u5c55\u5185\u5bb9\uff08JDK 11+\uff09"}),"\u3002"]}),"\n"]}),"\n",(0,a.jsx)(e.h2,{id:"tcp-socket-\u7f16\u7a0b",children:"TCP Socket \u7f16\u7a0b"}),"\n",(0,a.jsx)(e.p,{children:"TCP \u662f\u9762\u5411\u8fde\u63a5\u7684\u53ef\u9760\u4f20\u8f93\u534f\u8bae\uff0c\u4f7f\u7528 Socket \u548c ServerSocket \u5b9e\u73b0\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"\u670d\u52a1\u5668\u7aef",children:"\u670d\u52a1\u5668\u7aef"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.net.*;\n\npublic class TCPServer {\n    public static void main(String[] args) {\n        int port = 8888;\n\n        try (ServerSocket serverSocket = new ServerSocket(port)) {\n            System.out.println("\u670d\u52a1\u5668\u542f\u52a8\uff0c\u76d1\u542c\u7aef\u53e3: " + port);\n\n            while (true) {\n                // \u7b49\u5f85\u5ba2\u6237\u7aef\u8fde\u63a5\n                Socket clientSocket = serverSocket.accept();\n                System.out.println("\u5ba2\u6237\u7aef\u5df2\u8fde\u63a5: " + clientSocket.getInetAddress());\n\n                // \u5904\u7406\u5ba2\u6237\u7aef\u8bf7\u6c42\uff08\u5efa\u8bae\u4f7f\u7528\u591a\u7ebf\u7a0b\uff09\n                handleClient(clientSocket);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void handleClient(Socket socket) {\n        try (\n            BufferedReader in = new BufferedReader(\n                new InputStreamReader(socket.getInputStream())\n            );\n            PrintWriter out = new PrintWriter(\n                socket.getOutputStream(), true\n            )\n        ) {\n            String message;\n            while ((message = in.readLine()) != null) {\n                System.out.println("\u6536\u5230\u6d88\u606f: " + message);\n\n                // \u56de\u590d\u5ba2\u6237\u7aef\n                out.println("\u670d\u52a1\u5668\u6536\u5230: " + message);\n\n                if ("bye".equalsIgnoreCase(message)) {\n                    break;\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                socket.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u5ba2\u6237\u7aef",children:"\u5ba2\u6237\u7aef"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.net.*;\n\npublic class TCPClient {\n    public static void main(String[] args) {\n        String host = "localhost";\n        int port = 8888;\n\n        try (\n            Socket socket = new Socket(host, port);\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(\n                new InputStreamReader(socket.getInputStream())\n            );\n            BufferedReader console = new BufferedReader(\n                new InputStreamReader(System.in)\n            )\n        ) {\n            System.out.println("\u5df2\u8fde\u63a5\u5230\u670d\u52a1\u5668: " + host + ":" + port);\n\n            String userInput;\n            while ((userInput = console.readLine()) != null) {\n                // \u53d1\u9001\u6d88\u606f\n                out.println(userInput);\n\n                // \u63a5\u6536\u54cd\u5e94\n                String response = in.readLine();\n                System.out.println("\u670d\u52a1\u5668\u54cd\u5e94: " + response);\n\n                if ("bye".equalsIgnoreCase(userInput)) {\n                    break;\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u591a\u7ebf\u7a0b\u670d\u52a1\u5668",children:"\u591a\u7ebf\u7a0b\u670d\u52a1\u5668"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.net.*;\nimport java.util.concurrent.*;\n\npublic class MultiThreadedServer {\n    private static final int PORT = 8888;\n    private static final ExecutorService threadPool =\n        Executors.newFixedThreadPool(10);\n\n    public static void main(String[] args) {\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n            System.out.println("\u591a\u7ebf\u7a0b\u670d\u52a1\u5668\u542f\u52a8\uff0c\u7aef\u53e3: " + PORT);\n\n            while (true) {\n                Socket clientSocket = serverSocket.accept();\n                System.out.println("\u65b0\u5ba2\u6237\u7aef\u8fde\u63a5: " +\n                    clientSocket.getInetAddress());\n\n                // \u63d0\u4ea4\u5230\u7ebf\u7a0b\u6c60\u5904\u7406\n                threadPool.submit(new ClientHandler(clientSocket));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            threadPool.shutdown();\n        }\n    }\n\n    static class ClientHandler implements Runnable {\n        private final Socket socket;\n\n        public ClientHandler(Socket socket) {\n            this.socket = socket;\n        }\n\n        @Override\n        public void run() {\n            try (\n                BufferedReader in = new BufferedReader(\n                    new InputStreamReader(socket.getInputStream())\n                );\n                PrintWriter out = new PrintWriter(\n                    socket.getOutputStream(), true\n                )\n            ) {\n                String message;\n                while ((message = in.readLine()) != null) {\n                    System.out.println(Thread.currentThread().getName() +\n                        " \u6536\u5230: " + message);\n                    out.println("Echo: " + message);\n\n                    if ("bye".equalsIgnoreCase(message)) {\n                        break;\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"udp-socket-\u7f16\u7a0b",children:"UDP Socket \u7f16\u7a0b"}),"\n",(0,a.jsx)(e.p,{children:"UDP \u662f\u65e0\u8fde\u63a5\u7684\u4e0d\u53ef\u9760\u4f20\u8f93\u534f\u8bae\uff0c\u4f7f\u7528 DatagramSocket \u548c DatagramPacket\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"udp-\u670d\u52a1\u5668",children:"UDP \u670d\u52a1\u5668"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.*;\n\npublic class UDPServer {\n    public static void main(String[] args) {\n        int port = 9999;\n\n        try (DatagramSocket socket = new DatagramSocket(port)) {\n            System.out.println("UDP \u670d\u52a1\u5668\u542f\u52a8\uff0c\u7aef\u53e3: " + port);\n\n            byte[] buffer = new byte[1024];\n\n            while (true) {\n                // \u63a5\u6536\u6570\u636e\n                DatagramPacket receivePacket =\n                    new DatagramPacket(buffer, buffer.length);\n                socket.receive(receivePacket);\n\n                String message = new String(\n                    receivePacket.getData(),\n                    0,\n                    receivePacket.getLength()\n                );\n                System.out.println("\u6536\u5230\u6d88\u606f: " + message);\n                System.out.println("\u6765\u81ea: " +\n                    receivePacket.getAddress() + ":" +\n                    receivePacket.getPort());\n\n                // \u53d1\u9001\u54cd\u5e94\n                String response = "\u670d\u52a1\u5668\u6536\u5230: " + message;\n                byte[] responseData = response.getBytes();\n                DatagramPacket sendPacket = new DatagramPacket(\n                    responseData,\n                    responseData.length,\n                    receivePacket.getAddress(),\n                    receivePacket.getPort()\n                );\n                socket.send(sendPacket);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"udp-\u5ba2\u6237\u7aef",children:"UDP \u5ba2\u6237\u7aef"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.*;\nimport java.util.Scanner;\n\npublic class UDPClient {\n    public static void main(String[] args) {\n        String host = "localhost";\n        int port = 9999;\n\n        try (\n            DatagramSocket socket = new DatagramSocket();\n            Scanner scanner = new Scanner(System.in)\n        ) {\n            InetAddress address = InetAddress.getByName(host);\n\n            while (true) {\n                System.out.print("\u8bf7\u8f93\u5165\u6d88\u606f: ");\n                String message = scanner.nextLine();\n\n                // \u53d1\u9001\u6570\u636e\n                byte[] sendData = message.getBytes();\n                DatagramPacket sendPacket = new DatagramPacket(\n                    sendData,\n                    sendData.length,\n                    address,\n                    port\n                );\n                socket.send(sendPacket);\n\n                // \u63a5\u6536\u54cd\u5e94\n                byte[] receiveData = new byte[1024];\n                DatagramPacket receivePacket =\n                    new DatagramPacket(receiveData, receiveData.length);\n                socket.receive(receivePacket);\n\n                String response = new String(\n                    receivePacket.getData(),\n                    0,\n                    receivePacket.getLength()\n                );\n                System.out.println("\u670d\u52a1\u5668\u54cd\u5e94: " + response);\n\n                if ("bye".equalsIgnoreCase(message)) {\n                    break;\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"url-\u548c-urlconnection",children:"URL \u548c URLConnection"}),"\n",(0,a.jsx)(e.h3,{id:"url-\u57fa\u672c\u64cd\u4f5c",children:"URL \u57fa\u672c\u64cd\u4f5c"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.*;\nimport java.io.*;\n\npublic class URLExample {\n    public static void main(String[] args) {\n        try {\n            URL url = new URL("https://www.example.com:80/path?query=value#fragment");\n\n            // \u83b7\u53d6 URL \u5404\u90e8\u5206\n            System.out.println("\u534f\u8bae: " + url.getProtocol());     // https\n            System.out.println("\u4e3b\u673a: " + url.getHost());         // www.example.com\n            System.out.println("\u7aef\u53e3: " + url.getPort());         // 80\n            System.out.println("\u8def\u5f84: " + url.getPath());         // /path\n            System.out.println("\u67e5\u8be2: " + url.getQuery());        // query=value\n            System.out.println("\u951a\u70b9: " + url.getRef());          // fragment\n            System.out.println("\u6587\u4ef6: " + url.getFile());         // /path?query=value\n\n            // \u8bfb\u53d6 URL \u5185\u5bb9\n            readURLContent(url);\n        } catch (MalformedURLException e) {\n            System.err.println("URL \u683c\u5f0f\u9519\u8bef");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static void readURLContent(URL url) throws IOException {\n        try (\n            BufferedReader reader = new BufferedReader(\n                new InputStreamReader(url.openStream())\n            )\n        ) {\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"urlconnection",children:"URLConnection"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.*;\nimport java.io.*;\n\npublic class URLConnectionExample {\n    public static void main(String[] args) {\n        try {\n            URL url = new URL("https://api.example.com/data");\n            URLConnection connection = url.openConnection();\n\n            // \u8bbe\u7f6e\u8bf7\u6c42\u5c5e\u6027\n            connection.setRequestProperty("User-Agent", "Java Client");\n            connection.setRequestProperty("Accept", "application/json");\n            connection.setConnectTimeout(5000);  // \u8fde\u63a5\u8d85\u65f6 5 \u79d2\n            connection.setReadTimeout(5000);     // \u8bfb\u53d6\u8d85\u65f6 5 \u79d2\n\n            // \u83b7\u53d6\u54cd\u5e94\u5934\n            System.out.println("Content-Type: " +\n                connection.getContentType());\n            System.out.println("Content-Length: " +\n                connection.getContentLength());\n            System.out.println("Last-Modified: " +\n                connection.getLastModified());\n\n            // \u8bfb\u53d6\u5185\u5bb9\n            try (\n                BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(connection.getInputStream())\n                )\n            ) {\n                String line;\n                while ((line = reader.readLine()) != null) {\n                    System.out.println(line);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"http-\u901a\u4fe1jdk-8httpurlconnection",children:"HTTP \u901a\u4fe1\uff08JDK 8\uff1aHttpURLConnection\uff09"}),"\n",(0,a.jsxs)(e.p,{children:["JDK 8 \u6ca1\u6709\u5185\u7f6e ",(0,a.jsx)(e.code,{children:"java.net.http.HttpClient"}),"\uff0c\u901a\u5e38\u4f7f\u7528 ",(0,a.jsx)(e.code,{children:"HttpURLConnection"})," \u5b8c\u6210 HTTP \u8bf7\u6c42\u3002"]}),"\n",(0,a.jsx)(e.h3,{id:"get-\u8bf7\u6c42",children:"GET \u8bf7\u6c42"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class HttpUrlConnectionGet {\n    public static void main(String[] args) throws Exception {\n        URL url = new URL("https://api.github.com/users/octocat");\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod("GET");\n        conn.setConnectTimeout(5000);\n        conn.setReadTimeout(5000);\n        conn.setRequestProperty("Accept", "application/json");\n\n        int status = conn.getResponseCode();\n        System.out.println("\u72b6\u6001\u7801: " + status);\n\n        try (BufferedReader reader = new BufferedReader(\n            new InputStreamReader(\n                status >= 400 ? conn.getErrorStream() : conn.getInputStream(),\n                "UTF-8"\n            )\n        )) {\n            String line;\n            StringBuilder sb = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                sb.append(line);\n            }\n            System.out.println("\u54cd\u5e94\u4f53: " + sb);\n        } finally {\n            conn.disconnect();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"post-\u8bf7\u6c42json",children:"POST \u8bf7\u6c42\uff08JSON\uff09"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class HttpUrlConnectionPost {\n    public static void main(String[] args) throws Exception {\n        URL url = new URL("https://api.example.com/users");\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod("POST");\n        conn.setConnectTimeout(5000);\n        conn.setReadTimeout(5000);\n        conn.setDoOutput(true);\n        conn.setRequestProperty("Content-Type", "application/json; charset=UTF-8");\n\n        String json = "{\\n" +\n            "  \\"name\\": \\"\u5f20\u4e09\\",\\n" +\n            "  \\"email\\": \\"zhangsan@example.com\\"\\n" +\n            "}";\n\n        try (OutputStream os = conn.getOutputStream()) {\n            os.write(json.getBytes("UTF-8"));\n        }\n\n        int status = conn.getResponseCode();\n        System.out.println("\u72b6\u6001\u7801: " + status);\n\n        try (BufferedReader reader = new BufferedReader(\n            new InputStreamReader(\n                status >= 400 ? conn.getErrorStream() : conn.getInputStream(),\n                "UTF-8"\n            )\n        )) {\n            String line;\n            StringBuilder sb = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                sb.append(line);\n            }\n            System.out.println("\u54cd\u5e94\u4f53: " + sb);\n        } finally {\n            conn.disconnect();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"http-client\u6269\u5c55jdk-11",children:"HTTP Client\uff08\u6269\u5c55\uff1aJDK 11+\uff09"}),"\n",(0,a.jsx)(e.p,{children:"JDK 11 \u5f15\u5165\u4e86\u65b0\u7684 HTTP Client API\uff0c\u63d0\u4f9b\u4e86\u66f4\u73b0\u4ee3\u548c\u5f3a\u5927\u7684 HTTP \u901a\u4fe1\u529f\u80fd\u3002"}),"\n",(0,a.jsx)(e.h3,{id:"get-\u8bf7\u6c42-1",children:"GET \u8bf7\u6c42"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.URI;\nimport java.net.http.*;\nimport java.time.Duration;\n\npublic class HttpClientGetExample {\n    public static void main(String[] args) {\n        try {\n            // \u521b\u5efa HttpClient\n            HttpClient client = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .connectTimeout(Duration.ofSeconds(10))\n                .build();\n\n            // \u521b\u5efa\u8bf7\u6c42\n            HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create("https://api.github.com/users/octocat"))\n                .header("Accept", "application/json")\n                .GET()\n                .build();\n\n            // \u53d1\u9001\u8bf7\u6c42\uff08\u540c\u6b65\uff09\n            HttpResponse<String> response = client.send(\n                request,\n                HttpResponse.BodyHandlers.ofString()\n            );\n\n            // \u5904\u7406\u54cd\u5e94\n            System.out.println("\u72b6\u6001\u7801: " + response.statusCode());\n            System.out.println("\u54cd\u5e94\u5934: " + response.headers());\n            System.out.println("\u54cd\u5e94\u4f53: " + response.body());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"post-\u8bf7\u6c42",children:"POST \u8bf7\u6c42"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.URI;\nimport java.net.http.*;\n\npublic class HttpClientPostExample {\n    public static void main(String[] args) {\n        try {\n            HttpClient client = HttpClient.newHttpClient();\n\n            // JSON \u6570\u636e\uff08\u793a\u4f8b\u4f7f\u7528\u666e\u901a\u5b57\u7b26\u4e32\uff0c\u907f\u514d\u4f9d\u8d56 Java 15+ \u7684\u6587\u672c\u5757\u8bed\u6cd5\uff09\n            String json = "{\\n" +\n                "  \\"name\\": \\"\u5f20\u4e09\\",\\n" +\n                "  \\"email\\": \\"zhangsan@example.com\\"\\n" +\n                "}";\n\n            HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create("https://api.example.com/users"))\n                .header("Content-Type", "application/json")\n                .POST(HttpRequest.BodyPublishers.ofString(json))\n                .build();\n\n            HttpResponse<String> response = client.send(\n                request,\n                HttpResponse.BodyHandlers.ofString()\n            );\n\n            System.out.println("\u72b6\u6001\u7801: " + response.statusCode());\n            System.out.println("\u54cd\u5e94: " + response.body());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u5f02\u6b65\u8bf7\u6c42",children:"\u5f02\u6b65\u8bf7\u6c42"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.URI;\nimport java.net.http.*;\nimport java.util.concurrent.CompletableFuture;\n\npublic class HttpClientAsyncExample {\n    public static void main(String[] args) {\n        HttpClient client = HttpClient.newHttpClient();\n\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create("https://api.github.com/users/octocat"))\n            .build();\n\n        // \u5f02\u6b65\u53d1\u9001\u8bf7\u6c42\n        CompletableFuture<HttpResponse<String>> futureResponse =\n            client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n\n        // \u5904\u7406\u54cd\u5e94\n        futureResponse\n            .thenApply(HttpResponse::body)\n            .thenAccept(System.out::println)\n            .join();  // \u7b49\u5f85\u5b8c\u6210\n\n        System.out.println("\u8bf7\u6c42\u5df2\u53d1\u9001\uff0c\u7b49\u5f85\u54cd\u5e94...");\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u4e0b\u8f7d\u6587\u4ef6",children:"\u4e0b\u8f7d\u6587\u4ef6"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.URI;\nimport java.net.http.*;\nimport java.nio.file.*;\n\npublic class FileDownloadExample {\n    public static void main(String[] args) {\n        try {\n            HttpClient client = HttpClient.newHttpClient();\n\n            HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create("https://example.com/file.zip"))\n                .build();\n\n            // \u4e0b\u8f7d\u5230\u6587\u4ef6\n            Path downloadPath = Paths.get("downloaded-file.zip");\n            HttpResponse<Path> response = client.send(\n                request,\n                HttpResponse.BodyHandlers.ofFile(downloadPath)\n            );\n\n            System.out.println("\u6587\u4ef6\u5df2\u4e0b\u8f7d\u5230: " + response.body());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"inetaddress",children:"InetAddress"}),"\n",(0,a.jsx)(e.p,{children:"InetAddress \u7c7b\u7528\u4e8e\u8868\u793a IP \u5730\u5740\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.net.*;\n\npublic class InetAddressExample {\n    public static void main(String[] args) {\n        try {\n            // \u83b7\u53d6\u672c\u673a\u5730\u5740\n            InetAddress localhost = InetAddress.getLocalHost();\n            System.out.println("\u672c\u673a\u540d\u79f0: " + localhost.getHostName());\n            System.out.println("\u672c\u673aIP: " + localhost.getHostAddress());\n\n            // \u6839\u636e\u4e3b\u673a\u540d\u83b7\u53d6\u5730\u5740\n            InetAddress google = InetAddress.getByName("www.google.com");\n            System.out.println("Google IP: " + google.getHostAddress());\n\n            // \u83b7\u53d6\u6240\u6709IP\u5730\u5740\n            InetAddress[] allAddresses =\n                InetAddress.getAllByName("www.google.com");\n            for (InetAddress addr : allAddresses) {\n                System.out.println("IP: " + addr.getHostAddress());\n            }\n\n            // \u6d4b\u8bd5\u53ef\u8fbe\u6027\n            boolean reachable = google.isReachable(5000);\n            System.out.println("\u662f\u5426\u53ef\u8fbe: " + reachable);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u5b9e\u6218\u793a\u4f8b\u804a\u5929\u5ba4",children:"\u5b9e\u6218\u793a\u4f8b\uff1a\u804a\u5929\u5ba4"}),"\n",(0,a.jsx)(e.h3,{id:"\u670d\u52a1\u5668\u7aef-1",children:"\u670d\u52a1\u5668\u7aef"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.net.*;\nimport java.util.*;\nimport java.util.concurrent.*;\n\npublic class ChatServer {\n    private static final int PORT = 8888;\n    private static Set<PrintWriter> clientWriters =\n        ConcurrentHashMap.newKeySet();\n\n    public static void main(String[] args) {\n        System.out.println("\u804a\u5929\u670d\u52a1\u5668\u542f\u52a8...");\n\n        ExecutorService pool = Executors.newCachedThreadPool();\n\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n            while (true) {\n                Socket socket = serverSocket.accept();\n                pool.execute(new ClientHandler(socket));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    static class ClientHandler implements Runnable {\n        private Socket socket;\n        private PrintWriter out;\n        private String userName;\n\n        public ClientHandler(Socket socket) {\n            this.socket = socket;\n        }\n\n        @Override\n        public void run() {\n            try (\n                BufferedReader in = new BufferedReader(\n                    new InputStreamReader(socket.getInputStream())\n                )\n            ) {\n                out = new PrintWriter(socket.getOutputStream(), true);\n\n                // \u83b7\u53d6\u7528\u6237\u540d\n                out.println("\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d:");\n                userName = in.readLine();\n\n                synchronized (clientWriters) {\n                    clientWriters.add(out);\n                }\n\n                broadcast(userName + " \u52a0\u5165\u4e86\u804a\u5929\u5ba4");\n\n                // \u5904\u7406\u6d88\u606f\n                String message;\n                while ((message = in.readLine()) != null) {\n                    broadcast(userName + ": " + message);\n                }\n            } catch (IOException e) {\n                System.out.println("\u8fde\u63a5\u9519\u8bef: " + e.getMessage());\n            } finally {\n                if (userName != null) {\n                    broadcast(userName + " \u79bb\u5f00\u4e86\u804a\u5929\u5ba4");\n                }\n                if (out != null) {\n                    clientWriters.remove(out);\n                }\n                try {\n                    socket.close();\n                } catch (IOException e) {\n                }\n            }\n        }\n\n        private void broadcast(String message) {\n            System.out.println(message);\n            synchronized (clientWriters) {\n                for (PrintWriter writer : clientWriters) {\n                    writer.println(message);\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u5ba2\u6237\u7aef-1",children:"\u5ba2\u6237\u7aef"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'import java.io.*;\nimport java.net.*;\n\npublic class ChatClient {\n    private static final String HOST = "localhost";\n    private static final int PORT = 8888;\n\n    public static void main(String[] args) {\n        try (\n            Socket socket = new Socket(HOST, PORT);\n            BufferedReader in = new BufferedReader(\n                new InputStreamReader(socket.getInputStream())\n            );\n            PrintWriter out = new PrintWriter(\n                socket.getOutputStream(), true\n            );\n            BufferedReader console = new BufferedReader(\n                new InputStreamReader(System.in)\n            )\n        ) {\n            // \u542f\u52a8\u63a5\u6536\u7ebf\u7a0b\n            Thread receiveThread = new Thread(() -> {\n                try {\n                    String message;\n                    while ((message = in.readLine()) != null) {\n                        System.out.println(message);\n                    }\n                } catch (IOException e) {\n                }\n            });\n            receiveThread.start();\n\n            // \u53d1\u9001\u6d88\u606f\n            String userInput;\n            while ((userInput = console.readLine()) != null) {\n                out.println(userInput);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,a.jsx)(e.h3,{id:"1-\u8d44\u6e90\u7ba1\u7406",children:"1. \u8d44\u6e90\u7ba1\u7406"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// \u2705 \u4f7f\u7528 try-with-resources \u81ea\u52a8\u5173\u95ed\u8d44\u6e90\ntry (\n    Socket socket = new Socket(host, port);\n    InputStream in = socket.getInputStream();\n    OutputStream out = socket.getOutputStream()\n) {\n    // \u4f7f\u7528 socket\n} catch (IOException e) {\n    e.printStackTrace();\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"2-\u8d85\u65f6\u8bbe\u7f6e",children:"2. \u8d85\u65f6\u8bbe\u7f6e"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// \u2705 \u8bbe\u7f6e\u5408\u9002\u7684\u8d85\u65f6\u65f6\u95f4\nSocket socket = new Socket();\nsocket.connect(new InetSocketAddress(host, port), 5000);  // \u8fde\u63a5\u8d85\u65f6\nsocket.setSoTimeout(10000);  // \u8bfb\u53d6\u8d85\u65f6\n"})}),"\n",(0,a.jsx)(e.h3,{id:"3-\u7ebf\u7a0b\u6c60\u5904\u7406\u5e76\u53d1",children:"3. \u7ebf\u7a0b\u6c60\u5904\u7406\u5e76\u53d1"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:"// \u2705 \u4f7f\u7528\u7ebf\u7a0b\u6c60\u800c\u4e0d\u662f\u4e3a\u6bcf\u4e2a\u8fde\u63a5\u521b\u5efa\u65b0\u7ebf\u7a0b\nExecutorService threadPool = Executors.newFixedThreadPool(10);\nthreadPool.submit(new ClientHandler(socket));\n"})}),"\n",(0,a.jsx)(e.h3,{id:"4-\u5f02\u5e38\u5904\u7406",children:"4. \u5f02\u5e38\u5904\u7406"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-java",children:'// \u2705 \u5904\u7406\u7f51\u7edc\u5f02\u5e38\ntry {\n    // \u7f51\u7edc\u64cd\u4f5c\n} catch (SocketTimeoutException e) {\n    System.err.println("\u8fde\u63a5\u8d85\u65f6");\n} catch (UnknownHostException e) {\n    System.err.println("\u672a\u77e5\u4e3b\u673a");\n} catch (IOException e) {\n    System.err.println("IO \u9519\u8bef: " + e.getMessage());\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"TCP Socket"}),"\uff1a\u9762\u5411\u8fde\u63a5\u7684\u53ef\u9760\u4f20\u8f93\uff0c\u9002\u7528\u4e8e\u9700\u8981\u53ef\u9760\u6027\u7684\u573a\u666f"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"UDP Socket"}),"\uff1a\u65e0\u8fde\u63a5\u7684\u5feb\u901f\u4f20\u8f93\uff0c\u9002\u7528\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u9ad8\u7684\u573a\u666f"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"URL/URLConnection"}),"\uff1a\u8bbf\u95ee Web \u8d44\u6e90\u7684\u4f20\u7edf\u65b9\u5f0f"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"HttpURLConnection"}),"\uff1aJDK 8 \u4e0b\u5e38\u7528\u7684 HTTP \u901a\u4fe1\u65b9\u5f0f"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"HTTP Client"}),"\uff1a\u6269\u5c55\u5185\u5bb9\uff0cJDK 11+ \u63d0\u4f9b\u7684\u73b0\u4ee3 HTTP API\uff0c\u652f\u6301\u540c\u6b65/\u5f02\u6b65\u8bf7\u6c42"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u591a\u7ebf\u7a0b\u670d\u52a1\u5668"}),"\uff1a\u4f7f\u7528\u7ebf\u7a0b\u6c60\u5904\u7406\u5e76\u53d1\u8fde\u63a5"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u8d44\u6e90\u7ba1\u7406"}),"\uff1a\u4f7f\u7528 try-with-resources \u786e\u4fdd\u8d44\u6e90\u6b63\u786e\u91ca\u653e"]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"\u638c\u63e1 Java \u7f51\u7edc\u7f16\u7a0b\u80fd\u591f\u5f00\u53d1\u5404\u79cd\u7f51\u7edc\u5e94\u7528\uff0c\u5982\u804a\u5929\u5ba4\u3001\u6587\u4ef6\u4f20\u8f93\u3001HTTP \u670d\u52a1\u7b49\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}}}]);