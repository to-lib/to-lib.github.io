"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[4934],{22198:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"react/typescript","title":"TypeScript \u4e0e React","description":"[!TIP]","source":"@site/docs/react/typescript.md","sourceDirName":"react","slug":"/react/typescript","permalink":"/docs/react/typescript","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/react/typescript.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22,"title":"TypeScript \u4e0e React"},"sidebar":"react","previous":{"title":"\u72b6\u6001\u7ba1\u7406","permalink":"/docs/react/state-management"},"next":{"title":"SSR \u4e0e Next.js","permalink":"/docs/react/ssr-nextjs"}}');var s=t(22714),i=t(48885);const c={sidebar_position:22,title:"TypeScript \u4e0e React"},a="TypeScript \u4e0e React",l={},o=[{value:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb",id:"-\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u521b\u5efa TypeScript \u9879\u76ee",id:"\u521b\u5efa-typescript-\u9879\u76ee",level:3},{value:"\ud83d\udcdd \u7ec4\u4ef6\u7c7b\u578b",id:"-\u7ec4\u4ef6\u7c7b\u578b",level:2},{value:"\u51fd\u6570\u7ec4\u4ef6",id:"\u51fd\u6570\u7ec4\u4ef6",level:3},{value:"Children Props",id:"children-props",level:3},{value:"\ud83c\udfaf Hooks \u7c7b\u578b",id:"-hooks-\u7c7b\u578b",level:2},{value:"useState",id:"usestate",level:3},{value:"useRef",id:"useref",level:3},{value:"useReducer",id:"usereducer",level:3},{value:"\ud83c\udfa8 \u4e8b\u4ef6\u5904\u7406",id:"-\u4e8b\u4ef6\u5904\u7406",level:2},{value:"\ud83d\udca1 \u5e38\u7528\u7c7b\u578b",id:"-\u5e38\u7528\u7c7b\u578b",level:2},{value:"\ud83d\udd27 \u9ad8\u7ea7\u7c7b\u578b",id:"-\u9ad8\u7ea7\u7c7b\u578b",level:2},{value:"\u6cdb\u578b\u7ec4\u4ef6",id:"\u6cdb\u578b\u7ec4\u4ef6",level:3},{value:"forwardRef",id:"forwardref",level:3},{value:"\ud83d\udcda \u5b9e\u7528\u793a\u4f8b",id:"-\u5b9e\u7528\u793a\u4f8b",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"typescript-\u4e0e-react",children:"TypeScript \u4e0e React"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"[!TIP]\nTypeScript \u4e3a React \u5e94\u7528\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7c7b\u578b\u5b89\u5168\u4fdd\u969c\u3002\u672c\u6587\u6db5\u76d6 React + TypeScript \u7684\u6838\u5fc3\u7528\u6cd5\u3002"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-\u5feb\u901f\u5f00\u59cb",children:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb"}),"\n",(0,s.jsx)(n.h3,{id:"\u521b\u5efa-typescript-\u9879\u76ee",children:"\u521b\u5efa TypeScript \u9879\u76ee"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528 Vite\nnpm create vite@latest my-app -- --template react-ts\n\n# \u4f7f\u7528 Create React App\nnpx create-react-app my-app --template typescript\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u7ec4\u4ef6\u7c7b\u578b",children:"\ud83d\udcdd \u7ec4\u4ef6\u7c7b\u578b"}),"\n",(0,s.jsx)(n.h3,{id:"\u51fd\u6570\u7ec4\u4ef6",children:"\u51fd\u6570\u7ec4\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// \u57fa\u7840\u7ec4\u4ef6\nfunction Greeting(): JSX.Element {\n  return <h1>Hello</h1>;\n}\n\n// \u5e26 Props\ninterface GreetingProps {\n  name: string;\n  age?: number; // \u53ef\u9009\n}\n\nfunction Greeting({ name, age }: GreetingProps): JSX.Element {\n  return <h1>Hello {name}</h1>;\n}\n\n// \u4f7f\u7528 FC \u7c7b\u578b\uff08\u53ef\u9009\uff09\nconst Greeting: React.FC<GreetingProps> = ({ name, age }) => {\n  return <h1>Hello {name}</h1>;\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"children-props",children:"Children Props"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface CardProps {\n  title: string;\n  children: React.ReactNode;\n}\n\nfunction Card({ title, children }: CardProps) {\n  return (\n    <div>\n      <h2>{title}</h2>\n      {children}\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-hooks-\u7c7b\u578b",children:"\ud83c\udfaf Hooks \u7c7b\u578b"}),"\n",(0,s.jsx)(n.h3,{id:"usestate",children:"useState"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// \u7c7b\u578b\u63a8\u65ad\nconst [count, setCount] = useState(0); // number\n\n// \u663e\u5f0f\u7c7b\u578b\nconst [user, setUser] = useState<User | null>(null);\nconst [items, setItems] = useState<string[]>([]);\n\ninterface User {\n  id: number;\n  name: string;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"useref",children:"useRef"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// DOM \u5f15\u7528\nconst inputRef = useRef<HTMLInputElement>(null);\n\n// \u53ef\u53d8\u503c\nconst timerRef = useRef<number | null>(null);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"usereducer",children:"useReducer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'interface State {\n  count: number;\n}\n\ntype Action =\n  | { type: "increment" }\n  | { type: "decrement" }\n  | { type: "set"; payload: number };\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case "increment":\n      return { count: state.count + 1 };\n    case "decrement":\n      return { count: state.count - 1 };\n    case "set":\n      return { count: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction Counter() {\n  const [state, dispatch] = useReducer(reducer, { count: 0 });\n\n  return (\n    <div>\n      <p>{state.count}</p>\n      <button onClick={() => dispatch({ type: "increment" })}>+</button>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-\u4e8b\u4ef6\u5904\u7406",children:"\ud83c\udfa8 \u4e8b\u4ef6\u5904\u7406"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function Form() {\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    console.log(e.target.value);\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n  };\n\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    console.log(e.currentTarget);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input onChange={handleChange} />\n      <button onClick={handleClick}>Submit</button>\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u5e38\u7528\u7c7b\u578b",children:"\ud83d\udca1 \u5e38\u7528\u7c7b\u578b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'// \u7ec4\u4ef6 Props\ninterface ButtonProps {\n  variant: "primary" | "secondary";\n  size?: "small" | "medium" | "large";\n  onClick?: () => void;\n  children: React.ReactNode;\n}\n\n// \u8868\u5355\u4e8b\u4ef6\ntype InputChangeEvent = React.ChangeEvent<HTMLInputElement>;\ntype FormSubmitEvent = React.FormEvent<HTMLFormElement>;\n\n// \u6837\u5f0f\u5bf9\u8c61\nconst styles: React.CSSProperties = {\n  color: "red",\n  fontSize: 16,\n};\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-\u9ad8\u7ea7\u7c7b\u578b",children:"\ud83d\udd27 \u9ad8\u7ea7\u7c7b\u578b"}),"\n",(0,s.jsx)(n.h3,{id:"\u6cdb\u578b\u7ec4\u4ef6",children:"\u6cdb\u578b\u7ec4\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface ListProps<T> {\n  items: T[];\n  renderItem: (item: T) => React.ReactNode;\n}\n\nfunction List<T>({ items, renderItem }: ListProps<T>) {\n  return (\n    <ul>\n      {items.map((item, index) => (\n        <li key={index}>{renderItem(item)}</li>\n      ))}\n    </ul>\n  );\n}\n\n// \u4f7f\u7528\n<List<User> items={users} renderItem={(user) => <div>{user.name}</div>} />;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"forwardref",children:"forwardRef"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface InputProps {\n  placeholder?: string;\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ placeholder }, ref) => {\n    return <input ref={ref} placeholder={placeholder} />;\n  }\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-\u5b9e\u7528\u793a\u4f8b",children:"\ud83d\udcda \u5b9e\u7528\u793a\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// API \u54cd\u5e94\u7c7b\u578b\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\ninterface ApiResponse<T> {\n  data: T;\n  error?: string;\n}\n\n// \u6570\u636e\u83b7\u53d6\u7ec4\u4ef6\nfunction UserProfile({ userId }: { userId: number }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetch(`/api/users/${userId}`)\n      .then((res) => res.json() as Promise<ApiResponse<User>>)\n      .then(({ data }) => {\n        setUser(data);\n        setLoading(false);\n      });\n  }, [userId]);\n\n  if (loading) return <div>Loading...</div>;\n  if (!user) return <div>Not found</div>;\n\n  return <div>{user.name}</div>;\n}\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u4e0b\u4e00\u6b65"}),"\uff1a\u5b66\u4e60 ",(0,s.jsx)(n.a,{href:"./testing",children:"\u6d4b\u8bd5"})," \u4fdd\u8bc1\u4ee3\u7801\u8d28\u91cf\uff0c\u6216\u67e5\u770b ",(0,s.jsx)(n.a,{href:"./ssr-nextjs",children:"SSR/Next.js"})," \u4e86\u89e3\u670d\u52a1\u7aef\u6e32\u67d3\u3002"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},48885:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var r=t(99378);const s={},i=r.createContext(s);function c(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);