"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[5164],{5609:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"react/react-router","title":"React Router","description":"[!TIP]","source":"@site/docs/react/react-router.md","sourceDirName":"react","slug":"/react/react-router","permalink":"/docs/react/react-router","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/react/react-router.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"title":"React Router"},"sidebar":"react","previous":{"title":"React 19 \u65b0\u7279\u6027","permalink":"/docs/react/react19-features"},"next":{"title":"\u72b6\u6001\u7ba1\u7406","permalink":"/docs/react/state-management"}}');var o=t(22714),a=t(48885);const s={sidebar_position:20,title:"React Router"},i="React Router \u8def\u7531\u7ba1\u7406",c={},u=[{value:"\ud83d\udce6 \u5b89\u88c5",id:"-\u5b89\u88c5",level:2},{value:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb",id:"-\u5feb\u901f\u5f00\u59cb",level:2},{value:"\u57fa\u7840\u8def\u7531\u914d\u7f6e",id:"\u57fa\u7840\u8def\u7531\u914d\u7f6e",level:3},{value:"\ud83c\udfaf \u6838\u5fc3\u6982\u5ff5",id:"-\u6838\u5fc3\u6982\u5ff5",level:2},{value:"1. \u8def\u7531\u53c2\u6570",id:"1-\u8def\u7531\u53c2\u6570",level:3},{value:"2. \u67e5\u8be2\u53c2\u6570",id:"2-\u67e5\u8be2\u53c2\u6570",level:3},{value:"3. \u5d4c\u5957\u8def\u7531",id:"3-\u5d4c\u5957\u8def\u7531",level:3},{value:"4. \u7f16\u7a0b\u5f0f\u5bfc\u822a",id:"4-\u7f16\u7a0b\u5f0f\u5bfc\u822a",level:3},{value:"\ud83d\udd12 \u53d7\u4fdd\u62a4\u7684\u8def\u7531",id:"-\u53d7\u4fdd\u62a4\u7684\u8def\u7531",level:2},{value:"\ud83d\udcca \u5b8c\u6574\u793a\u4f8b",id:"-\u5b8c\u6574\u793a\u4f8b",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"react-router-\u8def\u7531\u7ba1\u7406",children:"React Router \u8def\u7531\u7ba1\u7406"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"[!TIP]\nReact Router \u662f React \u5e94\u7528\u4e2d\u6700\u6d41\u884c\u7684\u8def\u7531\u89e3\u51b3\u65b9\u6848\u3002\u672c\u6587\u57fa\u4e8e React Router v6\uff0c\u6db5\u76d6\u57fa\u7840\u5230\u9ad8\u7ea7\u7528\u6cd5\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"-\u5b89\u88c5",children:"\ud83d\udce6 \u5b89\u88c5"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install react-router-dom\n"})}),"\n",(0,o.jsx)(n.h2,{id:"-\u5feb\u901f\u5f00\u59cb",children:"\ud83d\ude80 \u5feb\u901f\u5f00\u59cb"}),"\n",(0,o.jsx)(n.h3,{id:"\u57fa\u7840\u8def\u7531\u914d\u7f6e",children:"\u57fa\u7840\u8def\u7531\u914d\u7f6e"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { BrowserRouter, Routes, Route, Link } from "react-router-dom";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <nav>\n        <Link to="/">\u9996\u9875</Link>\n        <Link to="/about">\u5173\u4e8e</Link>\n        <Link to="/contact">\u8054\u7cfb</Link>\n      </nav>\n\n      <Routes>\n        <Route path="/" element={<Home />} />\n        <Route path="/about" element={<About />} />\n        <Route path="/contact" element={<Contact />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-\u6838\u5fc3\u6982\u5ff5",children:"\ud83c\udfaf \u6838\u5fc3\u6982\u5ff5"}),"\n",(0,o.jsx)(n.h3,{id:"1-\u8def\u7531\u53c2\u6570",children:"1. \u8def\u7531\u53c2\u6570"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { useParams } from "react-router-dom";\n\nfunction App() {\n  return (\n    <Routes>\n      <Route path="/users/:id" element={<UserProfile />} />\n      <Route path="/posts/:postId/comments/:commentId" element={<Comment />} />\n    </Routes>\n  );\n}\n\nfunction UserProfile() {\n  const { id } = useParams();\n  return <div>\u7528\u6237 ID: {id}</div>;\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"2-\u67e5\u8be2\u53c2\u6570",children:"2. \u67e5\u8be2\u53c2\u6570"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { useSearchParams } from "react-router-dom";\n\nfunction SearchPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get("q");\n  const page = searchParams.get("page") || "1";\n\n  const handleSearch = (newQuery) => {\n    setSearchParams({ q: newQuery, page: "1" });\n  };\n\n  return (\n    <div>\n      <p>\u641c\u7d22: {query}</p>\n      <p>\u9875\u7801: {page}</p>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"3-\u5d4c\u5957\u8def\u7531",children:"3. \u5d4c\u5957\u8def\u7531"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'function App() {\n  return (\n    <Routes>\n      <Route path="/" element={<Layout />}>\n        <Route index element={<Home />} />\n        <Route path="about" element={<About />} />\n        <Route path="dashboard" element={<Dashboard />}>\n          <Route index element={<Overview />} />\n          <Route path="settings" element={<Settings />} />\n          <Route path="profile" element={<Profile />} />\n        </Route>\n      </Route>\n    </Routes>\n  );\n}\n\nfunction Layout() {\n  return (\n    <div>\n      <nav>{/* \u5bfc\u822a\u680f */}</nav>\n      <Outlet /> {/* \u6e32\u67d3\u5b50\u8def\u7531 */}\n    </div>\n  );\n}\n\nfunction Dashboard() {\n  return (\n    <div>\n      <aside>{/* \u4fa7\u8fb9\u680f */}</aside>\n      <main>\n        <Outlet /> {/* \u6e32\u67d3\u5d4c\u5957\u8def\u7531 */}\n      </main>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"4-\u7f16\u7a0b\u5f0f\u5bfc\u822a",children:"4. \u7f16\u7a0b\u5f0f\u5bfc\u822a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { useNavigate } from "react-router-dom";\n\nfunction LoginForm() {\n  const navigate = useNavigate();\n\n  const handleSubmit = async (credentials) => {\n    const success = await login(credentials);\n    if (success) {\n      navigate("/dashboard"); // \u8df3\u8f6c\n      // navigate(-1); // \u8fd4\u56de\u4e0a\u4e00\u9875\n      // navigate(\'/home\', { replace: true }); // \u66ff\u6362\u5386\u53f2\u8bb0\u5f55\n    }\n  };\n\n  return <form onSubmit={handleSubmit}>...</form>;\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-\u53d7\u4fdd\u62a4\u7684\u8def\u7531",children:"\ud83d\udd12 \u53d7\u4fdd\u62a4\u7684\u8def\u7531"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'function ProtectedRoute({ children }) {\n  const { user } = useAuth();\n\n  if (!user) {\n    return <Navigate to="/login" replace />;\n  }\n\n  return children;\n}\n\n// \u4f7f\u7528\n<Route\n  path="/dashboard"\n  element={\n    <ProtectedRoute>\n      <Dashboard />\n    </ProtectedRoute>\n  }\n/>;\n'})}),"\n",(0,o.jsx)(n.h2,{id:"-\u5b8c\u6574\u793a\u4f8b",children:"\ud83d\udcca \u5b8c\u6574\u793a\u4f8b"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import {\n  BrowserRouter,\n  Routes,\n  Route,\n  Link,\n  NavLink,\n  Navigate,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from "react-router-dom";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path="/" element={<Layout />}>\n          <Route index element={<Home />} />\n          <Route path="products" element={<Products />} />\n          <Route path="products/:id" element={<ProductDetail />} />\n          <Route path="cart" element={<Cart />} />\n          <Route path="login" element={<Login />} />\n          <Route\n            path="account"\n            element={\n              <ProtectedRoute>\n                <Account />\n              </ProtectedRoute>\n            }\n          />\n          <Route path="*" element={<NotFound />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nfunction Layout() {\n  return (\n    <div>\n      <header>\n        <nav>\n          <NavLink to="/">\u9996\u9875</NavLink>\n          <NavLink to="/products">\u4ea7\u54c1</NavLink>\n          <NavLink to="/cart">\u8d2d\u7269\u8f66</NavLink>\n          <NavLink to="/account">\u8d26\u6237</NavLink>\n        </nav>\n      </header>\n      <main>\n        <Outlet />\n      </main>\n      <footer>\xa9 2024</footer>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"\u4e0b\u4e00\u6b65"}),"\uff1a\u5b66\u4e60 ",(0,o.jsx)(n.a,{href:"/docs/react/state-management",children:"\u72b6\u6001\u7ba1\u7406"})," \u7ba1\u7406\u5168\u5c40\u72b6\u6001\uff0c\u6216\u67e5\u770b ",(0,o.jsx)(n.a,{href:"/docs/react/typescript",children:"TypeScript"})," \u63d0\u5347\u4ee3\u7801\u8d28\u91cf\u3002"]})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},48885:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(99378);const o={},a=r.createContext(o);function s(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);