"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[20501],{48885:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>s});var l=i(99378);const t={},a=l.createContext(t);function d(n){const e=l.useContext(a);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),l.createElement(a.Provider,{value:e},n.children)}},75933:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"ml/data-labeling","title":"\ud83c\udff7\ufe0f \u6570\u636e\u6807\u6ce8","description":"\u6570\u636e\u6807\u6ce8\u662f\u673a\u5668\u5b66\u4e60\u9879\u76ee\u4e2d\u5173\u952e\u4f46\u8017\u65f6\u7684\u73af\u8282\u3002","source":"@site/docs/ml/data-labeling.md","sourceDirName":"ml","slug":"/ml/data-labeling","permalink":"/docs/ml/data-labeling","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ml/data-labeling.md","tags":[],"version":"current","sidebarPosition":43,"frontMatter":{"sidebar_position":43,"title":"\ud83c\udff7\ufe0f \u6570\u636e\u6807\u6ce8"},"sidebar":"ml","previous":{"title":"\ud83d\udd27 MLOps \u5de5\u5177\u94fe","permalink":"/docs/ml/mlops-tools"},"next":{"title":"\ud83c\udfe5 \u9886\u57df\u7279\u5b9a ML","permalink":"/docs/ml/domain-specific-ml"}}');var t=i(22714),a=i(48885);const d={sidebar_position:43,title:"\ud83c\udff7\ufe0f \u6570\u636e\u6807\u6ce8"},s="\u6570\u636e\u6807\u6ce8",r={},c=[{value:"\u6807\u6ce8\u5de5\u5177",id:"\u6807\u6ce8\u5de5\u5177",level:2},{value:"Label Studio",id:"label-studio",level:3},{value:"CVAT (\u8ba1\u7b97\u673a\u89c6\u89c9\u6807\u6ce8)",id:"cvat-\u8ba1\u7b97\u673a\u89c6\u89c9\u6807\u6ce8",level:3},{value:"Prodigy",id:"prodigy",level:3},{value:"\u6807\u6ce8\u683c\u5f0f",id:"\u6807\u6ce8\u683c\u5f0f",level:2},{value:"COCO \u683c\u5f0f",id:"coco-\u683c\u5f0f",level:3},{value:"YOLO \u683c\u5f0f",id:"yolo-\u683c\u5f0f",level:3},{value:"VOC \u683c\u5f0f",id:"voc-\u683c\u5f0f",level:3},{value:"\u6807\u6ce8\u8d28\u91cf\u63a7\u5236",id:"\u6807\u6ce8\u8d28\u91cf\u63a7\u5236",level:2},{value:"\u534a\u81ea\u52a8\u6807\u6ce8",id:"\u534a\u81ea\u52a8\u6807\u6ce8",level:2},{value:"\u5de5\u5177\u5bf9\u6bd4",id:"\u5de5\u5177\u5bf9\u6bd4",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u6570\u636e\u6807\u6ce8",children:"\u6570\u636e\u6807\u6ce8"})}),"\n",(0,t.jsx)(e.p,{children:"\u6570\u636e\u6807\u6ce8\u662f\u673a\u5668\u5b66\u4e60\u9879\u76ee\u4e2d\u5173\u952e\u4f46\u8017\u65f6\u7684\u73af\u8282\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u6807\u6ce8\u5de5\u5177",children:"\u6807\u6ce8\u5de5\u5177"}),"\n",(0,t.jsx)(e.h3,{id:"label-studio",children:"Label Studio"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u5b89\u88c5\npip install label-studio\n\n# \u542f\u52a8\nlabel-studio start\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# API \u4f7f\u7528\nfrom label_studio_sdk import Client\n\nls = Client(url='http://localhost:8080', api_key='xxx')\nproject = ls.start_project(\n    title='\u56fe\u50cf\u5206\u7c7b',\n    label_config='''\n    <View>\n        <Image name=\"image\" value=\"$image\"/>\n        <Choices name=\"choice\" toName=\"image\">\n            <Choice value=\"Cat\"/>\n            <Choice value=\"Dog\"/>\n        </Choices>\n    </View>\n    '''\n)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"cvat-\u8ba1\u7b97\u673a\u89c6\u89c9\u6807\u6ce8",children:"CVAT (\u8ba1\u7b97\u673a\u89c6\u89c9\u6807\u6ce8)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Docker \u90e8\u7f72\ndocker-compose up -d\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u652f\u6301\u4efb\u52a1\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u56fe\u50cf\u5206\u7c7b"}),"\n",(0,t.jsx)(e.li,{children:"\u76ee\u6807\u68c0\u6d4b"}),"\n",(0,t.jsx)(e.li,{children:"\u8bed\u4e49\u5206\u5272"}),"\n",(0,t.jsx)(e.li,{children:"\u89c6\u9891\u6807\u6ce8"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"prodigy",children:"Prodigy"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u6587\u672c\u5206\u7c7b\u6807\u6ce8\nprodigy textcat.teach my_dataset en_core_web_sm ./data.jsonl\n\n# \u4e3b\u52a8\u5b66\u4e60\u5faa\u73af\nprodigy train ./model --textcat my_dataset\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6807\u6ce8\u683c\u5f0f",children:"\u6807\u6ce8\u683c\u5f0f"}),"\n",(0,t.jsx)(e.h3,{id:"coco-\u683c\u5f0f",children:"COCO \u683c\u5f0f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  "images": [\n    { "id": 1, "file_name": "image.jpg", "width": 640, "height": 480 }\n  ],\n  "annotations": [\n    {\n      "id": 1,\n      "image_id": 1,\n      "category_id": 1,\n      "bbox": [100, 100, 200, 150],\n      "area": 30000,\n      "iscrowd": 0\n    }\n  ],\n  "categories": [{ "id": 1, "name": "cat" }]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"yolo-\u683c\u5f0f",children:"YOLO \u683c\u5f0f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"# class_id x_center y_center width height (\u5f52\u4e00\u5316)\n0 0.5 0.5 0.3 0.4\n"})}),"\n",(0,t.jsx)(e.h3,{id:"voc-\u683c\u5f0f",children:"VOC \u683c\u5f0f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"<annotation>\n    <object>\n        <name>cat</name>\n        <bndbox>\n            <xmin>100</xmin>\n            <ymin>100</ymin>\n            <xmax>300</xmax>\n            <ymax>250</ymax>\n        </bndbox>\n    </object>\n</annotation>\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6807\u6ce8\u8d28\u91cf\u63a7\u5236",children:"\u6807\u6ce8\u8d28\u91cf\u63a7\u5236"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# \u4e00\u81f4\u6027\u68c0\u67e5\ndef compute_agreement(annotations_1, annotations_2):\n    # Cohen's Kappa\n    from sklearn.metrics import cohen_kappa_score\n    return cohen_kappa_score(annotations_1, annotations_2)\n\n# \u9ec4\u91d1\u6807\u51c6\u6d4b\u8bd5\ndef quality_check(annotator_labels, gold_labels):\n    accuracy = (annotator_labels == gold_labels).mean()\n    return accuracy > 0.9\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u534a\u81ea\u52a8\u6807\u6ce8",children:"\u534a\u81ea\u52a8\u6807\u6ce8"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# \u6a21\u578b\u9884\u6807\u6ce8 + \u4eba\u5de5\u6821\u6b63\ndef pre_annotate(model, images):\n    predictions = model.predict(images)\n    # \u5bfc\u51fa\u5230\u6807\u6ce8\u5de5\u5177\u8fdb\u884c\u4eba\u5de5\u6821\u6b63\n    return predictions\n\n# \u4e3b\u52a8\u5b66\u4e60\u9009\u62e9\ndef select_for_annotation(model, unlabeled_data, n=100):\n    uncertainty = model.predict_proba(unlabeled_data).max(axis=1)\n    uncertain_idx = uncertainty.argsort()[:n]\n    return unlabeled_data[uncertain_idx]\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5de5\u5177\u5bf9\u6bd4",children:"\u5de5\u5177\u5bf9\u6bd4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u5de5\u5177"}),(0,t.jsx)(e.th,{children:"\u7c7b\u578b"}),(0,t.jsx)(e.th,{children:"\u4f18\u70b9"}),(0,t.jsx)(e.th,{children:"\u7f3a\u70b9"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Label Studio"}),(0,t.jsx)(e.td,{children:"\u901a\u7528"}),(0,t.jsx)(e.td,{children:"\u5f00\u6e90\u3001\u7075\u6d3b"}),(0,t.jsx)(e.td,{children:"\u9700\u8981\u90e8\u7f72"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"CVAT"}),(0,t.jsx)(e.td,{children:"CV"}),(0,t.jsx)(e.td,{children:"\u529f\u80fd\u5f3a\u5927"}),(0,t.jsx)(e.td,{children:"\u914d\u7f6e\u590d\u6742"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Prodigy"}),(0,t.jsx)(e.td,{children:"NLP"}),(0,t.jsx)(e.td,{children:"\u4e3b\u52a8\u5b66\u4e60"}),(0,t.jsx)(e.td,{children:"\u4ed8\u8d39"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Labelbox"}),(0,t.jsx)(e.td,{children:"\u4e91\u670d\u52a1"}),(0,t.jsx)(e.td,{children:"\u6613\u7528"}),(0,t.jsx)(e.td,{children:"\u6210\u672c\u9ad8"})]})]})]})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}}}]);