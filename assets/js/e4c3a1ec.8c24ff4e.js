"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[51196],{48885:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>l});var i=t(99378);const s={},r=i.createContext(s);function o(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),i.createElement(r.Provider,{value:e},n.children)}},81774:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cpp/encapsulation","title":"\u5c01\u88c5","description":"\u5c01\u88c5\u662f\u9762\u5411\u5bf9\u8c61\u7684\u6838\u5fc3\u539f\u5219\uff0c\u5c06\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u9690\u85cf\u5185\u90e8\u5b9e\u73b0\u7ec6\u8282\u3002","source":"@site/docs/cpp/encapsulation.md","sourceDirName":"cpp","slug":"/cpp/encapsulation","permalink":"/docs/cpp/encapsulation","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/encapsulation.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"\u5c01\u88c5"},"sidebar":"cpp","previous":{"title":"\u591a\u6001","permalink":"/docs/cpp/polymorphism"},"next":{"title":"\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3","permalink":"/docs/cpp/abstract-interface"}}');var s=t(22714),r=t(48885);const o={sidebar_position:11,title:"\u5c01\u88c5"},l="C++ \u5c01\u88c5",c={},a=[{value:"\ud83d\udd10 \u8bbf\u95ee\u63a7\u5236",id:"-\u8bbf\u95ee\u63a7\u5236",level:2},{value:"\ud83c\udfaf Getter \u548c Setter",id:"-getter-\u548c-setter",level:2},{value:"\ud83d\udc65 \u53cb\u5143",id:"-\u53cb\u5143",level:2},{value:"\ud83d\udce6 Pimpl \u6a21\u5f0f",id:"-pimpl-\u6a21\u5f0f",level:2},{value:"\u26a1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"c-\u5c01\u88c5",children:"C++ \u5c01\u88c5"})}),"\n",(0,s.jsx)(e.p,{children:"\u5c01\u88c5\u662f\u9762\u5411\u5bf9\u8c61\u7684\u6838\u5fc3\u539f\u5219\uff0c\u5c06\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u9690\u85cf\u5185\u90e8\u5b9e\u73b0\u7ec6\u8282\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"-\u8bbf\u95ee\u63a7\u5236",children:"\ud83d\udd10 \u8bbf\u95ee\u63a7\u5236"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class BankAccount {\nprivate:        // \u79c1\u6709\uff1a\u53ea\u6709\u7c7b\u5185\u90e8\u53ef\u8bbf\u95ee\n    double balance;\n    std::string accountNumber;\n\nprotected:      // \u4fdd\u62a4\uff1a\u7c7b\u5185\u90e8\u548c\u6d3e\u751f\u7c7b\u53ef\u8bbf\u95ee\n    std::string ownerName;\n\npublic:         // \u516c\u6709\uff1a\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u8bbf\u95ee\n    BankAccount(const std::string& owner, double initial)\n        : ownerName(owner), balance(initial) {}\n\n    // \u516c\u6709\u63a5\u53e3\n    double getBalance() const { return balance; }\n\n    bool deposit(double amount) {\n        if (amount > 0) {\n            balance += amount;\n            return true;\n        }\n        return false;\n    }\n\n    bool withdraw(double amount) {\n        if (amount > 0 && amount <= balance) {\n            balance -= amount;\n            return true;\n        }\n        return false;\n    }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-getter-\u548c-setter",children:"\ud83c\udfaf Getter \u548c Setter"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Person {\nprivate:\n    std::string name;\n    int age;\n\npublic:\n    // Getter\n    const std::string& getName() const { return name; }\n    int getAge() const { return age; }\n\n    // Setter\uff08\u5e26\u9a8c\u8bc1\uff09\n    void setName(const std::string& n) {\n        if (!n.empty()) name = n;\n    }\n\n    void setAge(int a) {\n        if (a >= 0 && a <= 150) age = a;\n    }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u53cb\u5143",children:"\ud83d\udc65 \u53cb\u5143"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Box {\nprivate:\n    double width;\n\n    // \u53cb\u5143\u51fd\u6570\u53ef\u8bbf\u95ee\u79c1\u6709\u6210\u5458\n    friend void printWidth(const Box& b);\n\n    // \u53cb\u5143\u7c7b\n    friend class BoxFactory;\n};\n\nvoid printWidth(const Box& b) {\n    std::cout << b.width << std::endl;  // \u53ef\u8bbf\u95ee\n}\n\nclass BoxFactory {\npublic:\n    Box createBox(double w) {\n        Box b;\n        b.width = w;  // \u53ef\u8bbf\u95ee\u79c1\u6709\u6210\u5458\n        return b;\n    }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-pimpl-\u6a21\u5f0f",children:"\ud83d\udce6 Pimpl \u6a21\u5f0f"}),"\n",(0,s.jsx)(e.p,{children:"\u9690\u85cf\u5b9e\u73b0\u7ec6\u8282\uff0c\u51cf\u5c11\u7f16\u8bd1\u4f9d\u8d56\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// widget.h\nclass Widget {\npublic:\n    Widget();\n    ~Widget();\n    void doSomething();\n\nprivate:\n    class Impl;  // \u524d\u5411\u58f0\u660e\n    std::unique_ptr<Impl> pImpl;\n};\n\n// widget.cpp\nclass Widget::Impl {\npublic:\n    void doSomethingImpl() { /* \u5b9e\u73b0 */ }\n};\n\nWidget::Widget() : pImpl(std::make_unique<Impl>()) {}\nWidget::~Widget() = default;\nvoid Widget::doSomething() { pImpl->doSomethingImpl(); }\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\u26a1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6570\u636e\u6210\u5458\u79c1\u6709\u5316"})," - \u901a\u8fc7\u516c\u6709\u65b9\u6cd5\u8bbf\u95ee"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6700\u5c0f\u5316\u516c\u6709\u63a5\u53e3"})," - \u53ea\u66b4\u9732\u5fc5\u8981\u7684\u65b9\u6cd5"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4f7f\u7528 const"})," - \u4e0d\u4fee\u6539\u72b6\u6001\u7684\u65b9\u6cd5\u6807\u8bb0\u4e3a const"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u9a8c\u8bc1\u8f93\u5165"})," - \u5728 setter \u4e2d\u68c0\u67e5\u6709\u6548\u6027"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u8003\u8651 Pimpl"})," - \u51cf\u5c11\u7f16\u8bd1\u4f9d\u8d56"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);