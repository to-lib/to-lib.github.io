"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[87960],{48885:(n,e,l)=>{l.d(e,{R:()=>i,x:()=>a});var t=l(99378);const r={},s=t.createContext(r);function i(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(s.Provider,{value:e},n.children)}},84294:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"rust/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"\u5feb\u901f\u67e5\u627e Rust \u5e38\u7528\u8bed\u6cd5\u3001\u6a21\u5f0f\u548c\u6807\u51c6\u5e93\u529f\u80fd\u3002","source":"@site/docs/rust/quick-reference.md","sourceDirName":"rust","slug":"/rust/quick-reference","permalink":"/docs/rust/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/rust/quick-reference.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15,"title":"\u5feb\u901f\u53c2\u8003"},"sidebar":"rust","previous":{"title":"Rust \u6700\u4f73\u5b9e\u8df5","permalink":"/docs/rust/best-practices"},"next":{"title":"\u5e38\u89c1\u95ee\u9898 FAQ","permalink":"/docs/rust/faq"}}');var r=l(22714),s=l(48885);const i={sidebar_position:15,title:"\u5feb\u901f\u53c2\u8003"},a="Rust \u5feb\u901f\u53c2\u8003",d={},c=[{value:"\u57fa\u7840\u8bed\u6cd5",id:"\u57fa\u7840\u8bed\u6cd5",level:2},{value:"\u53d8\u91cf\u58f0\u660e",id:"\u53d8\u91cf\u58f0\u660e",level:3},{value:"\u6570\u636e\u7c7b\u578b",id:"\u6570\u636e\u7c7b\u578b",level:3},{value:"\u51fd\u6570",id:"\u51fd\u6570",level:3},{value:"\u63a7\u5236\u6d41",id:"\u63a7\u5236\u6d41",level:3},{value:"\u6240\u6709\u6743\u89c4\u5219",id:"\u6240\u6709\u6743\u89c4\u5219",level:2},{value:"\u4e09\u5927\u89c4\u5219",id:"\u4e09\u5927\u89c4\u5219",level:3},{value:"\u79fb\u52a8 vs \u590d\u5236",id:"\u79fb\u52a8-vs-\u590d\u5236",level:3},{value:"\u501f\u7528\u89c4\u5219",id:"\u501f\u7528\u89c4\u5219",level:3},{value:"\u5e38\u7528 Trait",id:"\u5e38\u7528-trait",level:2},{value:"Display \u548c Debug",id:"display-\u548c-debug",level:3},{value:"Clone \u548c Copy",id:"clone-\u548c-copy",level:3},{value:"Iterator",id:"iterator",level:3},{value:"From \u548c Into",id:"from-\u548c-into",level:3},{value:"\u6807\u51c6\u5e93\u5e38\u7528\u6a21\u5757",id:"\u6807\u51c6\u5e93\u5e38\u7528\u6a21\u5757",level:2},{value:"std::collections",id:"stdcollections",level:3},{value:"std::fs - \u6587\u4ef6\u64cd\u4f5c",id:"stdfs---\u6587\u4ef6\u64cd\u4f5c",level:3},{value:"std::io - \u8f93\u5165\u8f93\u51fa",id:"stdio---\u8f93\u5165\u8f93\u51fa",level:3},{value:"std::path - \u8def\u5f84\u64cd\u4f5c",id:"stdpath---\u8def\u5f84\u64cd\u4f5c",level:3},{value:"std::env - \u73af\u5883\u53d8\u91cf",id:"stdenv---\u73af\u5883\u53d8\u91cf",level:3},{value:"std::thread - \u7ebf\u7a0b",id:"stdthread---\u7ebf\u7a0b",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:2},{value:"Result \u548c Option",id:"result-\u548c-option",level:3},{value:"? \u8fd0\u7b97\u7b26",id:"-\u8fd0\u7b97\u7b26",level:3},{value:"unwrap \u548c expect",id:"unwrap-\u548c-expect",level:3},{value:"\u81ea\u5b9a\u4e49\u9519\u8bef",id:"\u81ea\u5b9a\u4e49\u9519\u8bef",level:3},{value:"\u95ed\u5305\u548c\u8fed\u4ee3\u5668",id:"\u95ed\u5305\u548c\u8fed\u4ee3\u5668",level:2},{value:"\u95ed\u5305\u8bed\u6cd5",id:"\u95ed\u5305\u8bed\u6cd5",level:3},{value:"\u8fed\u4ee3\u5668\u94fe",id:"\u8fed\u4ee3\u5668\u94fe",level:3},{value:"\u5e76\u53d1\u7f16\u7a0b",id:"\u5e76\u53d1\u7f16\u7a0b",level:2},{value:"\u7ebf\u7a0b",id:"\u7ebf\u7a0b",level:3},{value:"\u901a\u9053",id:"\u901a\u9053",level:3},{value:"Mutex \u548c Arc",id:"mutex-\u548c-arc",level:3},{value:"\u5f02\u6b65\u7f16\u7a0b",id:"\u5f02\u6b65\u7f16\u7a0b",level:2},{value:"async/await",id:"asyncawait",level:3},{value:"Tokio",id:"tokio",level:3},{value:"\u5b8f",id:"\u5b8f",level:2},{value:"\u58f0\u660e\u5b8f",id:"\u58f0\u660e\u5b8f",level:3},{value:"\u5e38\u7528\u5b8f",id:"\u5e38\u7528\u5b8f",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:2},{value:"\u5355\u5143\u6d4b\u8bd5",id:"\u5355\u5143\u6d4b\u8bd5",level:3},{value:"\u96c6\u6210\u6d4b\u8bd5",id:"\u96c6\u6210\u6d4b\u8bd5",level:3},{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u5c5e\u6027",id:"\u5c5e\u6027",level:2},{value:"\u6a21\u5f0f\u5339\u914d",id:"\u6a21\u5f0f\u5339\u914d",level:2},{value:"\u751f\u547d\u5468\u671f",id:"\u751f\u547d\u5468\u671f",level:2},{value:"\u667a\u80fd\u6307\u9488",id:"\u667a\u80fd\u6307\u9488",level:2},{value:"\u7c7b\u578b\u8f6c\u6362",id:"\u7c7b\u578b\u8f6c\u6362",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"rust-\u5feb\u901f\u53c2\u8003",children:"Rust \u5feb\u901f\u53c2\u8003"})}),"\n",(0,r.jsx)(e.p,{children:"\u5feb\u901f\u67e5\u627e Rust \u5e38\u7528\u8bed\u6cd5\u3001\u6a21\u5f0f\u548c\u6807\u51c6\u5e93\u529f\u80fd\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"\u57fa\u7840\u8bed\u6cd5",children:"\u57fa\u7840\u8bed\u6cd5"}),"\n",(0,r.jsx)(e.h3,{id:"\u53d8\u91cf\u58f0\u660e",children:"\u53d8\u91cf\u58f0\u660e"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"let x = 5;              // \u4e0d\u53ef\u53d8\nlet mut y = 10;         // \u53ef\u53d8\nconst MAX: u32 = 100;   // \u5e38\u91cf\nstatic GLOBAL: i32 = 0; // \u9759\u6001\u53d8\u91cf\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u6570\u636e\u7c7b\u578b",children:"\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"// \u6574\u6570\nlet a: i32 = 42;\nlet b: u64 = 100;\n\n// \u6d6e\u70b9\u6570\nlet f: f64 = 3.14;\n\n// \u5e03\u5c14\nlet t: bool = true;\n\n// \u5b57\u7b26\nlet c: char = 'R';\n\n// \u5143\u7ec4\nlet tup: (i32, f64, u8) = (500, 6.4, 1);\n\n// \u6570\u7ec4\nlet arr: [i32; 5] = [1, 2, 3, 4, 5];\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u51fd\u6570",children:"\u51fd\u6570"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"fn add(x: i32, y: i32) -> i32 {\n    x + y  // \u8868\u8fbe\u5f0f\u8fd4\u56de\n}\n\n// \u6cdb\u578b\u51fd\u6570\nfn max<T: PartialOrd>(a: T, b: T) -> T {\n    if a > b { a } else { b }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u63a7\u5236\u6d41",children:"\u63a7\u5236\u6d41"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// if\nif x > 0 {\n    println!("positive");\n} else if x < 0 {\n    println!("negative");\n} else {\n    println!("zero");\n}\n\n// match\nmatch value {\n    0 => println!("zero"),\n    1..=5 => println!("one to five"),\n    _ => println!("other"),\n}\n\n// loop\nloop {\n    break;\n}\n\n// while\nwhile condition {\n    // ...\n}\n\n// for\nfor i in 0..10 {\n    println!("{}", i);\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u6240\u6709\u6743\u89c4\u5219",children:"\u6240\u6709\u6743\u89c4\u5219"}),"\n",(0,r.jsx)(e.h3,{id:"\u4e09\u5927\u89c4\u5219",children:"\u4e09\u5927\u89c4\u5219"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6bcf\u4e2a\u503c\u90fd\u6709\u4e00\u4e2a",(0,r.jsx)(e.strong,{children:"\u6240\u6709\u8005"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u503c\u5728\u4efb\u4f55\u65f6\u523b\u53ea\u80fd\u6709",(0,r.jsx)(e.strong,{children:"\u4e00\u4e2a\u6240\u6709\u8005"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u5f53\u6240\u6709\u8005\u79bb\u5f00\u4f5c\u7528\u57df\uff0c\u503c\u5c06\u88ab",(0,r.jsx)(e.strong,{children:"\u4e22\u5f03"})]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u79fb\u52a8-vs-\u590d\u5236",children:"\u79fb\u52a8 vs \u590d\u5236"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// \u79fb\u52a8\uff08\u5806\u5206\u914d\uff09\nlet s1 = String::from("hello");\nlet s2 = s1;  // s1 \u5931\u6548\n\n// \u590d\u5236\uff08\u6808\u5206\u914d\uff09\nlet x = 5;\nlet y = x;  // x \u4ecd\u6709\u6548\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u501f\u7528\u89c4\u5219",children:"\u501f\u7528\u89c4\u5219"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"// \u4e0d\u53ef\u53d8\u501f\u7528\uff08\u53ef\u591a\u4e2a\uff09\nlet r1 = &s;\nlet r2 = &s;\n\n// \u53ef\u53d8\u501f\u7528\uff08\u53ea\u80fd\u4e00\u4e2a\uff09\nlet r = &mut s;\n\n// \u4e0d\u80fd\u540c\u65f6\u5b58\u5728\u53ef\u53d8\u548c\u4e0d\u53ef\u53d8\u501f\u7528\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5e38\u7528-trait",children:"\u5e38\u7528 Trait"}),"\n",(0,r.jsx)(e.h3,{id:"display-\u548c-debug",children:"Display \u548c Debug"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::fmt;\n\nimpl fmt::Display for MyType {\n    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n        write!(f, "{}", self.value)\n    }\n}\n\n#[derive(Debug)]\nstruct Point { x: i32, y: i32 }\n'})}),"\n",(0,r.jsx)(e.h3,{id:"clone-\u548c-copy",children:"Clone \u548c Copy"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"#[derive(Clone)]\nstruct MyStruct { /* ... */ }\n\n#[derive(Copy, Clone)]\nstruct Point { x: i32, y: i32 }\n"})}),"\n",(0,r.jsx)(e.h3,{id:"iterator",children:"Iterator"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"impl Iterator for Counter {\n    type Item = u32;\n\n    fn next(&mut self) -> Option<Self::Item> {\n        // ...\n    }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"from-\u548c-into",children:"From \u548c Into"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"impl From<i32> for MyType {\n    fn from(num: i32) -> Self {\n        MyType { value: num }\n    }\n}\n\n// \u81ea\u52a8\u83b7\u5f97 Into\nlet t: MyType = 5.into();\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u6807\u51c6\u5e93\u5e38\u7528\u6a21\u5757",children:"\u6807\u51c6\u5e93\u5e38\u7528\u6a21\u5757"}),"\n",(0,r.jsx)(e.h3,{id:"stdcollections",children:"std::collections"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"use std::collections::{HashMap, HashSet, VecDeque, BTreeMap};\n\nlet mut map = HashMap::new();\nlet mut set = HashSet::new();\nlet mut deque = VecDeque::new();\nlet mut btree = BTreeMap::new();\n"})}),"\n",(0,r.jsx)(e.h3,{id:"stdfs---\u6587\u4ef6\u64cd\u4f5c",children:"std::fs - \u6587\u4ef6\u64cd\u4f5c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::fs;\n\n// \u8bfb\u53d6\u6587\u4ef6\nlet content = fs::read_to_string("file.txt")?;\n\n// \u5199\u5165\u6587\u4ef6\nfs::write("file.txt", "content")?;\n\n// \u590d\u5236\u6587\u4ef6\nfs::copy("src.txt", "dst.txt")?;\n\n// \u5220\u9664\u6587\u4ef6\nfs::remove_file("file.txt")?;\n\n// \u521b\u5efa\u76ee\u5f55\nfs::create_dir("my_dir")?;\n'})}),"\n",(0,r.jsx)(e.h3,{id:"stdio---\u8f93\u5165\u8f93\u51fa",children:"std::io - \u8f93\u5165\u8f93\u51fa"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::io::{self, Read, Write};\n\n// \u6807\u51c6\u8f93\u5165\nlet mut input = String::new();\nio::stdin().read_line(&mut input)?;\n\n// \u6807\u51c6\u8f93\u51fa\nprintln!("Hello, {}!", name);\neprintln!("Error: {}", error);\n\n// \u6587\u4ef6\u8bfb\u5199\nlet mut file = File::open("file.txt")?;\nlet mut contents = String::new();\nfile.read_to_string(&mut contents)?;\n'})}),"\n",(0,r.jsx)(e.h3,{id:"stdpath---\u8def\u5f84\u64cd\u4f5c",children:"std::path - \u8def\u5f84\u64cd\u4f5c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::path::{Path, PathBuf};\n\nlet path = Path::new("/tmp/file.txt");\nlet parent = path.parent();\nlet file_name = path.file_name();\nlet extension = path.extension();\n\nlet mut path_buf = PathBuf::from("/tmp");\npath_buf.push("file.txt");\n'})}),"\n",(0,r.jsx)(e.h3,{id:"stdenv---\u73af\u5883\u53d8\u91cf",children:"std::env - \u73af\u5883\u53d8\u91cf"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::env;\n\n// \u83b7\u53d6\u73af\u5883\u53d8\u91cf\nlet home = env::var("HOME")?;\n\n// \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\nenv::set_var("MY_VAR", "value");\n\n// \u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570\nlet args: Vec<String> = env::args().collect();\n\n// \u5f53\u524d\u76ee\u5f55\nlet current_dir = env::current_dir()?;\n'})}),"\n",(0,r.jsx)(e.h3,{id:"stdthread---\u7ebf\u7a0b",children:"std::thread - \u7ebf\u7a0b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::thread;\nuse std::time::Duration;\n\n// \u521b\u5efa\u7ebf\u7a0b\nlet handle = thread::spawn(|| {\n    println!("Hello from thread");\n});\n\n// \u7b49\u5f85\u7ebf\u7a0b\nhandle.join().unwrap();\n\n// \u7761\u7720\nthread::sleep(Duration::from_secs(1));\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,r.jsx)(e.h3,{id:"result-\u548c-option",children:"Result \u548c Option"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// Result\nfn divide(a: f64, b: f64) -> Result<f64, String> {\n    if b == 0.0 {\n        Err("division by zero".to_string())\n    } else {\n        Ok(a / b)\n    }\n}\n\n// Option\nfn find_item(items: &[i32], target: i32) -> Option<usize> {\n    items.iter().position(|&x| x == target)\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"-\u8fd0\u7b97\u7b26",children:"? \u8fd0\u7b97\u7b26"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'fn read_file() -> Result<String, io::Error> {\n    let mut file = File::open("file.txt")?;\n    let mut contents = String::new();\n    file.read_to_string(&mut contents)?;\n    Ok(contents)\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"unwrap-\u548c-expect",children:"unwrap \u548c expect"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'let x = Some(5);\nlet value = x.unwrap();  // panic if None\n\nlet value = x.expect("x should have a value");\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u81ea\u5b9a\u4e49\u9519\u8bef",children:"\u81ea\u5b9a\u4e49\u9519\u8bef"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::fmt;\nuse std::error::Error;\n\n#[derive(Debug)]\nstruct MyError {\n    details: String\n}\n\nimpl fmt::Display for MyError {\n    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n        write!(f, "{}", self.details)\n    }\n}\n\nimpl Error for MyError {}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u95ed\u5305\u548c\u8fed\u4ee3\u5668",children:"\u95ed\u5305\u548c\u8fed\u4ee3\u5668"}),"\n",(0,r.jsx)(e.h3,{id:"\u95ed\u5305\u8bed\u6cd5",children:"\u95ed\u5305\u8bed\u6cd5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// \u6700\u5c0f\u8bed\u6cd5\nlet add_one = |x| x + 1;\n\n// \u5e26\u7c7b\u578b\u6ce8\u89e3\nlet add_one = |x: i32| -> i32 { x + 1 };\n\n// \u6355\u83b7\u73af\u5883\nlet y = 10;\nlet add_y = |x| x + y;\n\n// move \u5173\u952e\u5b57\nlet s = String::from("hello");\nlet print = move || println!("{}", s);\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u8fed\u4ee3\u5668\u94fe",children:"\u8fed\u4ee3\u5668\u94fe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"let result: Vec<_> = vec![1, 2, 3, 4, 5]\n    .iter()\n    .filter(|&&x| x % 2 == 0)\n    .map(|&x| x * 2)\n    .collect();\n\n// \u5176\u4ed6\u5e38\u7528\u65b9\u6cd5\n.take(n)           // \u524d n \u4e2a\n.skip(n)           // \u8df3\u8fc7 n \u4e2a\n.enumerate()       // \u6dfb\u52a0\u7d22\u5f15\n.zip(other)        // \u7ec4\u5408\n.fold(init, f)     // \u6298\u53e0\n.any(predicate)    // \u662f\u5426\u6709\u6ee1\u8db3\n.all(predicate)    // \u662f\u5426\u5168\u6ee1\u8db3\n.find(predicate)   // \u67e5\u627e\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5e76\u53d1\u7f16\u7a0b",children:"\u5e76\u53d1\u7f16\u7a0b"}),"\n",(0,r.jsx)(e.h3,{id:"\u7ebf\u7a0b",children:"\u7ebf\u7a0b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"use std::thread;\n\nlet handle = thread::spawn(|| {\n    // \u7ebf\u7a0b\u4ee3\u7801\n});\n\nhandle.join().unwrap();\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u901a\u9053",children:"\u901a\u9053"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'use std::sync::mpsc;\n\nlet (tx, rx) = mpsc::channel();\n\nthread::spawn(move || {\n    tx.send("hello").unwrap();\n});\n\nlet msg = rx.recv().unwrap();\n'})}),"\n",(0,r.jsx)(e.h3,{id:"mutex-\u548c-arc",children:"Mutex \u548c Arc"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"use std::sync::{Arc, Mutex};\n\nlet counter = Arc::new(Mutex::new(0));\n\nlet counter_clone = Arc::clone(&counter);\nthread::spawn(move || {\n    let mut num = counter_clone.lock().unwrap();\n    *num += 1;\n});\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5f02\u6b65\u7f16\u7a0b",children:"\u5f02\u6b65\u7f16\u7a0b"}),"\n",(0,r.jsx)(e.h3,{id:"asyncawait",children:"async/await"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'async fn fetch_data() -> String {\n    "data".to_string()\n}\n\nasync fn process() {\n    let data = fetch_data().await;\n    println!("{}", data);\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"tokio",children:"Tokio"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"#[tokio::main]\nasync fn main() {\n    let handle = tokio::spawn(async {\n        // \u5f02\u6b65\u4efb\u52a1\n    });\n\n    handle.await.unwrap();\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5b8f",children:"\u5b8f"}),"\n",(0,r.jsx)(e.h3,{id:"\u58f0\u660e\u5b8f",children:"\u58f0\u660e\u5b8f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'macro_rules! my_macro {\n    ($x:expr) => {\n        println!("Value: {}", $x);\n    };\n}\n\nmy_macro!(42);\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u5e38\u7528\u5b8f",children:"\u5e38\u7528\u5b8f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"println!()       // \u6253\u5370\nformat!()        // \u683c\u5f0f\u5316\nvec![]           // \u521b\u5efa Vec\npanic!()         // panic\nassert!()        // \u65ad\u8a00\nassert_eq!()     // \u76f8\u7b49\u65ad\u8a00\ndbg!()           // \u8c03\u8bd5\u6253\u5370\ntodo!()          // \u5f85\u5b9e\u73b0\nunimplemented!() // \u672a\u5b9e\u73b0\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,r.jsx)(e.h3,{id:"\u5355\u5143\u6d4b\u8bd5",children:"\u5355\u5143\u6d4b\u8bd5"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'#[cfg(test)]\nmod tests {\n    use super::*;\n\n    #[test]\n    fn test_add() {\n        assert_eq!(add(2, 2), 4);\n    }\n\n    #[test]\n    #[should_panic]\n    fn test_panic() {\n        panic!("expected panic");\n    }\n}\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\u96c6\u6210\u6d4b\u8bd5",children:"\u96c6\u6210\u6d4b\u8bd5"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 ",(0,r.jsx)(e.code,{children:"tests/"})," \u76ee\u5f55\u4e0b\u521b\u5efa\u6d4b\u8bd5\u6587\u4ef6\u3002"]}),"\n",(0,r.jsx)(e.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Cargo\ncargo new <name>        # \u65b0\u5efa\u9879\u76ee\ncargo build             # \u6784\u5efa\ncargo build --release   # \u53d1\u5e03\u6784\u5efa\ncargo run               # \u8fd0\u884c\ncargo test              # \u6d4b\u8bd5\ncargo doc --open        # \u751f\u6210\u6587\u6863\ncargo check             # \u68c0\u67e5\ncargo clean             # \u6e05\u7406\ncargo update            # \u66f4\u65b0\u4f9d\u8d56\n\n# Rustup\nrustup update           # \u66f4\u65b0 Rust\nrustup default stable   # \u8bbe\u7f6e\u9ed8\u8ba4\u7248\u672c\nrustup target add <target> # \u6dfb\u52a0\u76ee\u6807\u5e73\u53f0\n\n# \u5de5\u5177\nrustfmt                 # \u683c\u5f0f\u5316\u4ee3\u7801\nclippy                  # \u4ee3\u7801\u68c0\u67e5\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5c5e\u6027",children:"\u5c5e\u6027"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'#[derive(Debug, Clone, Copy)]\n#[allow(dead_code)]\n#[warn(missing_docs)]\n#[cfg(target_os = "linux")]\n#[inline]\n#[test]\n#[should_panic]\n#[ignore]\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u6a21\u5f0f\u5339\u914d",children:"\u6a21\u5f0f\u5339\u914d"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// \u5b57\u9762\u503c\nmatch x {\n    1 => println!("one"),\n    2 => println!("two"),\n    _ => println!("other"),\n}\n\n// \u8303\u56f4\nmatch x {\n    1..=5 => println!("one to five"),\n    _ => println!("other"),\n}\n\n// \u89e3\u6784\nmatch point {\n    Point { x: 0, y } => println!("y axis: {}", y),\n    Point { x, y: 0 } => println!("x axis: {}", x),\n    Point { x, y } => println!("({}, {})", x, y),\n}\n\n// \u5b88\u536b\nmatch num {\n    Some(x) if x < 5 => println!("less than five: {}", x),\n    Some(x) => println!("{}", x),\n    None => (),\n}\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u751f\u547d\u5468\u671f",children:"\u751f\u547d\u5468\u671f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"// \u51fd\u6570\u7b7e\u540d\nfn longest<'a>(x: &'a str, y: &'a str) -> &'a str {\n    if x.len() > y.len() { x } else { y }\n}\n\n// \u7ed3\u6784\u4f53\nstruct ImportantExcerpt<'a> {\n    part: &'a str,\n}\n\n// \u65b9\u6cd5\nimpl<'a> ImportantExcerpt<'a> {\n    fn level(&self) -> i32 {\n        3\n    }\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u667a\u80fd\u6307\u9488",children:"\u667a\u80fd\u6307\u9488"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:"use std::rc::Rc;\nuse std::cell::RefCell;\nuse std::sync::Arc;\n\n// Box\nlet b = Box::new(5);\n\n// Rc (\u5f15\u7528\u8ba1\u6570)\nlet a = Rc::new(5);\nlet b = Rc::clone(&a);\n\n// RefCell (\u5185\u90e8\u53ef\u53d8\u6027)\nlet value = RefCell::new(5);\n*value.borrow_mut() += 1;\n\n// Arc (\u539f\u5b50\u5f15\u7528\u8ba1\u6570)\nlet data = Arc::new(Mutex::new(0));\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u7c7b\u578b\u8f6c\u6362",children:"\u7c7b\u578b\u8f6c\u6362"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-rust",children:'// as\nlet x = 5i32;\nlet y = x as f64;\n\n// From/Into\nlet s = String::from("hello");\nlet s: String = "hello".into();\n\n// TryFrom/TryInto\nlet n: u8 = "42".parse().unwrap();\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(e.p,{children:"\u672c\u901f\u67e5\u8868\u6db5\u76d6\u4e86 Rust \u6700\u5e38\u7528\u7684\u8bed\u6cd5\u548c\u6a21\u5f0f\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u65e5\u5e38\u5f00\u53d1\u7684\u5feb\u901f\u53c2\u8003\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u9700\u8981\u8be6\u7ec6\u4e86\u89e3\u67d0\u4e2a\u4e3b\u9898\u65f6\uff0c\u8bf7\u53c2\u9605\u5bf9\u5e94\u7684\u8be6\u7ec6\u6587\u6863\u7ae0\u8282\u3002"})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}}}]);