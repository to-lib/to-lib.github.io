"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[87508],{48885:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var o=r(99378);const s={},c=o.createContext(s);function d(e){const n=o.useContext(c);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),o.createElement(c.Provider,{value:n},e.children)}},81470:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"docker/installation","title":"\u5b89\u88c5\u914d\u7f6e","description":"Docker \u5404\u5e73\u53f0\u5b89\u88c5\u4e0e\u914d\u7f6e\u6307\u5357","source":"@site/docs/docker/installation.md","sourceDirName":"docker","slug":"/docker/installation","permalink":"/docs/docker/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/docker/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"\u5b89\u88c5\u914d\u7f6e","description":"Docker \u5404\u5e73\u53f0\u5b89\u88c5\u4e0e\u914d\u7f6e\u6307\u5357"},"sidebar":"docker","previous":{"title":"Docker \u6982\u8ff0","permalink":"/docs/docker/"},"next":{"title":"\u57fa\u7840\u547d\u4ee4","permalink":"/docs/docker/basic-commands"}}');var s=r(22714),c=r(48885);const d={sidebar_position:2,title:"\u5b89\u88c5\u914d\u7f6e",description:"Docker \u5404\u5e73\u53f0\u5b89\u88c5\u4e0e\u914d\u7f6e\u6307\u5357"},l="Docker \u5b89\u88c5\u914d\u7f6e",i={},t=[{value:"Linux \u5b89\u88c5",id:"linux-\u5b89\u88c5",level:2},{value:"Ubuntu/Debian",id:"ubuntudebian",level:3},{value:"CentOS/RHEL",id:"centosrhel",level:3},{value:"macOS \u5b89\u88c5",id:"macos-\u5b89\u88c5",level:2},{value:"\u4f7f\u7528 Docker Desktop",id:"\u4f7f\u7528-docker-desktop",level:3},{value:"\u4f7f\u7528 Homebrew",id:"\u4f7f\u7528-homebrew",level:3},{value:"Windows \u5b89\u88c5",id:"windows-\u5b89\u88c5",level:2},{value:"\u4f7f\u7528 Docker Desktop",id:"\u4f7f\u7528-docker-desktop-1",level:3},{value:"\u542f\u7528 WSL 2 \u540e\u7aef",id:"\u542f\u7528-wsl-2-\u540e\u7aef",level:3},{value:"\u5b89\u88c5\u540e\u914d\u7f6e",id:"\u5b89\u88c5\u540e\u914d\u7f6e",level:2},{value:"\u975e root \u7528\u6237\u8fd0\u884c Docker\uff08Linux\uff09",id:"\u975e-root-\u7528\u6237\u8fd0\u884c-dockerlinux",level:3},{value:"\u914d\u7f6e\u955c\u50cf\u52a0\u901f",id:"\u914d\u7f6e\u955c\u50cf\u52a0\u901f",level:3},{value:"\u914d\u7f6e\u5b58\u50a8\u9a71\u52a8",id:"\u914d\u7f6e\u5b58\u50a8\u9a71\u52a8",level:3},{value:"\u914d\u7f6e\u65e5\u5fd7\u9a71\u52a8",id:"\u914d\u7f6e\u65e5\u5fd7\u9a71\u52a8",level:3},{value:"\u9a8c\u8bc1\u5b89\u88c5",id:"\u9a8c\u8bc1\u5b89\u88c5",level:2},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"Docker \u670d\u52a1\u65e0\u6cd5\u542f\u52a8",id:"docker-\u670d\u52a1\u65e0\u6cd5\u542f\u52a8",level:3},{value:"\u6743\u9650\u95ee\u9898",id:"\u6743\u9650\u95ee\u9898",level:3},{value:"\u7f51\u7edc\u95ee\u9898",id:"\u7f51\u7edc\u95ee\u9898",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"docker-\u5b89\u88c5\u914d\u7f6e",children:"Docker \u5b89\u88c5\u914d\u7f6e"})}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u6587\u4ecb\u7ecd\u5982\u4f55\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u5b89\u88c5\u548c\u914d\u7f6e Docker\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"linux-\u5b89\u88c5",children:"Linux \u5b89\u88c5"}),"\n",(0,s.jsx)(n.h3,{id:"ubuntudebian",children:"Ubuntu/Debian"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u66f4\u65b0\u5305\u7d22\u5f15\nsudo apt-get update\n\n# \u5b89\u88c5\u5fc5\u8981\u4f9d\u8d56\nsudo apt-get install -y \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release\n\n# \u6dfb\u52a0 Docker \u5b98\u65b9 GPG \u5bc6\u94a5\nsudo mkdir -p /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | \\\n    sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\n# \u8bbe\u7f6e\u4ed3\u5e93\necho \\\n  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \\\n  https://download.docker.com/linux/ubuntu \\\n  $(lsb_release -cs) stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n\n# \u5b89\u88c5 Docker Engine\nsudo apt-get update\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n'})}),"\n",(0,s.jsx)(n.h3,{id:"centosrhel",children:"CentOS/RHEL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5b89\u88c5\u5fc5\u8981\u5de5\u5177\nsudo yum install -y yum-utils\n\n# \u6dfb\u52a0 Docker \u4ed3\u5e93\nsudo yum-config-manager --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n\n# \u5b89\u88c5 Docker Engine\nsudo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n# \u542f\u52a8 Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n"})}),"\n",(0,s.jsx)(n.h2,{id:"macos-\u5b89\u88c5",children:"macOS \u5b89\u88c5"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528-docker-desktop",children:"\u4f7f\u7528 Docker Desktop"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4e0b\u8f7d ",(0,s.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop/",children:"Docker Desktop for Mac"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u53cc\u51fb ",(0,s.jsx)(n.code,{children:".dmg"})," \u6587\u4ef6\u5e76\u62d6\u62fd\u5230\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5939"]}),"\n",(0,s.jsx)(n.li,{children:"\u542f\u52a8 Docker Desktop"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528-homebrew",children:"\u4f7f\u7528 Homebrew"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"brew install --cask docker\n"})}),"\n",(0,s.jsx)(n.h2,{id:"windows-\u5b89\u88c5",children:"Windows \u5b89\u88c5"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528-docker-desktop-1",children:"\u4f7f\u7528 Docker Desktop"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u786e\u4fdd\u5df2\u542f\u7528 WSL 2 \u6216 Hyper-V"}),"\n",(0,s.jsxs)(n.li,{children:["\u4e0b\u8f7d ",(0,s.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop/",children:"Docker Desktop for Windows"})]}),"\n",(0,s.jsx)(n.li,{children:"\u8fd0\u884c\u5b89\u88c5\u7a0b\u5e8f\u5e76\u6309\u63d0\u793a\u5b8c\u6210\u5b89\u88c5"}),"\n",(0,s.jsx)(n.li,{children:"\u91cd\u542f\u8ba1\u7b97\u673a\uff08\u5982\u9700\u8981\uff09"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u542f\u7528-wsl-2-\u540e\u7aef",children:"\u542f\u7528 WSL 2 \u540e\u7aef"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-powershell",children:"# \u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884c PowerShell\nwsl --install\nwsl --set-default-version 2\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5b89\u88c5\u540e\u914d\u7f6e",children:"\u5b89\u88c5\u540e\u914d\u7f6e"}),"\n",(0,s.jsx)(n.h3,{id:"\u975e-root-\u7528\u6237\u8fd0\u884c-dockerlinux",children:"\u975e root \u7528\u6237\u8fd0\u884c Docker\uff08Linux\uff09"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa docker \u7528\u6237\u7ec4\nsudo groupadd docker\n\n# \u5c06\u5f53\u524d\u7528\u6237\u6dfb\u52a0\u5230 docker \u7ec4\nsudo usermod -aG docker $USER\n\n# \u91cd\u65b0\u767b\u5f55\u6216\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u66f4\u6539\u751f\u6548\nnewgrp docker\n\n# \u9a8c\u8bc1\ndocker run hello-world\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u955c\u50cf\u52a0\u901f",children:"\u914d\u7f6e\u955c\u50cf\u52a0\u901f"}),"\n",(0,s.jsxs)(n.p,{children:["\u521b\u5efa\u6216\u7f16\u8f91 ",(0,s.jsx)(n.code,{children:"/etc/docker/daemon.json"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "registry-mirrors": [\n    "https://mirror.ccs.tencentyun.com",\n    "https://registry.docker-cn.com"\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u91cd\u542f Docker \u670d\u52a1\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nsudo systemctl restart docker\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u5b58\u50a8\u9a71\u52a8",children:"\u914d\u7f6e\u5b58\u50a8\u9a71\u52a8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "storage-driver": "overlay2",\n  "storage-opts": ["overlay2.override_kernel_check=true"]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u914d\u7f6e\u65e5\u5fd7\u9a71\u52a8",children:"\u914d\u7f6e\u65e5\u5fd7\u9a71\u52a8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "log-driver": "json-file",\n  "log-opts": {\n    "max-size": "10m",\n    "max-file": "3"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u9a8c\u8bc1\u5b89\u88c5",children:"\u9a8c\u8bc1\u5b89\u88c5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b Docker \u7248\u672c\ndocker version\n\n# \u67e5\u770b Docker \u4fe1\u606f\ndocker info\n\n# \u8fd0\u884c\u6d4b\u8bd5\u5bb9\u5668\ndocker run hello-world\n\n# \u8fd0\u884c\u4ea4\u4e92\u5f0f\u5bb9\u5668\ndocker run -it ubuntu bash\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,s.jsx)(n.h3,{id:"docker-\u670d\u52a1\u65e0\u6cd5\u542f\u52a8",children:"Docker \u670d\u52a1\u65e0\u6cd5\u542f\u52a8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u670d\u52a1\u72b6\u6001\nsudo systemctl status docker\n\n# \u67e5\u770b\u65e5\u5fd7\nsudo journalctl -xu docker.service\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6743\u9650\u95ee\u9898",children:"\u6743\u9650\u95ee\u9898"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u68c0\u67e5 docker.sock \u6743\u9650\nls -la /var/run/docker.sock\n\n# \u5982\u679c\u6743\u9650\u4e0d\u5bf9\uff0c\u4fee\u590d\nsudo chmod 666 /var/run/docker.sock\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u7f51\u7edc\u95ee\u9898",children:"\u7f51\u7edc\u95ee\u9898"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u68c0\u67e5 Docker \u7f51\u7edc\ndocker network ls\n\n# \u91cd\u7f6e Docker \u7f51\u7edc\ndocker network prune\n"})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);