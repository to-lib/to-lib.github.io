"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[99640],{23964:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>x,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"mybatis/dynamic-sql","title":"MyBatis \u52a8\u6001 SQL","description":"\u52a8\u6001 SQL \u662f MyBatis \u7684\u5f3a\u5927\u7279\u6027\u4e4b\u4e00\uff0c\u5b83\u5141\u8bb8\u6839\u636e\u4e0d\u540c\u6761\u4ef6\u52a8\u6001\u751f\u6210 SQL \u8bed\u53e5\uff0c\u907f\u514d\u624b\u52a8\u62fc\u63a5 SQL \u5b57\u7b26\u4e32\u7684\u7e41\u7410\u548c\u9519\u8bef\u3002","source":"@site/docs/mybatis/dynamic-sql.md","sourceDirName":"mybatis","slug":"/mybatis/dynamic-sql","permalink":"/docs/mybatis/dynamic-sql","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/mybatis/dynamic-sql.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"MyBatis \u52a8\u6001 SQL"},"sidebar":"mybatis","previous":{"title":"MyBatis XML \u6620\u5c04","permalink":"/docs/mybatis/xml-mapping"},"next":{"title":"MyBatis \u6ce8\u89e3\u6620\u5c04","permalink":"/docs/mybatis/annotations"}}');var l=i(22714),t=i(48885);const d={sidebar_position:5,title:"MyBatis \u52a8\u6001 SQL"},r="MyBatis \u52a8\u6001 SQL",c={},a=[{value:"\u52a8\u6001 SQL \u5143\u7d20",id:"\u52a8\u6001-sql-\u5143\u7d20",level:2},{value:"if \u6761\u4ef6\u5224\u65ad",id:"if-\u6761\u4ef6\u5224\u65ad",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"test \u8868\u8fbe\u5f0f",id:"test-\u8868\u8fbe\u5f0f",level:3},{value:"\u5e38\u89c1\u9677\u9631",id:"\u5e38\u89c1\u9677\u9631",level:3},{value:"choose/when/otherwise",id:"choosewhenotherwise",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5-1",level:3},{value:"\u591a\u6761\u4ef6\u4f18\u5148\u7ea7",id:"\u591a\u6761\u4ef6\u4f18\u5148\u7ea7",level:3},{value:"where \u5143\u7d20",id:"where-\u5143\u7d20",level:2},{value:"\u95ee\u9898\u573a\u666f",id:"\u95ee\u9898\u573a\u666f",level:3},{value:"\u4f7f\u7528 where \u89e3\u51b3",id:"\u4f7f\u7528-where-\u89e3\u51b3",level:3},{value:"set \u5143\u7d20",id:"set-\u5143\u7d20",level:2},{value:"\u95ee\u9898\u573a\u666f",id:"\u95ee\u9898\u573a\u666f-1",level:3},{value:"\u4f7f\u7528 set \u89e3\u51b3",id:"\u4f7f\u7528-set-\u89e3\u51b3",level:3},{value:"trim \u5143\u7d20",id:"trim-\u5143\u7d20",level:2},{value:"\u5c5e\u6027\u8bf4\u660e",id:"\u5c5e\u6027\u8bf4\u660e",level:3},{value:"\u5b9e\u73b0 where",id:"\u5b9e\u73b0-where",level:3},{value:"\u5b9e\u73b0 set",id:"\u5b9e\u73b0-set",level:3},{value:"\u81ea\u5b9a\u4e49\u7528\u6cd5",id:"\u81ea\u5b9a\u4e49\u7528\u6cd5",level:3},{value:"foreach \u904d\u5386",id:"foreach-\u904d\u5386",level:2},{value:"\u5c5e\u6027\u8bf4\u660e",id:"\u5c5e\u6027\u8bf4\u660e-1",level:3},{value:"collection \u53d6\u503c",id:"collection-\u53d6\u503c",level:3},{value:"IN \u67e5\u8be2",id:"in-\u67e5\u8be2",level:3},{value:"\u6279\u91cf\u63d2\u5165",id:"\u6279\u91cf\u63d2\u5165",level:3},{value:"\u6279\u91cf\u66f4\u65b0",id:"\u6279\u91cf\u66f4\u65b0",level:3},{value:"\u904d\u5386 Map",id:"\u904d\u5386-map",level:3},{value:"sql \u7247\u6bb5",id:"sql-\u7247\u6bb5",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5-2",level:3},{value:"\u5e26\u53c2\u6570\u7684\u7247\u6bb5",id:"\u5e26\u53c2\u6570\u7684\u7247\u6bb5",level:3},{value:"\u5d4c\u5957\u5f15\u7528",id:"\u5d4c\u5957\u5f15\u7528",level:3},{value:"bind \u53d8\u91cf\u7ed1\u5b9a",id:"bind-\u53d8\u91cf\u7ed1\u5b9a",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5-3",level:3},{value:"\u591a\u4e2a\u7ed1\u5b9a",id:"\u591a\u4e2a\u7ed1\u5b9a",level:3},{value:"\u4e0e CONCAT \u5bf9\u6bd4",id:"\u4e0e-concat-\u5bf9\u6bd4",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u901a\u7528\u67e5\u8be2\u6a21\u677f",id:"1-\u901a\u7528\u67e5\u8be2\u6a21\u677f",level:3},{value:"2. \u52a8\u6001\u63d2\u5165",id:"2-\u52a8\u6001\u63d2\u5165",level:3},{value:"3. \u52a8\u6001\u66f4\u65b0",id:"3-\u52a8\u6001\u66f4\u65b0",level:3},{value:"4. \u5b89\u5168\u7684\u52a8\u6001\u6392\u5e8f",id:"4-\u5b89\u5168\u7684\u52a8\u6001\u6392\u5e8f",level:3},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2},{value:"1. XML \u7279\u6b8a\u5b57\u7b26",id:"1-xml-\u7279\u6b8a\u5b57\u7b26",level:3},{value:"2. \u7a7a\u5b57\u7b26\u4e32\u5224\u65ad",id:"2-\u7a7a\u5b57\u7b26\u4e32\u5224\u65ad",level:3},{value:"3. \u96c6\u5408\u5224\u7a7a",id:"3-\u96c6\u5408\u5224\u7a7a",level:3},{value:"\u76f8\u5173\u94fe\u63a5",id:"\u76f8\u5173\u94fe\u63a5",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"mybatis-\u52a8\u6001-sql",children:"MyBatis \u52a8\u6001 SQL"})}),"\n",(0,l.jsx)(n.p,{children:"\u52a8\u6001 SQL \u662f MyBatis \u7684\u5f3a\u5927\u7279\u6027\u4e4b\u4e00\uff0c\u5b83\u5141\u8bb8\u6839\u636e\u4e0d\u540c\u6761\u4ef6\u52a8\u6001\u751f\u6210 SQL \u8bed\u53e5\uff0c\u907f\u514d\u624b\u52a8\u62fc\u63a5 SQL \u5b57\u7b26\u4e32\u7684\u7e41\u7410\u548c\u9519\u8bef\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u52a8\u6001-sql-\u5143\u7d20",children:"\u52a8\u6001 SQL \u5143\u7d20"}),"\n",(0,l.jsx)(n.p,{children:"MyBatis \u63d0\u4f9b\u4ee5\u4e0b\u52a8\u6001 SQL \u5143\u7d20\uff1a"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u5143\u7d20"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"if"})}),(0,l.jsx)(n.td,{children:"\u6761\u4ef6\u5224\u65ad"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"choose/when/otherwise"})}),(0,l.jsx)(n.td,{children:"\u591a\u6761\u4ef6\u5206\u652f\uff08\u7c7b\u4f3c switch\uff09"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"where"})}),(0,l.jsx)(n.td,{children:"\u667a\u80fd\u5904\u7406 WHERE \u5b50\u53e5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"set"})}),(0,l.jsx)(n.td,{children:"\u667a\u80fd\u5904\u7406 UPDATE SET \u5b50\u53e5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"trim"})}),(0,l.jsx)(n.td,{children:"\u81ea\u5b9a\u4e49\u524d\u7f00/\u540e\u7f00\u5904\u7406"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"foreach"})}),(0,l.jsx)(n.td,{children:"\u904d\u5386\u96c6\u5408"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"sql"})}),(0,l.jsx)(n.td,{children:"\u53ef\u91cd\u7528\u7684 SQL \u7247\u6bb5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bind"})}),(0,l.jsx)(n.td,{children:"\u521b\u5efa\u53d8\u91cf\u5e76\u7ed1\u5b9a\u5230\u4e0a\u4e0b\u6587"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"if-\u6761\u4ef6\u5224\u65ad",children:"if \u6761\u4ef6\u5224\u65ad"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"if"})," \u662f\u6700\u5e38\u7528\u7684\u52a8\u6001 SQL \u5143\u7d20\uff0c\u7528\u4e8e\u6761\u4ef6\u5224\u65ad\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByCondition" resultType="User">\n    SELECT * FROM user\n    WHERE status = 1\n    <if test="name != null and name != \'\'">\n        AND name LIKE CONCAT(\'%\', #{name}, \'%\')\n    </if>\n    <if test="email != null">\n        AND email = #{email}\n    </if>\n    <if test="age != null">\n        AND age = #{age}\n    </if>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"test-\u8868\u8fbe\u5f0f",children:"test \u8868\u8fbe\u5f0f"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"test"})," \u5c5e\u6027\u4f7f\u7528 OGNL \u8868\u8fbe\u5f0f\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u5b57\u7b26\u4e32\u5224\u65ad --\x3e\n<if test="name != null and name != \'\'">...</if>\n<if test="name != null and name.trim() != \'\'">...</if>\n\n\x3c!-- \u6570\u503c\u5224\u65ad --\x3e\n<if test="age != null and age > 0">...</if>\n<if test="age != null and age >= 18 and age <= 60">...</if>\n\n\x3c!-- \u5e03\u5c14\u5224\u65ad --\x3e\n<if test="enabled">...</if>\n<if test="enabled == true">...</if>\n<if test="!disabled">...</if>\n\n\x3c!-- \u96c6\u5408\u5224\u65ad --\x3e\n<if test="ids != null and ids.size() > 0">...</if>\n<if test="list != null and !list.isEmpty()">...</if>\n\n\x3c!-- \u679a\u4e3e\u5224\u65ad --\x3e\n<if test="status != null and status.name() == \'ACTIVE\'">...</if>\n\n\x3c!-- \u5b57\u7b26\u4e32\u6bd4\u8f83\uff08\u6ce8\u610f\u5355\u5f15\u53f7\uff09 --\x3e\n<if test="type == \'admin\'">...</if>\n<if test=\'type == "admin"\'>...</if>\n<if test="type == \'admin\'.toString()">...</if>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5e38\u89c1\u9677\u9631",children:"\u5e38\u89c1\u9677\u9631"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u274c \u9519\u8bef\uff1a\u5355\u5b57\u7b26\u6bd4\u8f83 --\x3e\n<if test="type == \'A\'">...</if>\n\n\x3c!-- \u2705 \u6b63\u786e\uff1a\u8f6c\u4e3a\u5b57\u7b26\u4e32 --\x3e\n<if test="type == \'A\'.toString()">...</if>\n<if test=\'type == "A"\'>...</if>\n\n\x3c!-- \u274c \u9519\u8bef\uff1a\u76f4\u63a5\u6bd4\u8f83\u5b57\u7b26\u4e32 --\x3e\n<if test="status == ACTIVE">...</if>\n\n\x3c!-- \u2705 \u6b63\u786e\uff1a\u52a0\u5f15\u53f7 --\x3e\n<if test="status == \'ACTIVE\'">...</if>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"choosewhenotherwise",children:"choose/when/otherwise"}),"\n",(0,l.jsxs)(n.p,{children:["\u7c7b\u4f3c Java \u7684 ",(0,l.jsx)(n.code,{children:"switch"})," \u8bed\u53e5\uff0c\u53ea\u4f1a\u9009\u62e9\u4e00\u4e2a\u5206\u652f\u6267\u884c\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5-1",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByCondition" resultType="User">\n    SELECT * FROM user\n    WHERE status = 1\n    <choose>\n        <when test="id != null">\n            AND id = #{id}\n        </when>\n        <when test="name != null">\n            AND name = #{name}\n        </when>\n        <when test="email != null">\n            AND email = #{email}\n        </when>\n        <otherwise>\n            AND create_time > DATE_SUB(NOW(), INTERVAL 7 DAY)\n        </otherwise>\n    </choose>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u591a\u6761\u4ef6\u4f18\u5148\u7ea7",children:"\u591a\u6761\u4ef6\u4f18\u5148\u7ea7"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectUsers" resultType="User">\n    SELECT * FROM user\n    <where>\n        <choose>\n            \x3c!-- \u4f18\u5148\u6309 ID \u67e5\u8be2 --\x3e\n            <when test="id != null">\n                id = #{id}\n            </when>\n            \x3c!-- \u5176\u6b21\u6309\u7528\u6237\u540d\u7cbe\u786e\u67e5\u8be2 --\x3e\n            <when test="username != null and exact">\n                username = #{username}\n            </when>\n            \x3c!-- \u518d\u6b21\u6309\u7528\u6237\u540d\u6a21\u7cca\u67e5\u8be2 --\x3e\n            <when test="username != null">\n                username LIKE CONCAT(\'%\', #{username}, \'%\')\n            </when>\n            \x3c!-- \u9ed8\u8ba4\u67e5\u8be2\u6d3b\u8dc3\u7528\u6237 --\x3e\n            <otherwise>\n                status = \'ACTIVE\'\n            </otherwise>\n        </choose>\n    </where>\n</select>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"where-\u5143\u7d20",children:"where \u5143\u7d20"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"where"})," \u5143\u7d20\u667a\u80fd\u5904\u7406 WHERE \u5b50\u53e5\uff0c\u81ea\u52a8\u53bb\u9664\u591a\u4f59\u7684 AND/OR \u524d\u7f00\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u95ee\u9898\u573a\u666f",children:"\u95ee\u9898\u573a\u666f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u274c \u95ee\u9898\uff1a\u5982\u679c\u6240\u6709\u6761\u4ef6\u90fd\u4e3a\u7a7a\uff0c\u4f1a\u4ea7\u751f "WHERE" \u8bed\u6cd5\u9519\u8bef --\x3e\n\x3c!-- \u274c \u95ee\u9898\uff1a\u5982\u679c\u7b2c\u4e00\u4e2a\u6761\u4ef6\u4e3a\u7a7a\uff0c\u4f1a\u4ea7\u751f "WHERE AND" \u8bed\u6cd5\u9519\u8bef --\x3e\n<select id="selectByCondition" resultType="User">\n    SELECT * FROM user\n    WHERE\n    <if test="name != null">\n        name = #{name}\n    </if>\n    <if test="email != null">\n        AND email = #{email}\n    </if>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528-where-\u89e3\u51b3",children:"\u4f7f\u7528 where \u89e3\u51b3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u2705 \u6b63\u786e\uff1a\u4f7f\u7528 where \u5143\u7d20 --\x3e\n<select id="selectByCondition" resultType="User">\n    SELECT * FROM user\n    <where>\n        <if test="name != null">\n            AND name = #{name}\n        </if>\n        <if test="email != null">\n            AND email = #{email}\n        </if>\n        <if test="age != null">\n            AND age = #{age}\n        </if>\n    </where>\n</select>\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"where"})," \u5143\u7d20\u7684\u884c\u4e3a\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u53ea\u6709\u5728\u5b50\u5143\u7d20\u6709\u5185\u5bb9\u65f6\u624d\u63d2\u5165 WHERE"}),"\n",(0,l.jsx)(n.li,{children:"\u81ea\u52a8\u53bb\u9664\u5185\u5bb9\u5f00\u5934\u7684 AND \u6216 OR"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"set-\u5143\u7d20",children:"set \u5143\u7d20"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"set"})," \u5143\u7d20\u7528\u4e8e UPDATE \u8bed\u53e5\uff0c\u667a\u80fd\u5904\u7406 SET \u5b50\u53e5\uff0c\u81ea\u52a8\u53bb\u9664\u591a\u4f59\u7684\u9017\u53f7\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u95ee\u9898\u573a\u666f-1",children:"\u95ee\u9898\u573a\u666f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u274c \u95ee\u9898\uff1a\u6700\u540e\u4e00\u4e2a\u9017\u53f7\u4f1a\u5bfc\u81f4\u8bed\u6cd5\u9519\u8bef --\x3e\n<update id="update">\n    UPDATE user SET\n    <if test="name != null">name = #{name},</if>\n    <if test="email != null">email = #{email},</if>\n    <if test="age != null">age = #{age},</if>\n    WHERE id = #{id}\n</update>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u4f7f\u7528-set-\u89e3\u51b3",children:"\u4f7f\u7528 set \u89e3\u51b3"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u2705 \u6b63\u786e\uff1a\u4f7f\u7528 set \u5143\u7d20 --\x3e\n<update id="update" parameterType="User">\n    UPDATE user\n    <set>\n        <if test="name != null">name = #{name},</if>\n        <if test="email != null">email = #{email},</if>\n        <if test="age != null">age = #{age},</if>\n        update_time = NOW(),\n    </set>\n    WHERE id = #{id}\n</update>\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"set"})," \u5143\u7d20\u7684\u884c\u4e3a\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u81ea\u52a8\u6dfb\u52a0 SET \u5173\u952e\u5b57"}),"\n",(0,l.jsx)(n.li,{children:"\u81ea\u52a8\u53bb\u9664\u5185\u5bb9\u672b\u5c3e\u7684\u9017\u53f7"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"trim-\u5143\u7d20",children:"trim \u5143\u7d20"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"trim"})," \u662f\u6700\u7075\u6d3b\u7684\u5143\u7d20\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u524d\u7f00\u3001\u540e\u7f00\u4ee5\u53ca\u8981\u53bb\u9664\u7684\u5185\u5bb9\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c5e\u6027\u8bf4\u660e",children:"\u5c5e\u6027\u8bf4\u660e"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"prefix"})}),(0,l.jsx)(n.td,{children:"\u6dfb\u52a0\u7684\u524d\u7f00"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"suffix"})}),(0,l.jsx)(n.td,{children:"\u6dfb\u52a0\u7684\u540e\u7f00"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"prefixOverrides"})}),(0,l.jsx)(n.td,{children:"\u8981\u53bb\u9664\u7684\u524d\u7f00\uff08\u591a\u4e2a\u7528 `"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"suffixOverrides"})}),(0,l.jsx)(n.td,{children:"\u8981\u53bb\u9664\u7684\u540e\u7f00\uff08\u591a\u4e2a\u7528 `"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"\u5b9e\u73b0-where",children:"\u5b9e\u73b0 where"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u7b49\u4ef7\u4e8e <where> --\x3e\n<trim prefix="WHERE" prefixOverrides="AND |OR ">\n    <if test="name != null">AND name = #{name}</if>\n    <if test="email != null">AND email = #{email}</if>\n</trim>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5b9e\u73b0-set",children:"\u5b9e\u73b0 set"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u7b49\u4ef7\u4e8e <set> --\x3e\n<trim prefix="SET" suffixOverrides=",">\n    <if test="name != null">name = #{name},</if>\n    <if test="email != null">email = #{email},</if>\n</trim>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u81ea\u5b9a\u4e49\u7528\u6cd5",children:"\u81ea\u5b9a\u4e49\u7528\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u52a8\u6001 IN \u5b50\u53e5 --\x3e\n<select id="selectByIds" resultType="User">\n    SELECT * FROM user\n    WHERE id IN\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n        <foreach collection="ids" item="id">\n            #{id},\n        </foreach>\n    </trim>\n</select>\n\n\x3c!-- \u52a8\u6001\u63d2\u5165\u5217 --\x3e\n<insert id="insertSelective">\n    INSERT INTO user\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n        <if test="name != null">name,</if>\n        <if test="email != null">email,</if>\n        <if test="age != null">age,</if>\n    </trim>\n    <trim prefix="VALUES (" suffix=")" suffixOverrides=",">\n        <if test="name != null">#{name},</if>\n        <if test="email != null">#{email},</if>\n        <if test="age != null">#{age},</if>\n    </trim>\n</insert>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"foreach-\u904d\u5386",children:"foreach \u904d\u5386"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"foreach"})," \u7528\u4e8e\u904d\u5386\u96c6\u5408\uff0c\u5e38\u7528\u4e8e IN \u67e5\u8be2\u548c\u6279\u91cf\u64cd\u4f5c\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5c5e\u6027\u8bf4\u660e-1",children:"\u5c5e\u6027\u8bf4\u660e"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"collection"})}),(0,l.jsx)(n.td,{children:"\u8981\u904d\u5386\u7684\u96c6\u5408"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"item"})}),(0,l.jsx)(n.td,{children:"\u5f53\u524d\u5143\u7d20\u7684\u53d8\u91cf\u540d"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"index"})}),(0,l.jsx)(n.td,{children:"\u5f53\u524d\u7d22\u5f15\uff08List\uff09\u6216\u952e\uff08Map\uff09"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"open"})}),(0,l.jsx)(n.td,{children:"\u5f00\u59cb\u7b26\u53f7"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"close"})}),(0,l.jsx)(n.td,{children:"\u7ed3\u675f\u7b26\u53f7"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"separator"})}),(0,l.jsx)(n.td,{children:"\u5143\u7d20\u5206\u9694\u7b26"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"collection-\u53d6\u503c",children:"collection \u53d6\u503c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'// 1. List \u53c2\u6570\nList<Long> selectByIds(List<Long> ids);\n// collection="list" \u6216 collection="collection" \u6216 @Param("ids") \u540e\u7528 "ids"\n\n// 2. Array \u53c2\u6570\nList<Long> selectByIds(Long[] ids);\n// collection="array" \u6216 @Param("ids") \u540e\u7528 "ids"\n\n// 3. @Param \u6ce8\u89e3\nList<Long> selectByIds(@Param("ids") List<Long> ids);\n// collection="ids"\n\n// 4. Map \u53c2\u6570\nList<Long> selectByMap(Map<String, Object> params);\n// collection="ids"\uff08Map \u4e2d\u7684 key\uff09\n'})}),"\n",(0,l.jsx)(n.h3,{id:"in-\u67e5\u8be2",children:"IN \u67e5\u8be2"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByIds" resultType="User">\n    SELECT * FROM user\n    WHERE id IN\n    <foreach collection="ids" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</select>\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u751f\u6210 SQL\uff1a",(0,l.jsx)(n.code,{children:"SELECT * FROM user WHERE id IN (1, 2, 3)"})]}),"\n",(0,l.jsx)(n.h3,{id:"\u6279\u91cf\u63d2\u5165",children:"\u6279\u91cf\u63d2\u5165"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<insert id="batchInsert">\n    INSERT INTO user (name, email, age)\n    VALUES\n    <foreach collection="list" item="user" separator=",">\n        (#{user.name}, #{user.email}, #{user.age})\n    </foreach>\n</insert>\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u751f\u6210 SQL\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"INSERT INTO user (name, email, age)\nVALUES ('\u5f20\u4e09', 'a@test.com', 20), ('\u674e\u56db', 'b@test.com', 25)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u6279\u91cf\u66f4\u65b0",children:"\u6279\u91cf\u66f4\u65b0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u65b9\u5f0f\u4e00\uff1a\u591a\u6761 UPDATE\uff08\u9700\u8981 allowMultiQueries=true\uff09 --\x3e\n<update id="batchUpdate">\n    <foreach collection="list" item="user" separator=";">\n        UPDATE user\n        SET name = #{user.name}, email = #{user.email}\n        WHERE id = #{user.id}\n    </foreach>\n</update>\n\n\x3c!-- \u65b9\u5f0f\u4e8c\uff1aCASE WHEN --\x3e\n<update id="batchUpdate">\n    UPDATE user\n    SET name = CASE id\n        <foreach collection="list" item="user">\n            WHEN #{user.id} THEN #{user.name}\n        </foreach>\n        END,\n        email = CASE id\n        <foreach collection="list" item="user">\n            WHEN #{user.id} THEN #{user.email}\n        </foreach>\n        END\n    WHERE id IN\n    <foreach collection="list" item="user" open="(" separator="," close=")">\n        #{user.id}\n    </foreach>\n</update>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u904d\u5386-map",children:"\u904d\u5386 Map"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByMap" resultType="User">\n    SELECT * FROM user\n    <where>\n        <foreach collection="conditions" index="key" item="value">\n            AND ${key} = #{value}\n        </foreach>\n    </where>\n</select>\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-java",children:'Map<String, Object> conditions = new HashMap<>();\nconditions.put("name", "\u5f20\u4e09");\nconditions.put("age", 20);\nuserMapper.selectByMap(conditions);\n'})}),"\n",(0,l.jsx)(n.h2,{id:"sql-\u7247\u6bb5",children:"sql \u7247\u6bb5"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"sql"})," \u5143\u7d20\u7528\u4e8e\u5b9a\u4e49\u53ef\u91cd\u7528\u7684 SQL \u7247\u6bb5\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5-2",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u5b9a\u4e49 --\x3e\n<sql id="baseColumns">\n    id, name, email, age, status, create_time, update_time\n</sql>\n\n<sql id="activeCondition">\n    AND status = 1 AND deleted = 0\n</sql>\n\n\x3c!-- \u5f15\u7528 --\x3e\n<select id="selectAll" resultType="User">\n    SELECT <include refid="baseColumns"/>\n    FROM user\n    WHERE 1=1\n    <include refid="activeCondition"/>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5e26\u53c2\u6570\u7684\u7247\u6bb5",children:"\u5e26\u53c2\u6570\u7684\u7247\u6bb5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<sql id="selectColumns">\n    ${alias}.id, ${alias}.name, ${alias}.email\n</sql>\n\n<select id="selectWithAlias" resultType="User">\n    SELECT\n    <include refid="selectColumns">\n        <property name="alias" value="u"/>\n    </include>\n    FROM user u\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5d4c\u5957\u5f15\u7528",children:"\u5d4c\u5957\u5f15\u7528"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<sql id="simpleColumns">id, name</sql>\n\n<sql id="allColumns">\n    <include refid="simpleColumns"/>, email, age, create_time\n</sql>\n\n<select id="selectAll" resultType="User">\n    SELECT <include refid="allColumns"/>\n    FROM user\n</select>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"bind-\u53d8\u91cf\u7ed1\u5b9a",children:"bind \u53d8\u91cf\u7ed1\u5b9a"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"bind"})," \u5143\u7d20\u7528\u4e8e\u521b\u5efa\u53d8\u91cf\u5e76\u7ed1\u5b9a\u5230\u4e0a\u4e0b\u6587\uff0c\u5e38\u7528\u4e8e\u6a21\u7cca\u67e5\u8be2\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5-3",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByName" resultType="User">\n    <bind name="pattern" value="\'%\' + name + \'%\'"/>\n    SELECT * FROM user\n    WHERE name LIKE #{pattern}\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u591a\u4e2a\u7ed1\u5b9a",children:"\u591a\u4e2a\u7ed1\u5b9a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByCondition" resultType="User">\n    <bind name="namePattern" value="\'%\' + name + \'%\'"/>\n    <bind name="emailPattern" value="email + \'%\'"/>\n    SELECT * FROM user\n    <where>\n        <if test="name != null">\n            AND name LIKE #{namePattern}\n        </if>\n        <if test="email != null">\n            AND email LIKE #{emailPattern}\n        </if>\n    </where>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u4e0e-concat-\u5bf9\u6bd4",children:"\u4e0e CONCAT \u5bf9\u6bd4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u4f7f\u7528 bind\uff08\u63a8\u8350\uff0c\u6570\u636e\u5e93\u65e0\u5173\uff09 --\x3e\n<select id="selectByName" resultType="User">\n    <bind name="pattern" value="\'%\' + name + \'%\'"/>\n    SELECT * FROM user WHERE name LIKE #{pattern}\n</select>\n\n\x3c!-- \u4f7f\u7528 CONCAT\uff08MySQL \u7279\u5b9a\uff09 --\x3e\n<select id="selectByName" resultType="User">\n    SELECT * FROM user WHERE name LIKE CONCAT(\'%\', #{name}, \'%\')\n</select>\n\n\x3c!-- \u4f7f\u7528 ||\uff08Oracle/PostgreSQL\uff09 --\x3e\n<select id="selectByName" resultType="User">\n    SELECT * FROM user WHERE name LIKE \'%\' || #{name} || \'%\'\n</select>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,l.jsx)(n.h3,{id:"1-\u901a\u7528\u67e5\u8be2\u6a21\u677f",children:"1. \u901a\u7528\u67e5\u8be2\u6a21\u677f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<select id="selectByCondition" resultType="User">\n    SELECT <include refid="baseColumns"/>\n    FROM user\n    <where>\n        <if test="id != null">\n            AND id = #{id}\n        </if>\n        <if test="name != null and name != \'\'">\n            <bind name="namePattern" value="\'%\' + name + \'%\'"/>\n            AND name LIKE #{namePattern}\n        </if>\n        <if test="email != null and email != \'\'">\n            AND email = #{email}\n        </if>\n        <if test="minAge != null">\n            AND age &gt;= #{minAge}\n        </if>\n        <if test="maxAge != null">\n            AND age &lt;= #{maxAge}\n        </if>\n        <if test="status != null">\n            AND status = #{status}\n        </if>\n        <if test="ids != null and ids.size() > 0">\n            AND id IN\n            <foreach collection="ids" item="id" open="(" separator="," close=")">\n                #{id}\n            </foreach>\n        </if>\n        <if test="startTime != null">\n            AND create_time &gt;= #{startTime}\n        </if>\n        <if test="endTime != null">\n            AND create_time &lt;= #{endTime}\n        </if>\n    </where>\n    <choose>\n        <when test="orderBy != null and orderBy != \'\'">\n            ORDER BY ${orderBy}\n            <if test="orderDir != null">${orderDir}</if>\n        </when>\n        <otherwise>\n            ORDER BY create_time DESC\n        </otherwise>\n    </choose>\n    <if test="limit != null">\n        LIMIT #{limit}\n        <if test="offset != null">OFFSET #{offset}</if>\n    </if>\n</select>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"2-\u52a8\u6001\u63d2\u5165",children:"2. \u52a8\u6001\u63d2\u5165"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<insert id="insertSelective" parameterType="User"\n        useGeneratedKeys="true" keyProperty="id">\n    INSERT INTO user\n    <trim prefix="(" suffix=")" suffixOverrides=",">\n        <if test="name != null">name,</if>\n        <if test="email != null">email,</if>\n        <if test="age != null">age,</if>\n        <if test="status != null">status,</if>\n        create_time,\n    </trim>\n    <trim prefix="VALUES (" suffix=")" suffixOverrides=",">\n        <if test="name != null">#{name},</if>\n        <if test="email != null">#{email},</if>\n        <if test="age != null">#{age},</if>\n        <if test="status != null">#{status},</if>\n        NOW(),\n    </trim>\n</insert>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"3-\u52a8\u6001\u66f4\u65b0",children:"3. \u52a8\u6001\u66f4\u65b0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<update id="updateSelective" parameterType="User">\n    UPDATE user\n    <set>\n        <if test="name != null">name = #{name},</if>\n        <if test="email != null">email = #{email},</if>\n        <if test="age != null">age = #{age},</if>\n        <if test="status != null">status = #{status},</if>\n        update_time = NOW(),\n    </set>\n    WHERE id = #{id}\n</update>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"4-\u5b89\u5168\u7684\u52a8\u6001\u6392\u5e8f",children:"4. \u5b89\u5168\u7684\u52a8\u6001\u6392\u5e8f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u4f7f\u7528\u767d\u540d\u5355\u9a8c\u8bc1\u6392\u5e8f\u5b57\u6bb5 --\x3e\n<select id="selectWithSort" resultType="User">\n    SELECT * FROM user\n    <where>\n        status = 1\n    </where>\n    ORDER BY\n    <choose>\n        <when test="orderBy == \'name\'">name</when>\n        <when test="orderBy == \'age\'">age</when>\n        <when test="orderBy == \'createTime\'">create_time</when>\n        <otherwise>id</otherwise>\n    </choose>\n    <choose>\n        <when test="orderDir == \'asc\'">ASC</when>\n        <otherwise>DESC</otherwise>\n    </choose>\n</select>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898",children:"\u5e38\u89c1\u95ee\u9898"}),"\n",(0,l.jsx)(n.h3,{id:"1-xml-\u7279\u6b8a\u5b57\u7b26",children:"1. XML \u7279\u6b8a\u5b57\u7b26"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 XML \u4e2d\uff0c\u67d0\u4e9b\u5b57\u7b26\u9700\u8981\u8f6c\u4e49\uff1a"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u5b57\u7b26"}),(0,l.jsx)(n.th,{children:"\u8f6c\u4e49"}),(0,l.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"<"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&lt;"})}),(0,l.jsx)(n.td,{children:"\u5c0f\u4e8e"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:">"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&gt;"})}),(0,l.jsx)(n.td,{children:"\u5927\u4e8e"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&amp;"})}),(0,l.jsx)(n.td,{children:"\u4e0e"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"'"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&apos;"})}),(0,l.jsx)(n.td,{children:"\u5355\u5f15\u53f7"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"'})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"&quot;"})}),(0,l.jsx)(n.td,{children:"\u53cc\u5f15\u53f7"})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u4f7f\u7528\u8f6c\u4e49 --\x3e\n<if test="age &gt;= 18 and age &lt;= 60">...</if>\n\n\x3c!-- \u4f7f\u7528 CDATA --\x3e\n<if test="age != null">\n    <![CDATA[AND age >= #{minAge} AND age <= #{maxAge}]]>\n</if>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"2-\u7a7a\u5b57\u7b26\u4e32\u5224\u65ad",children:"2. \u7a7a\u5b57\u7b26\u4e32\u5224\u65ad"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:"\x3c!-- \u540c\u65f6\u5224\u65ad null \u548c\u7a7a\u5b57\u7b26\u4e32 --\x3e\n<if test=\"name != null and name != ''\">\n    AND name = #{name}\n</if>\n\n\x3c!-- \u4f7f\u7528 trim() \u53bb\u9664\u7a7a\u683c --\x3e\n<if test=\"name != null and name.trim() != ''\">\n    AND name = #{name}\n</if>\n"})}),"\n",(0,l.jsx)(n.h3,{id:"3-\u96c6\u5408\u5224\u7a7a",children:"3. \u96c6\u5408\u5224\u7a7a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u5224\u65ad\u96c6\u5408\u4e0d\u4e3a\u7a7a --\x3e\n<if test="ids != null and ids.size() > 0">\n    AND id IN\n    <foreach collection="ids" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</if>\n\n\x3c!-- \u6216\u4f7f\u7528 isEmpty() --\x3e\n<if test="ids != null and !ids.isEmpty()">\n    ...\n</if>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u76f8\u5173\u94fe\u63a5",children:"\u76f8\u5173\u94fe\u63a5"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/mybatis/xml-mapping",children:"XML \u6620\u5c04"})," - Mapper XML \u57fa\u7840"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/mybatis/annotations",children:"\u6ce8\u89e3\u6620\u5c04"})," - \u6ce8\u89e3\u65b9\u5f0f\u7684\u52a8\u6001 SQL"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/mybatis/best-practices",children:"\u6700\u4f73\u5b9e\u8df5"})," - SQL \u7f16\u5199\u89c4\u8303"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6700\u540e\u66f4\u65b0"}),": 2025 \u5e74 12 \u6708"]})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},48885:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>r});var s=i(99378);const l={},t=s.createContext(l);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);