"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[8751],{35732:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"react/faq","title":"FAQ","description":"[!TIP]","source":"@site/docs/react/faq.md","sourceDirName":"react","slug":"/react/faq","permalink":"/docs/react/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/react/faq.md","tags":[],"version":"current","sidebarPosition":92,"frontMatter":{"sidebar_position":92,"title":"FAQ"},"sidebar":"react","previous":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/react/best-practices"},"next":{"title":"\u5b9e\u6218\u6848\u4f8b","permalink":"/docs/react/practical-projects"}}');var a=s(22714),c=s(48885);const r={sidebar_position:92,title:"FAQ"},l="React \u5e38\u89c1\u95ee\u9898",i={},d=[{value:"\ud83d\udd27 \u5f00\u53d1\u73af\u5883",id:"-\u5f00\u53d1\u73af\u5883",level:2},{value:"Q: npm start \u5931\u8d25\u600e\u4e48\u529e\uff1f",id:"q-npm-start-\u5931\u8d25\u600e\u4e48\u529e",level:3},{value:"Q: \u7aef\u53e3\u88ab\u5360\u7528\uff1f",id:"q-\u7aef\u53e3\u88ab\u5360\u7528",level:3},{value:"\u269b\ufe0f React \u6838\u5fc3",id:"\ufe0f-react-\u6838\u5fc3",level:2},{value:"Q: \u4f55\u65f6\u4f7f\u7528 useState vs useReducer?",id:"q-\u4f55\u65f6\u4f7f\u7528-usestate-vs-usereducer",level:3},{value:"Q: \u4e3a\u4ec0\u4e48\u6211\u7684\u72b6\u6001\u6ca1\u6709\u66f4\u65b0\uff1f",id:"q-\u4e3a\u4ec0\u4e48\u6211\u7684\u72b6\u6001\u6ca1\u6709\u66f4\u65b0",level:3},{value:"Q: useEffect \u4e3a\u4ec0\u4e48\u6267\u884c\u4e24\u6b21\uff1f",id:"q-useeffect-\u4e3a\u4ec0\u4e48\u6267\u884c\u4e24\u6b21",level:3},{value:"Q: \u5982\u4f55\u5728 useEffect \u4e2d\u4f7f\u7528\u5f02\u6b65\u51fd\u6570\uff1f",id:"q-\u5982\u4f55\u5728-useeffect-\u4e2d\u4f7f\u7528\u5f02\u6b65\u51fd\u6570",level:3},{value:"\ud83c\udfa8 \u7ec4\u4ef6\u4e0e Props",id:"-\u7ec4\u4ef6\u4e0e-props",level:2},{value:"Q: props \u4ec0\u4e48\u65f6\u5019\u4f1a\u6539\u53d8\uff1f",id:"q-props-\u4ec0\u4e48\u65f6\u5019\u4f1a\u6539\u53d8",level:3},{value:"Q: \u5982\u4f55\u4f20\u9012\u5927\u91cf Props\uff1f",id:"q-\u5982\u4f55\u4f20\u9012\u5927\u91cf-props",level:3},{value:"\u26a1 \u6027\u80fd",id:"-\u6027\u80fd",level:2},{value:"Q: \u5982\u4f55\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\uff1f",id:"q-\u5982\u4f55\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3",level:3},{value:"Q: \u5217\u8868\u4e3a\u4ec0\u4e48\u9700\u8981 key\uff1f",id:"q-\u5217\u8868\u4e3a\u4ec0\u4e48\u9700\u8981-key",level:3},{value:"\ud83d\udd04 \u72b6\u6001\u7ba1\u7406",id:"-\u72b6\u6001\u7ba1\u7406",level:2},{value:"Q: Context \u4ec0\u4e48\u65f6\u5019\u4f1a\u91cd\u65b0\u6e32\u67d3\uff1f",id:"q-context-\u4ec0\u4e48\u65f6\u5019\u4f1a\u91cd\u65b0\u6e32\u67d3",level:3},{value:"Q: \u4f55\u65f6\u4f7f\u7528\u5168\u5c40\u72b6\u6001\u7ba1\u7406\uff1f",id:"q-\u4f55\u65f6\u4f7f\u7528\u5168\u5c40\u72b6\u6001\u7ba1\u7406",level:3},{value:"\ud83e\uddea \u8c03\u8bd5",id:"-\u8c03\u8bd5",level:2},{value:"Q: \u5982\u4f55\u8c03\u8bd5\u7ec4\u4ef6\uff1f",id:"q-\u5982\u4f55\u8c03\u8bd5\u7ec4\u4ef6",level:3},{value:"Q: Warning: Can&#39;t perform a React state update on an unmounted component",id:"q-warning-cant-perform-a-react-state-update-on-an-unmounted-component",level:3},{value:"\ud83d\udcda \u5b66\u4e60\u8d44\u6e90",id:"-\u5b66\u4e60\u8d44\u6e90",level:2}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"react-\u5e38\u89c1\u95ee\u9898",children:"React \u5e38\u89c1\u95ee\u9898"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"[!TIP]\n\u672c\u6587\u6c47\u603b\u4e86 React \u5f00\u53d1\u4e2d\u6700\u5e38\u89c1\u7684\u95ee\u9898\u548c\u89e3\u7b54\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"-\u5f00\u53d1\u73af\u5883",children:"\ud83d\udd27 \u5f00\u53d1\u73af\u5883"}),"\n",(0,a.jsx)(n.h3,{id:"q-npm-start-\u5931\u8d25\u600e\u4e48\u529e",children:"Q: npm start \u5931\u8d25\u600e\u4e48\u529e\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u6e05\u9664\u4f9d\u8d56\u91cd\u65b0\u5b89\u88c5\nrm -rf node_modules package-lock.json\nnpm install\n\n# \u6e05\u9664 npm \u7f13\u5b58\nnpm cache clean --force\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u7aef\u53e3\u88ab\u5360\u7528",children:"Q: \u7aef\u53e3\u88ab\u5360\u7528\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# macOS/Linux\nlsof -ti:3000 | xargs kill -9\n\n# Windows\nnetstat -ano | findstr :3000\ntaskkill /PID [\u8fdb\u7a0bID] /F\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\ufe0f-react-\u6838\u5fc3",children:"\u269b\ufe0f React \u6838\u5fc3"}),"\n",(0,a.jsx)(n.h3,{id:"q-\u4f55\u65f6\u4f7f\u7528-usestate-vs-usereducer",children:"Q: \u4f55\u65f6\u4f7f\u7528 useState vs useReducer?"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"useState"}),": \u7b80\u5355\u7684\u72ec\u7acb\u72b6\u6001"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"useReducer"}),": \u590d\u6742\u7684\u76f8\u5173\u72b6\u6001\u3001\u591a\u4e2a\u5b50\u503c\u3001\u590d\u6742\u7684\u72b6\u6001\u903b\u8f91"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u7b80\u5355\u60c5\u51b5\uff1auseState\nconst [count, setCount] = useState(0);\n\n// \u590d\u6742\u60c5\u51b5\uff1auseReducer\nconst [state, dispatch] = useReducer(reducer, {\n  count: 0,\n  step: 1,\n  history: [],\n});\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u4e3a\u4ec0\u4e48\u6211\u7684\u72b6\u6001\u6ca1\u6709\u66f4\u65b0",children:"Q: \u4e3a\u4ec0\u4e48\u6211\u7684\u72b6\u6001\u6ca1\u6709\u66f4\u65b0\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u2717 \u9519\u8bef\uff1a\u76f4\u63a5\u4fee\u6539\u72b6\u6001\nconst [items, setItems] = useState([1, 2, 3]);\nitems.push(4); // \u4e0d\u4f1a\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\uff01\n\n// \u2713 \u6b63\u786e\uff1a\u521b\u5efa\u65b0\u5bf9\u8c61/\u6570\u7ec4\nsetItems([...items, 4]);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-useeffect-\u4e3a\u4ec0\u4e48\u6267\u884c\u4e24\u6b21",children:"Q: useEffect \u4e3a\u4ec0\u4e48\u6267\u884c\u4e24\u6b21\uff1f"}),"\n",(0,a.jsx)(n.p,{children:"React 18 \u7684\u4e25\u683c\u6a21\u5f0f\u4f1a\u6545\u610f\u8ba9\u7ec4\u4ef6\u6302\u8f7d\u4e24\u6b21\uff08\u4ec5\u5f00\u53d1\u73af\u5883\uff09\uff0c\u7528\u4e8e\u53d1\u73b0\u526f\u4f5c\u7528\u95ee\u9898\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'// \u751f\u4ea7\u73af\u5883\u53ea\u6267\u884c\u4e00\u6b21\nuseEffect(() => {\n  console.log("mounted"); // \u5f00\u53d1\u73af\u5883\u6253\u5370\u4e24\u6b21\n}, []);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u5982\u4f55\u5728-useeffect-\u4e2d\u4f7f\u7528\u5f02\u6b65\u51fd\u6570",children:"Q: \u5982\u4f55\u5728 useEffect \u4e2d\u4f7f\u7528\u5f02\u6b65\u51fd\u6570\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'// \u2713 \u65b9\u6cd51\uff1a\u5185\u90e8\u5b9a\u4e49 async \u51fd\u6570\nuseEffect(() => {\n  async function fetchData() {\n    const data = await fetch("/api");\n    setData(data);\n  }\n  fetchData();\n}, []);\n\n// \u2713 \u65b9\u6cd52\uff1a\u7acb\u5373\u6267\u884c\u7684 async \u51fd\u6570\nuseEffect(() => {\n  (async () => {\n    const data = await fetch("/api");\n    setData(data);\n  })();\n}, []);\n\n// \u2717 \u9519\u8bef\uff1auseEffect \u56de\u8c03\u4e0d\u80fd\u662f async\nuseEffect(async () => {\n  const data = await fetch("/api"); // \u9519\u8bef\uff01\n}, []);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"-\u7ec4\u4ef6\u4e0e-props",children:"\ud83c\udfa8 \u7ec4\u4ef6\u4e0e Props"}),"\n",(0,a.jsx)(n.h3,{id:"q-props-\u4ec0\u4e48\u65f6\u5019\u4f1a\u6539\u53d8",children:"Q: props \u4ec0\u4e48\u65f6\u5019\u4f1a\u6539\u53d8\uff1f"}),"\n",(0,a.jsx)(n.p,{children:"props \u662f\u53ea\u8bfb\u7684\uff0c\u7531\u7236\u7ec4\u4ef6\u63a7\u5236\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u7236\u7ec4\u4ef6\u66f4\u65b0 props\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  return <Child count={count} />; // count \u53d8\u5316\u65f6\uff0cChild \u4f1a\u91cd\u65b0\u6e32\u67d3\n}\n\nfunction Child({ count }) {\n  // \u4e0d\u80fd\u4fee\u6539 props\n  // count = 123; // \u9519\u8bef\uff01\n  return <div>{count}</div>;\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u5982\u4f55\u4f20\u9012\u5927\u91cf-props",children:"Q: \u5982\u4f55\u4f20\u9012\u5927\u91cf Props\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u2713 \u4f7f\u7528\u6269\u5c55\u8fd0\u7b97\u7b26\nconst props = { name: 'John', age: 30, email: 'john@example.com' };\n<Component {...props} />\n\n// \u2713 \u6216\u4f7f\u7528\u5bf9\u8c61\n<Component user={{ name: 'John', age: 30, email: '...' }} />\n"})}),"\n",(0,a.jsx)(n.h2,{id:"-\u6027\u80fd",children:"\u26a1 \u6027\u80fd"}),"\n",(0,a.jsx)(n.h3,{id:"q-\u5982\u4f55\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3",children:"Q: \u5982\u4f55\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// 1. React.memo\nconst Child = React.memo(({ data }) => {\n  return <div>{data}</div>;\n});\n\n// 2. useMemo \u7f13\u5b58\u8ba1\u7b97\nconst expensiveResult = useMemo(() => {\n  return computeExpensiveValue(a, b);\n}, [a, b]);\n\n// 3. useCallback \u7f13\u5b58\u51fd\u6570\nconst handleClick = useCallback(() => {\n  doSomething(a, b);\n}, [a, b]);\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u5217\u8868\u4e3a\u4ec0\u4e48\u9700\u8981-key",children:"Q: \u5217\u8868\u4e3a\u4ec0\u4e48\u9700\u8981 key\uff1f"}),"\n",(0,a.jsx)(n.p,{children:"key \u5e2e\u52a9 React \u8bc6\u522b\u54ea\u4e9b\u5143\u7d20\u6539\u53d8\u3001\u6dfb\u52a0\u6216\u79fb\u9664\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u2713 \u597d\uff1a\u4f7f\u7528\u7a33\u5b9a\u7684 ID\n{\n  items.map((item) => <div key={item.id}>{item.name}</div>);\n}\n\n// \u2717 \u4e0d\u597d\uff1a\u4f7f\u7528\u7d22\u5f15\uff08\u5f53\u5217\u8868\u4f1a\u91cd\u65b0\u6392\u5e8f\u65f6\uff09\n{\n  items.map((item, index) => <div key={index}>{item.name}</div>);\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"-\u72b6\u6001\u7ba1\u7406",children:"\ud83d\udd04 \u72b6\u6001\u7ba1\u7406"}),"\n",(0,a.jsx)(n.h3,{id:"q-context-\u4ec0\u4e48\u65f6\u5019\u4f1a\u91cd\u65b0\u6e32\u67d3",children:"Q: Context \u4ec0\u4e48\u65f6\u5019\u4f1a\u91cd\u65b0\u6e32\u67d3\uff1f"}),"\n",(0,a.jsx)(n.p,{children:"Context Provider \u7684 value \u6539\u53d8\u65f6\uff0c\u6240\u6709\u6d88\u8d39\u8005\u90fd\u4f1a\u91cd\u65b0\u6e32\u67d3\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"// \u2717 \u4e0d\u597d\uff1a\u6bcf\u6b21 Parent \u6e32\u67d3\u90fd\u521b\u5efa\u65b0\u5bf9\u8c61\nfunction Parent() {\n  const [user, setUser] = useState(null);\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\n// \u2713 \u597d\uff1a\u4f7f\u7528 useMemo\nconst value = useMemo(() => ({ user, setUser }), [user]);\n<UserContext.Provider value={value}>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"q-\u4f55\u65f6\u4f7f\u7528\u5168\u5c40\u72b6\u6001\u7ba1\u7406",children:"Q: \u4f55\u65f6\u4f7f\u7528\u5168\u5c40\u72b6\u6001\u7ba1\u7406\uff1f"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u2713 \u9700\u8981\u5728\u591a\u4e2a\u4e0d\u76f8\u5173\u7ec4\u4ef6\u95f4\u5171\u4eab\u72b6\u6001"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 \u72b6\u6001\u9700\u8981\u6301\u4e45\u5316"}),"\n",(0,a.jsx)(n.li,{children:"\u2713 \u9700\u8981\u590d\u6742\u7684\u72b6\u6001\u66f4\u65b0\u903b\u8f91"}),"\n",(0,a.jsx)(n.li,{children:"\u2717 \u7b80\u5355\u7684\u7236\u5b50\u901a\u4fe1\uff08\u7528 props\uff09"}),"\n",(0,a.jsx)(n.li,{children:"\u2717 \u53ea\u5728\u4e00\u4e2a\u7ec4\u4ef6\u4f7f\u7528\u7684\u72b6\u6001"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"-\u8c03\u8bd5",children:"\ud83e\uddea \u8c03\u8bd5"}),"\n",(0,a.jsx)(n.h3,{id:"q-\u5982\u4f55\u8c03\u8bd5\u7ec4\u4ef6",children:"Q: \u5982\u4f55\u8c03\u8bd5\u7ec4\u4ef6\uff1f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'// 1. \u4f7f\u7528 React DevTools\n// \u5b89\u88c5\u6d4f\u89c8\u5668\u6269\u5c55\n\n// 2. console.log\nfunction Component({ prop }) {\n  console.log("Component rendered", { prop });\n  return <div>{prop}</div>;\n}\n\n// 3. debugger \u8bed\u53e5\nuseEffect(() => {\n  debugger; // \u65ad\u70b9\n  // ...\n}, []);\n'})}),"\n",(0,a.jsx)(n.h3,{id:"q-warning-cant-perform-a-react-state-update-on-an-unmounted-component",children:"Q: Warning: Can't perform a React state update on an unmounted component"}),"\n",(0,a.jsx)(n.p,{children:"\u7ec4\u4ef6\u5378\u8f7d\u540e\u5c1d\u8bd5\u66f4\u65b0\u72b6\u6001\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'// \u2713 \u89e3\u51b3\uff1a\u4f7f\u7528\u6e05\u7406\u6807\u5fd7\nuseEffect(() => {\n  let cancelled = false;\n\n  fetch("/api").then((data) => {\n    if (!cancelled) {\n      setData(data);\n    }\n  });\n\n  return () => {\n    cancelled = true;\n  };\n}, []);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"-\u5b66\u4e60\u8d44\u6e90",children:"\ud83d\udcda \u5b66\u4e60\u8d44\u6e90"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://react.dev",children:"\u5b98\u65b9\u6587\u6863"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://react.dev/learn/react-developer-tools",children:"React DevTools"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./index",children:"\u672c\u7ad9\u5176\u4ed6\u6587\u6863"})}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u8fd8\u6709\u95ee\u9898\uff1f"})," \u67e5\u770b ",(0,a.jsx)(n.a,{href:"./best-practices",children:"\u6700\u4f73\u5b9e\u8df5"})," \u6216 ",(0,a.jsx)(n.a,{href:"./interview-questions",children:"\u9762\u8bd5\u9898"})]})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},48885:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(99378);const a={},c=t.createContext(a);function r(e){const n=t.useContext(c);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(c.Provider,{value:n},e.children)}}}]);