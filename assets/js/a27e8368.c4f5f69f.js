"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[2727],{48885:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(99378);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},98416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"react/ssr-nextjs","title":"SSR \u4e0e Next.js","description":"[!TIP]","source":"@site/docs/react/ssr-nextjs.md","sourceDirName":"react","slug":"/react/ssr-nextjs","permalink":"/docs/react/ssr-nextjs","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/react/ssr-nextjs.md","tags":[],"version":"current","sidebarPosition":24,"frontMatter":{"sidebar_position":24,"title":"SSR \u4e0e Next.js"},"sidebar":"react","previous":{"title":"TypeScript \u4e0e React","permalink":"/docs/react/typescript"},"next":{"title":"\u6d4b\u8bd5","permalink":"/docs/react/testing"}}');var a=t(22714),r=t(48885);const i={sidebar_position:24,title:"SSR \u4e0e Next.js"},o="\u670d\u52a1\u7aef\u6e32\u67d3\u4e0e Next.js",c={},l=[{value:"\ud83d\udce6 \u5b89\u88c5 Next.js",id:"-\u5b89\u88c5-nextjs",level:2},{value:"\ud83c\udfaf \u6838\u5fc3\u6982\u5ff5",id:"-\u6838\u5fc3\u6982\u5ff5",level:2},{value:"1. \u6587\u4ef6\u7cfb\u7edf\u8def\u7531",id:"1-\u6587\u4ef6\u7cfb\u7edf\u8def\u7531",level:3},{value:"2. \u670d\u52a1\u7aef\u7ec4\u4ef6\uff08\u9ed8\u8ba4\uff09",id:"2-\u670d\u52a1\u7aef\u7ec4\u4ef6\u9ed8\u8ba4",level:3},{value:"3. \u5ba2\u6237\u7aef\u7ec4\u4ef6",id:"3-\u5ba2\u6237\u7aef\u7ec4\u4ef6",level:3},{value:"\ud83d\udd04 \u6570\u636e\u83b7\u53d6",id:"-\u6570\u636e\u83b7\u53d6",level:2},{value:"SSG\uff08\u9759\u6001\u751f\u6210\uff09",id:"ssg\u9759\u6001\u751f\u6210",level:3},{value:"SSR\uff08\u670d\u52a1\u7aef\u6e32\u67d3\uff09",id:"ssr\u670d\u52a1\u7aef\u6e32\u67d3",level:3},{value:"ISR\uff08\u589e\u91cf\u9759\u6001\u518d\u751f\uff09",id:"isr\u589e\u91cf\u9759\u6001\u518d\u751f",level:3},{value:"\ud83d\ude80 API \u8def\u7531",id:"-api-\u8def\u7531",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u670d\u52a1\u7aef\u6e32\u67d3\u4e0e-nextjs",children:"\u670d\u52a1\u7aef\u6e32\u67d3\u4e0e Next.js"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"[!TIP]\nNext.js \u662f React \u7684\u5168\u6808\u6846\u67b6\uff0c\u652f\u6301 SSR\u3001SSG\u3001ISR \u7b49\u591a\u79cd\u6e32\u67d3\u65b9\u5f0f\u3002"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"-\u5b89\u88c5-nextjs",children:"\ud83d\udce6 \u5b89\u88c5 Next.js"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx create-next-app@latest my-app\ncd my-app\nnpm run dev\n"})}),"\n",(0,a.jsx)(n.h2,{id:"-\u6838\u5fc3\u6982\u5ff5",children:"\ud83c\udfaf \u6838\u5fc3\u6982\u5ff5"}),"\n",(0,a.jsx)(n.h3,{id:"1-\u6587\u4ef6\u7cfb\u7edf\u8def\u7531",children:"1. \u6587\u4ef6\u7cfb\u7edf\u8def\u7531"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"app/\n\u251c\u2500\u2500 page.tsx          # /\n\u251c\u2500\u2500 about/\n\u2502   \u2514\u2500\u2500 page.tsx      # /about\n\u251c\u2500\u2500 blog/\n\u2502   \u251c\u2500\u2500 page.tsx      # /blog\n\u2502   \u2514\u2500\u2500 [id]/\n\u2502       \u2514\u2500\u2500 page.tsx  # /blog/:id\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-\u670d\u52a1\u7aef\u7ec4\u4ef6\u9ed8\u8ba4",children:"2. \u670d\u52a1\u7aef\u7ec4\u4ef6\uff08\u9ed8\u8ba4\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// app/page.tsx - \u670d\u52a1\u7aef\u7ec4\u4ef6\nasync function HomePage() {\n  const data = await fetch("https://api.example.com/data");\n  const posts = await data.json();\n\n  return (\n    <div>\n      <h1>Posts</h1>\n      {posts.map((post) => (\n        <div key={post.id}>{post.title}</div>\n      ))}\n    </div>\n  );\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"3-\u5ba2\u6237\u7aef\u7ec4\u4ef6",children:"3. \u5ba2\u6237\u7aef\u7ec4\u4ef6"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'"use client"; // \u6807\u8bb0\u4e3a\u5ba2\u6237\u7aef\u7ec4\u4ef6\n\nimport { useState } from "react";\n\nexport function Counter() {\n  const [count, setCount] = useState(0);\n\n  return <button onClick={() => setCount(count + 1)}>Count: {count}</button>;\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"-\u6570\u636e\u83b7\u53d6",children:"\ud83d\udd04 \u6570\u636e\u83b7\u53d6"}),"\n",(0,a.jsx)(n.h3,{id:"ssg\u9759\u6001\u751f\u6210",children:"SSG\uff08\u9759\u6001\u751f\u6210\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// \u6784\u5efa\u65f6\u83b7\u53d6\u6570\u636e\nexport async function generateStaticParams() {\n  const posts = await fetch("https://...").then((r) => r.json());\n  return posts.map((post) => ({ id: post.id.toString() }));\n}\n\nasync function Post({ params }: { params: { id: string } }) {\n  const post = await fetch(`https://.../${params.id}`).then((r) => r.json());\n  return <div>{post.title}</div>;\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"ssr\u670d\u52a1\u7aef\u6e32\u67d3",children:"SSR\uff08\u670d\u52a1\u7aef\u6e32\u67d3\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'// \u6bcf\u6b21\u8bf7\u6c42\u65f6\u83b7\u53d6\u6570\u636e\nasync function DynamicPage() {\n  const data = await fetch("https://...", { cache: "no-store" });\n  return <div>{data.title}</div>;\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"isr\u589e\u91cf\u9759\u6001\u518d\u751f",children:"ISR\uff08\u589e\u91cf\u9759\u6001\u518d\u751f\uff09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'async function PostsPage() {\n  const data = await fetch("https://...", {\n    next: { revalidate: 3600 }, // 1\u5c0f\u65f6\u540e\u91cd\u65b0\u9a8c\u8bc1\n  });\n  return <div>...</div>;\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"-api-\u8def\u7531",children:"\ud83d\ude80 API \u8def\u7531"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'// app/api/hello/route.ts\nexport async function GET(request: Request) {\n  return Response.json({ message: "Hello" });\n}\n\nexport async function POST(request: Request) {\n  const body = await request.json();\n  return Response.json({ received: body });\n}\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"\u4e86\u89e3\u66f4\u591a"}),"\uff1a\u67e5\u770b ",(0,a.jsx)(n.a,{href:"https://nextjs.org/docs",children:"Next.js \u5b98\u65b9\u6587\u6863"})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);