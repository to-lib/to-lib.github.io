"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[9415],{48885:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>s});var p=i(99378);const a={},t=p.createContext(a);function l(e){const n=p.useContext(t);return p.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),p.createElement(t.Provider,{value:n},e.children)}},63845:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>m});const p=JSON.parse('{"id":"ffmpeg/audio-processing","title":"\u97f3\u9891\u5904\u7406","description":"FFmpeg \u97f3\u9891\u5904\u7406\u5b8c\u6574\u6307\u5357","source":"@site/docs/ffmpeg/audio-processing.md","sourceDirName":"ffmpeg","slug":"/ffmpeg/audio-processing","permalink":"/docs/ffmpeg/audio-processing","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ffmpeg/audio-processing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"\u97f3\u9891\u5904\u7406","description":"FFmpeg \u97f3\u9891\u5904\u7406\u5b8c\u6574\u6307\u5357"},"sidebar":"ffmpeg","previous":{"title":"\u89c6\u9891\u5904\u7406","permalink":"/docs/ffmpeg/video-processing"},"next":{"title":"\u6ee4\u955c\u4f7f\u7528","permalink":"/docs/ffmpeg/filters"}}');var a=i(22714),t=i(48885);const l={sidebar_position:5,title:"\u97f3\u9891\u5904\u7406",description:"FFmpeg \u97f3\u9891\u5904\u7406\u5b8c\u6574\u6307\u5357"},s="FFmpeg \u97f3\u9891\u5904\u7406",u={},m=[{value:"\u97f3\u9891\u683c\u5f0f\u8f6c\u6362",id:"\u97f3\u9891\u683c\u5f0f\u8f6c\u6362",level:2},{value:"\u5e38\u89c1\u683c\u5f0f\u8f6c\u6362",id:"\u5e38\u89c1\u683c\u5f0f\u8f6c\u6362",level:3},{value:"\u97f3\u9891\u8d28\u91cf\u8bbe\u7f6e",id:"\u97f3\u9891\u8d28\u91cf\u8bbe\u7f6e",level:3},{value:"\u4ece\u89c6\u9891\u63d0\u53d6\u97f3\u9891",id:"\u4ece\u89c6\u9891\u63d0\u53d6\u97f3\u9891",level:2},{value:"\u97f3\u9891\u53c2\u6570\u8c03\u6574",id:"\u97f3\u9891\u53c2\u6570\u8c03\u6574",level:2},{value:"\u8c03\u6574\u91c7\u6837\u7387",id:"\u8c03\u6574\u91c7\u6837\u7387",level:3},{value:"\u8c03\u6574\u58f0\u9053",id:"\u8c03\u6574\u58f0\u9053",level:3},{value:"\u8c03\u6574\u97f3\u91cf",id:"\u8c03\u6574\u97f3\u91cf",level:3},{value:"\u97f3\u9891\u526a\u8f91",id:"\u97f3\u9891\u526a\u8f91",level:2},{value:"\u88c1\u526a\u97f3\u9891",id:"\u88c1\u526a\u97f3\u9891",level:3},{value:"\u97f3\u9891\u5408\u5e76",id:"\u97f3\u9891\u5408\u5e76",level:3},{value:"\u97f3\u9891\u6df7\u5408",id:"\u97f3\u9891\u6df7\u5408",level:3},{value:"\u97f3\u9891\u6548\u679c",id:"\u97f3\u9891\u6548\u679c",level:2},{value:"\u6de1\u5165\u6de1\u51fa",id:"\u6de1\u5165\u6de1\u51fa",level:3},{value:"\u964d\u566a\u5904\u7406",id:"\u964d\u566a\u5904\u7406",level:3},{value:"\u5747\u8861\u5668",id:"\u5747\u8861\u5668",level:3},{value:"\u53d8\u901f\u53d8\u8c03",id:"\u53d8\u901f\u53d8\u8c03",level:3},{value:"\u97f3\u9891\u4e0e\u89c6\u9891\u5408\u6210",id:"\u97f3\u9891\u4e0e\u89c6\u9891\u5408\u6210",level:2},{value:"\u66ff\u6362\u89c6\u9891\u97f3\u8f68",id:"\u66ff\u6362\u89c6\u9891\u97f3\u8f68",level:3},{value:"\u6dfb\u52a0\u80cc\u666f\u97f3\u4e50",id:"\u6dfb\u52a0\u80cc\u666f\u97f3\u4e50",level:3},{value:"\u97f3\u9891\u5206\u6790",id:"\u97f3\u9891\u5206\u6790",level:2},{value:"\u751f\u6210\u6ce2\u5f62\u56fe",id:"\u751f\u6210\u6ce2\u5f62\u56fe",level:3},{value:"\u68c0\u6d4b\u97f3\u9891\u4fe1\u606f",id:"\u68c0\u6d4b\u97f3\u9891\u4fe1\u606f",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ffmpeg-\u97f3\u9891\u5904\u7406",children:"FFmpeg \u97f3\u9891\u5904\u7406"})}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u6587\u4ecb\u7ecd FFmpeg \u7684\u97f3\u9891\u5904\u7406\u529f\u80fd\uff0c\u5305\u62ec\u683c\u5f0f\u8f6c\u6362\u3001\u7f16\u8f91\u548c\u6548\u679c\u5904\u7406\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u683c\u5f0f\u8f6c\u6362",children:"\u97f3\u9891\u683c\u5f0f\u8f6c\u6362"}),"\n",(0,a.jsx)(n.h3,{id:"\u5e38\u89c1\u683c\u5f0f\u8f6c\u6362",children:"\u5e38\u89c1\u683c\u5f0f\u8f6c\u6362"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# WAV \u8f6c MP3\nffmpeg -i input.wav -c:a libmp3lame -b:a 320k output.mp3\n\n# MP3 \u8f6c AAC\nffmpeg -i input.mp3 -c:a aac -b:a 256k output.aac\n\n# FLAC \u8f6c MP3\nffmpeg -i input.flac -c:a libmp3lame -b:a 320k output.mp3\n\n# \u4efb\u610f\u683c\u5f0f\u8f6c WAV\nffmpeg -i input.mp3 output.wav\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u97f3\u9891\u8d28\u91cf\u8bbe\u7f6e",children:"\u97f3\u9891\u8d28\u91cf\u8bbe\u7f6e"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# MP3 \u8d28\u91cf\uff08-q:a 0-9\uff0c0 \u6700\u9ad8\uff09\nffmpeg -i input.wav -c:a libmp3lame -q:a 0 output.mp3\n\n# AAC \u6bd4\u7279\u7387\nffmpeg -i input.wav -c:a aac -b:a 256k output.aac\n\n# Opus \u7f16\u7801\uff08\u63a8\u8350\u7528\u4e8e\u7f51\u7edc\u4f20\u8f93\uff09\nffmpeg -i input.wav -c:a libopus -b:a 128k output.opus\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u4ece\u89c6\u9891\u63d0\u53d6\u97f3\u9891",children:"\u4ece\u89c6\u9891\u63d0\u53d6\u97f3\u9891"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u63d0\u53d6\u4e3a MP3\nffmpeg -i video.mp4 -vn -c:a libmp3lame -b:a 192k audio.mp3\n\n# \u63d0\u53d6\u4e3a\u539f\u59cb\u683c\u5f0f\uff08\u65e0\u9700\u91cd\u65b0\u7f16\u7801\uff09\nffmpeg -i video.mp4 -vn -c:a copy audio.aac\n\n# \u63d0\u53d6\u6240\u6709\u97f3\u8f68\nffmpeg -i video.mkv -map 0:a:0 audio1.mp3 -map 0:a:1 audio2.mp3\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u53c2\u6570\u8c03\u6574",children:"\u97f3\u9891\u53c2\u6570\u8c03\u6574"}),"\n",(0,a.jsx)(n.h3,{id:"\u8c03\u6574\u91c7\u6837\u7387",children:"\u8c03\u6574\u91c7\u6837\u7387"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u8f6c\u6362\u4e3a 44.1kHz\nffmpeg -i input.wav -ar 44100 output.wav\n\n# \u8f6c\u6362\u4e3a 48kHz\nffmpeg -i input.wav -ar 48000 output.wav\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u8c03\u6574\u58f0\u9053",children:"\u8c03\u6574\u58f0\u9053"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u7acb\u4f53\u58f0\u8f6c\u5355\u58f0\u9053\nffmpeg -i input.mp3 -ac 1 output.mp3\n\n# \u5355\u58f0\u9053\u8f6c\u7acb\u4f53\u58f0\nffmpeg -i input.mp3 -ac 2 output.mp3\n\n# 5.1 \u58f0\u9053\u8f6c\u7acb\u4f53\u58f0\nffmpeg -i input.ac3 -ac 2 output.mp3\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u8c03\u6574\u97f3\u91cf",children:"\u8c03\u6574\u97f3\u91cf"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u8c03\u6574\u4e3a\u539f\u6765\u7684 2 \u500d\nffmpeg -i input.mp3 -af "volume=2.0" output.mp3\n\n# \u964d\u4f4e 50%\nffmpeg -i input.mp3 -af "volume=0.5" output.mp3\n\n# \u589e\u52a0 6dB\nffmpeg -i input.mp3 -af "volume=6dB" output.mp3\n\n# \u97f3\u91cf\u6807\u51c6\u5316\nffmpeg -i input.mp3 -af "loudnorm" output.mp3\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u526a\u8f91",children:"\u97f3\u9891\u526a\u8f91"}),"\n",(0,a.jsx)(n.h3,{id:"\u88c1\u526a\u97f3\u9891",children:"\u88c1\u526a\u97f3\u9891"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u4ece\u7b2c 30 \u79d2\u5f00\u59cb\uff0c\u6301\u7eed 60 \u79d2\nffmpeg -i input.mp3 -ss 00:00:30 -t 00:01:00 -c copy output.mp3\n\n# \u4ece\u5f00\u59cb\u5230\u7b2c 2 \u5206\u949f\nffmpeg -i input.mp3 -to 00:02:00 -c copy output.mp3\n\n# \u53bb\u6389\u5f00\u5934 10 \u79d2\nffmpeg -i input.mp3 -ss 00:00:10 -c copy output.mp3\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u97f3\u9891\u5408\u5e76",children:"\u97f3\u9891\u5408\u5e76"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa\u6587\u4ef6\u5217\u8868\ncat > list.txt << EOF\nfile 'audio1.mp3'\nfile 'audio2.mp3'\nfile 'audio3.mp3'\nEOF\n\n# \u5408\u5e76\u97f3\u9891\nffmpeg -f concat -safe 0 -i list.txt -c copy output.mp3\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u97f3\u9891\u6df7\u5408",children:"\u97f3\u9891\u6df7\u5408"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u6df7\u5408\u4e24\u4e2a\u97f3\u9891\uff08\u540c\u65f6\u64ad\u653e\uff09\nffmpeg -i audio1.mp3 -i audio2.mp3 \\\n    -filter_complex "[0:a][1:a]amix=inputs=2:duration=longest" \\\n    output.mp3\n\n# \u97f3\u9891\u53e0\u52a0\uff08\u80cc\u666f\u97f3\u4e50\uff09\nffmpeg -i voice.mp3 -i bgm.mp3 \\\n    -filter_complex "[1:a]volume=0.3[bgm];[0:a][bgm]amix=inputs=2:duration=first" \\\n    output.mp3\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u6548\u679c",children:"\u97f3\u9891\u6548\u679c"}),"\n",(0,a.jsx)(n.h3,{id:"\u6de1\u5165\u6de1\u51fa",children:"\u6de1\u5165\u6de1\u51fa"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u6de1\u5165 3 \u79d2\nffmpeg -i input.mp3 -af "afade=t=in:ss=0:d=3" output.mp3\n\n# \u6de1\u51fa 3 \u79d2\nffmpeg -i input.mp3 -af "afade=t=out:st=57:d=3" output.mp3\n\n# \u540c\u65f6\u6de1\u5165\u6de1\u51fa\nffmpeg -i input.mp3 -af "afade=t=in:ss=0:d=3,afade=t=out:st=57:d=3" output.mp3\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u964d\u566a\u5904\u7406",children:"\u964d\u566a\u5904\u7406"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u9ad8\u901a\u6ee4\u6ce2\u5668\uff08\u53bb\u9664\u4f4e\u9891\u566a\u97f3\uff09\nffmpeg -i input.mp3 -af "highpass=f=200" output.mp3\n\n# \u4f4e\u901a\u6ee4\u6ce2\u5668\uff08\u53bb\u9664\u9ad8\u9891\u566a\u97f3\uff09\nffmpeg -i input.mp3 -af "lowpass=f=3000" output.mp3\n\n# \u7ec4\u5408\u4f7f\u7528\nffmpeg -i input.mp3 -af "highpass=f=200,lowpass=f=3000" output.mp3\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5747\u8861\u5668",children:"\u5747\u8861\u5668"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u589e\u5f3a\u4f4e\u97f3\nffmpeg -i input.mp3 -af "bass=g=10" output.mp3\n\n# \u589e\u5f3a\u9ad8\u97f3\nffmpeg -i input.mp3 -af "treble=g=5" output.mp3\n\n# \u591a\u9891\u6bb5\u5747\u8861\nffmpeg -i input.mp3 \\\n    -af "equalizer=f=100:t=h:w=200:g=5,equalizer=f=1000:t=h:w=200:g=-3" \\\n    output.mp3\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u53d8\u901f\u53d8\u8c03",children:"\u53d8\u901f\u53d8\u8c03"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u52a0\u901f\u64ad\u653e\uff08\u4e0d\u6539\u53d8\u97f3\u8c03\uff09\nffmpeg -i input.mp3 -af "atempo=1.5" output.mp3\n\n# \u51cf\u901f\u64ad\u653e\nffmpeg -i input.mp3 -af "atempo=0.75" output.mp3\n\n# \u5927\u5e45\u52a0\u901f\uff08\u9700\u8981\u4e32\u8054\uff09\nffmpeg -i input.mp3 -af "atempo=2.0,atempo=2.0" output.mp3\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u4e0e\u89c6\u9891\u5408\u6210",children:"\u97f3\u9891\u4e0e\u89c6\u9891\u5408\u6210"}),"\n",(0,a.jsx)(n.h3,{id:"\u66ff\u6362\u89c6\u9891\u97f3\u8f68",children:"\u66ff\u6362\u89c6\u9891\u97f3\u8f68"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u66ff\u6362\u97f3\u9891\nffmpeg -i video.mp4 -i audio.mp3 \\\n    -c:v copy -c:a aac \\\n    -map 0:v:0 -map 1:a:0 \\\n    output.mp4\n\n# \u5220\u9664\u539f\u97f3\u9891\uff0c\u6dfb\u52a0\u65b0\u97f3\u9891\nffmpeg -i video.mp4 -i audio.mp3 \\\n    -c:v copy -c:a aac \\\n    -map 0:v -map 1:a \\\n    -shortest output.mp4\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u6dfb\u52a0\u80cc\u666f\u97f3\u4e50",children:"\u6dfb\u52a0\u80cc\u666f\u97f3\u4e50"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u89c6\u9891\u52a0\u80cc\u666f\u97f3\u4e50\uff08\u4fdd\u7559\u539f\u58f0\uff09\nffmpeg -i video.mp4 -i bgm.mp3 \\\n    -filter_complex "[0:a]volume=1.0[a0];[1:a]volume=0.3[a1];[a0][a1]amix=inputs=2:duration=first" \\\n    -c:v copy output.mp4\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u97f3\u9891\u5206\u6790",children:"\u97f3\u9891\u5206\u6790"}),"\n",(0,a.jsx)(n.h3,{id:"\u751f\u6210\u6ce2\u5f62\u56fe",children:"\u751f\u6210\u6ce2\u5f62\u56fe"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u751f\u6210\u6ce2\u5f62\u56fe\nffmpeg -i input.mp3 -filter_complex \\\n    "showwavespic=s=1920x480:colors=blue" \\\n    -frames:v 1 waveform.png\n\n# \u751f\u6210\u9891\u8c31\u56fe\nffmpeg -i input.mp3 -filter_complex \\\n    "showspectrumpic=s=1920x480" \\\n    -frames:v 1 spectrum.png\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u68c0\u6d4b\u97f3\u9891\u4fe1\u606f",children:"\u68c0\u6d4b\u97f3\u9891\u4fe1\u606f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u97f3\u91cf\u68c0\u6d4b\nffmpeg -i input.mp3 -af "volumedetect" -f null -\n\n# \u9759\u97f3\u68c0\u6d4b\nffmpeg -i input.mp3 -af "silencedetect=n=-50dB:d=1" -f null -\n'})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);