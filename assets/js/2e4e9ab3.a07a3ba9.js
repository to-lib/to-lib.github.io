"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[2310],{48885:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>r});var a=i(99378);const t={},l=a.createContext(t);function s(n){const e=a.useContext(l);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),a.createElement(l.Provider,{value:e},n.children)}},69343:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"java/jdk17-features","title":"JDK 17 \u65b0\u7279\u6027","description":"JDK 17 \u662f\u4e00\u4e2a\u957f\u671f\u652f\u6301\u7248\u672c(LTS),\u53d1\u5e03\u4e8e 2021 \u5e74 9 \u6708\u3002\u672c\u6587\u4ecb\u7ecd JDK 17 \u7684\u4e3b\u8981\u65b0\u7279\u6027\u548c\u6539\u8fdb\u3002","source":"@site/docs/java/jdk17-features.md","sourceDirName":"java","slug":"/java/jdk17-features","permalink":"/docs/java/jdk17-features","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/java/jdk17-features.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15,"title":"JDK 17 \u65b0\u7279\u6027"},"sidebar":"java","previous":{"title":"JDK 11 \u65b0\u7279\u6027","permalink":"/docs/java/jdk11-features"},"next":{"title":"JDK 21 \u65b0\u7279\u6027","permalink":"/docs/java/jdk21-features"}}');var t=i(22714),l=i(48885);const s={sidebar_position:15,title:"JDK 17 \u65b0\u7279\u6027"},r="JDK 17 \u65b0\u7279\u6027",c={},d=[{value:"\u5bc6\u5c01\u7c7b (Sealed Classes)",id:"\u5bc6\u5c01\u7c7b-sealed-classes",level:2},{value:"\u57fa\u672c\u8bed\u6cd5",id:"\u57fa\u672c\u8bed\u6cd5",level:3},{value:"\u5bc6\u5c01\u63a5\u53e3",id:"\u5bc6\u5c01\u63a5\u53e3",level:3},{value:"\u4f7f\u7528\u573a\u666f",id:"\u4f7f\u7528\u573a\u666f",level:3},{value:"\u8bb0\u5f55\u7c7b\u578b (Records)",id:"\u8bb0\u5f55\u7c7b\u578b-records",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u81ea\u5b9a\u4e49\u6784\u9020\u5668",id:"\u81ea\u5b9a\u4e49\u6784\u9020\u5668",level:3},{value:"Record \u7684\u65b9\u6cd5",id:"record-\u7684\u65b9\u6cd5",level:3},{value:"instanceof \u6a21\u5f0f\u5339\u914d",id:"instanceof-\u6a21\u5f0f\u5339\u914d",level:2},{value:"\u4f20\u7edf\u65b9\u5f0f vs \u6a21\u5f0f\u5339\u914d",id:"\u4f20\u7edf\u65b9\u5f0f-vs-\u6a21\u5f0f\u5339\u914d",level:3},{value:"\u5b9e\u9645\u5e94\u7528",id:"\u5b9e\u9645\u5e94\u7528",level:3},{value:"Switch \u8868\u8fbe\u5f0f",id:"switch-\u8868\u8fbe\u5f0f",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5-1",level:3},{value:"\u591a\u4e2a case \u6807\u7b7e",id:"\u591a\u4e2a-case-\u6807\u7b7e",level:3},{value:"yield \u5173\u952e\u5b57",id:"yield-\u5173\u952e\u5b57",level:3},{value:"\u6587\u672c\u5757 (Text Blocks)",id:"\u6587\u672c\u5757-text-blocks",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5-2",level:3},{value:"JSON \u548c SQL",id:"json-\u548c-sql",level:3},{value:"\u6587\u672c\u5757\u8f6c\u4e49",id:"\u6587\u672c\u5757\u8f6c\u4e49",level:3},{value:"\u65b0\u589e API",id:"\u65b0\u589e-api",level:2},{value:"Stream.toList()",id:"streamtolist",level:3},{value:"\u968f\u673a\u6570\u751f\u6210\u5668",id:"\u968f\u673a\u6570\u751f\u6210\u5668",level:3},{value:"\u6027\u80fd\u6539\u8fdb",id:"\u6027\u80fd\u6539\u8fdb",level:2},{value:"G1 \u5783\u573e\u56de\u6536\u5668\u6539\u8fdb",id:"g1-\u5783\u573e\u56de\u6536\u5668\u6539\u8fdb",level:3},{value:"ZGC \u6539\u8fdb",id:"zgc-\u6539\u8fdb",level:3},{value:"\u5f03\u7528\u548c\u79fb\u9664",id:"\u5f03\u7528\u548c\u79fb\u9664",level:2},{value:"\u79fb\u9664\u7684\u529f\u80fd",id:"\u79fb\u9664\u7684\u529f\u80fd",level:3},{value:"\u5f3a\u5c01\u88c5 JDK \u5185\u90e8 API",id:"\u5f3a\u5c01\u88c5-jdk-\u5185\u90e8-api",level:3},{value:"\u8fc1\u79fb\u5efa\u8bae",id:"\u8fc1\u79fb\u5efa\u8bae",level:2},{value:"\u4ece JDK 11 \u8fc1\u79fb",id:"\u4ece-jdk-11-\u8fc1\u79fb",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u4f7f\u7528\u5bc6\u5c01\u7c7b\u63a7\u5236\u7ee7\u627f",id:"1-\u4f7f\u7528\u5bc6\u5c01\u7c7b\u63a7\u5236\u7ee7\u627f",level:3},{value:"2. \u4f18\u5148\u4f7f\u7528 Record \u8868\u793a\u6570\u636e",id:"2-\u4f18\u5148\u4f7f\u7528-record-\u8868\u793a\u6570\u636e",level:3},{value:"3. \u4f7f\u7528 instanceof \u6a21\u5f0f\u5339\u914d",id:"3-\u4f7f\u7528-instanceof-\u6a21\u5f0f\u5339\u914d",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function o(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"jdk-17-\u65b0\u7279\u6027",children:"JDK 17 \u65b0\u7279\u6027"})}),"\n",(0,t.jsx)(e.p,{children:"JDK 17 \u662f\u4e00\u4e2a\u957f\u671f\u652f\u6301\u7248\u672c(LTS),\u53d1\u5e03\u4e8e 2021 \u5e74 9 \u6708\u3002\u672c\u6587\u4ecb\u7ecd JDK 17 \u7684\u4e3b\u8981\u65b0\u7279\u6027\u548c\u6539\u8fdb\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u5bc6\u5c01\u7c7b-sealed-classes",children:"\u5bc6\u5c01\u7c7b (Sealed Classes)"}),"\n",(0,t.jsxs)(e.p,{children:["\u5bc6\u5c01\u7c7b\u5141\u8bb8\u4f60\u63a7\u5236\u54ea\u4e9b\u7c7b\u53ef\u4ee5\u7ee7\u627f\u6216\u5b9e\u73b0\u5b83,\u63d0\u4f9b\u4e86\u6bd4 ",(0,t.jsx)(e.code,{children:"final"})," \u66f4\u7075\u6d3b\u7684\u7ee7\u627f\u63a7\u5236\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u8bed\u6cd5",children:"\u57fa\u672c\u8bed\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"// \u5b9a\u4e49\u5bc6\u5c01\u7c7b\npublic sealed class Shape permits Circle, Rectangle, Triangle {\n    // \u516c\u5171\u5c5e\u6027\u548c\u65b9\u6cd5\n}\n\n// \u5141\u8bb8\u7684\u5b50\u7c7b\u5fc5\u987b\u662f final\u3001sealed \u6216 non-sealed\npublic final class Circle extends Shape {\n    private double radius;\n    \n    public Circle(double radius) {\n        this.radius = radius;\n    }\n    \n    public double area() {\n        return Math.PI * radius * radius;\n    }\n}\n\npublic final class Rectangle extends Shape {\n    private double width;\n    private double height;\n    \n    public Rectangle(double width, double height) {\n        this.width = width;\n        this.height = height;\n    }\n    \n    public double area() {\n        return width * height;\n    }\n}\n\npublic non-sealed class Triangle extends Shape {\n    // non-sealed \u5141\u8bb8\u5176\u4ed6\u7c7b\u7ee7\u7eed\u7ee7\u627f\n    private double base;\n    private double height;\n    \n    public Triangle(double base, double height) {\n        this.base = base;\n        this.height = height;\n    }\n    \n    public double area() {\n        return 0.5 * base * height;\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5bc6\u5c01\u63a5\u53e3",children:"\u5bc6\u5c01\u63a5\u53e3"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public sealed interface Payment permits CreditCardPayment, PayPalPayment, CashPayment {\n    void processPayment(double amount);\n}\n\npublic final class CreditCardPayment implements Payment {\n    private String cardNumber;\n    \n    @Override\n    public void processPayment(double amount) {\n        System.out.println("\u5904\u7406\u4fe1\u7528\u5361\u652f\u4ed8: " + amount);\n    }\n}\n\npublic final class PayPalPayment implements Payment {\n    private String email;\n    \n    @Override\n    public void processPayment(double amount) {\n        System.out.println("\u5904\u7406 PayPal \u652f\u4ed8: " + amount);\n    }\n}\n\npublic final class CashPayment implements Payment {\n    @Override\n    public void processPayment(double amount) {\n        System.out.println("\u5904\u7406\u73b0\u91d1\u652f\u4ed8: " + amount);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528\u573a\u666f",children:"\u4f7f\u7528\u573a\u666f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class PaymentProcessor {\n    public static void process(Payment payment, double amount) {\n        // \u7f16\u8bd1\u5668\u77e5\u9053\u6240\u6709\u53ef\u80fd\u7684\u5b9e\u73b0\u7c7b\n        switch (payment) {\n            case CreditCardPayment cc -> {\n                System.out.println("\u4fe1\u7528\u5361\u652f\u4ed8");\n                cc.processPayment(amount);\n            }\n            case PayPalPayment pp -> {\n                System.out.println("PayPal \u652f\u4ed8");\n                pp.processPayment(amount);\n            }\n            case CashPayment cash -> {\n                System.out.println("\u73b0\u91d1\u652f\u4ed8");\n                cash.processPayment(amount);\n            }\n            // \u4e0d\u9700\u8981 default,\u7f16\u8bd1\u5668\u77e5\u9053\u5df2\u8986\u76d6\u6240\u6709\u60c5\u51b5\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u8bb0\u5f55\u7c7b\u578b-records",children:"\u8bb0\u5f55\u7c7b\u578b (Records)"}),"\n",(0,t.jsx)(e.p,{children:"\u8bb0\u5f55\u7c7b\u578b\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7c7b,\u7528\u4e8e\u4e0d\u53ef\u53d8\u6570\u636e\u7684\u7b80\u6d01\u8868\u793a\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'// \u4f20\u7edf\u65b9\u5f0f\npublic class PersonOld {\n    private final String name;\n    private final int age;\n    \n    public PersonOld(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    \n    public String getName() { return name; }\n    public int getAge() { return age; }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        PersonOld person = (PersonOld) o;\n        return age == person.age && Objects.equals(name, person.name);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age);\n    }\n    \n    @Override\n    public String toString() {\n        return "Person[name=" + name + ", age=" + age + "]";\n    }\n}\n\n// \u4f7f\u7528 Record\npublic record Person(String name, int age) {\n    // \u81ea\u52a8\u751f\u6210\u6784\u9020\u5668\u3001getter\u3001equals\u3001hashCode\u3001toString\n}\n\n// \u4f7f\u7528\npublic class RecordExample {\n    public static void main(String[] args) {\n        Person person = new Person("\u5f20\u4e09", 25);\n        \n        System.out.println(person.name());      // \u5f20\u4e09\n        System.out.println(person.age());       // 25\n        System.out.println(person);             // Person[name=\u5f20\u4e09, age=25]\n        \n        Person person2 = new Person("\u5f20\u4e09", 25);\n        System.out.println(person.equals(person2));  // true\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u81ea\u5b9a\u4e49\u6784\u9020\u5668",children:"\u81ea\u5b9a\u4e49\u6784\u9020\u5668"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public record Point(int x, int y) {\n    // \u7d27\u51d1\u6784\u9020\u5668 - \u7528\u4e8e\u9a8c\u8bc1\n    public Point {\n        if (x < 0 || y < 0) {\n            throw new IllegalArgumentException("\u5750\u6807\u4e0d\u80fd\u4e3a\u8d1f");\n        }\n    }\n    \n    // \u989d\u5916\u7684\u6784\u9020\u5668\n    public Point() {\n        this(0, 0);\n    }\n}\n\n// \u4f7f\u7528\npublic class PointExample {\n    public static void main(String[] args) {\n        Point p1 = new Point(3, 4);\n        Point p2 = new Point();  // (0, 0)\n        \n        try {\n            Point p3 = new Point(-1, 5);  // \u629b\u51fa\u5f02\u5e38\n        } catch (IllegalArgumentException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"record-\u7684\u65b9\u6cd5",children:"Record \u7684\u65b9\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public record Employee(String name, String department, double salary) {\n    // \u53ef\u4ee5\u6dfb\u52a0\u9759\u6001\u65b9\u6cd5\n    public static Employee createIntern(String name, String department) {\n        return new Employee(name, department, 3000.0);\n    }\n    \n    // \u53ef\u4ee5\u6dfb\u52a0\u5b9e\u4f8b\u65b9\u6cd5\n    public double annualSalary() {\n        return salary * 12;\n    }\n    \n    // \u53ef\u4ee5\u91cd\u5199\u8bbf\u95ee\u5668\u65b9\u6cd5\n    @Override\n    public String name() {\n        return name.toUpperCase();\n    }\n}\n\n// \u4f7f\u7528\npublic class EmployeeExample {\n    public static void main(String[] args) {\n        Employee emp = new Employee("\u674e\u56db", "\u6280\u672f\u90e8", 15000);\n        System.out.println(emp.name());           // \u674e\u56db\n        System.out.println(emp.annualSalary());   // 180000.0\n        \n        Employee intern = Employee.createIntern("\u738b\u4e94", "\u5e02\u573a\u90e8");\n        System.out.println(intern);  // Employee[name=\u738b\u4e94, department=\u5e02\u573a\u90e8, salary=3000.0]\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"instanceof-\u6a21\u5f0f\u5339\u914d",children:"instanceof \u6a21\u5f0f\u5339\u914d"}),"\n",(0,t.jsx)(e.p,{children:"\u7b80\u5316\u4e86\u7c7b\u578b\u68c0\u67e5\u548c\u8f6c\u6362\u7684\u4ee3\u7801\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u4f20\u7edf\u65b9\u5f0f-vs-\u6a21\u5f0f\u5339\u914d",children:"\u4f20\u7edf\u65b9\u5f0f vs \u6a21\u5f0f\u5339\u914d"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class PatternMatchingExample {\n    // \u4f20\u7edf\u65b9\u5f0f\n    public static void processOld(Object obj) {\n        if (obj instanceof String) {\n            String str = (String) obj;  // \u9700\u8981\u663e\u5f0f\u8f6c\u6362\n            System.out.println("\u5b57\u7b26\u4e32\u957f\u5ea6: " + str.length());\n        } else if (obj instanceof Integer) {\n            Integer num = (Integer) obj;\n            System.out.println("\u6570\u503c: " + num);\n        }\n    }\n    \n    // \u6a21\u5f0f\u5339\u914d\n    public static void processNew(Object obj) {\n        if (obj instanceof String str) {  // \u81ea\u52a8\u8f6c\u6362\u5e76\u58f0\u660e\u53d8\u91cf\n            System.out.println("\u5b57\u7b26\u4e32\u957f\u5ea6: " + str.length());\n        } else if (obj instanceof Integer num) {\n            System.out.println("\u6570\u503c: " + num);\n        }\n    }\n    \n    // \u5728\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528\n    public static void processWithLogic(Object obj) {\n        if (obj instanceof String str && str.length() > 5) {\n            System.out.println("\u957f\u5b57\u7b26\u4e32: " + str);\n        }\n        \n        if (obj instanceof Integer num && num > 0) {\n            System.out.println("\u6b63\u6574\u6570: " + num);\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u5b9e\u9645\u5e94\u7528",children:"\u5b9e\u9645\u5e94\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class ShapeCalculator {\n    public static double calculateArea(Object shape) {\n        if (shape instanceof Circle c) {\n            return Math.PI * c.radius() * c.radius();\n        } else if (shape instanceof Rectangle r) {\n            return r.width() * r.height();\n        } else if (shape instanceof Triangle t) {\n            return 0.5 * t.base() * t.height();\n        }\n        throw new IllegalArgumentException("\u672a\u77e5\u56fe\u5f62\u7c7b\u578b");\n    }\n    \n    public static void main(String[] args) {\n        record Circle(double radius) {}\n        record Rectangle(double width, double height) {}\n        record Triangle(double base, double height) {}\n        \n        Object circle = new Circle(5.0);\n        System.out.println("\u5706\u5f62\u9762\u79ef: " + calculateArea(circle));\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"switch-\u8868\u8fbe\u5f0f",children:"Switch \u8868\u8fbe\u5f0f"}),"\n",(0,t.jsx)(e.p,{children:"Switch \u73b0\u5728\u53ef\u4ee5\u4f5c\u4e3a\u8868\u8fbe\u5f0f\u4f7f\u7528,\u8fd4\u56de\u503c\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u7528\u6cd5-1",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class SwitchExpressionExample {\n    public static void main(String[] args) {\n        // \u4f20\u7edf switch \u8bed\u53e5\n        String dayOld;\n        int day = 3;\n        switch (day) {\n            case 1:\n                dayOld = "\u661f\u671f\u4e00";\n                break;\n            case 2:\n                dayOld = "\u661f\u671f\u4e8c";\n                break;\n            case 3:\n                dayOld = "\u661f\u671f\u4e09";\n                break;\n            default:\n                dayOld = "\u5176\u4ed6";\n        }\n        \n        // Switch \u8868\u8fbe\u5f0f\n        String dayNew = switch (day) {\n            case 1 -> "\u661f\u671f\u4e00";\n            case 2 -> "\u661f\u671f\u4e8c";\n            case 3 -> "\u661f\u671f\u4e09";\n            default -> "\u5176\u4ed6";\n        };\n        \n        System.out.println(dayNew);  // \u661f\u671f\u4e09\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u591a\u4e2a-case-\u6807\u7b7e",children:"\u591a\u4e2a case \u6807\u7b7e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class MultiCaseExample {\n    public static String getSeasonChinese(int month) {\n        return switch (month) {\n            case 3, 4, 5 -> "\u6625\u5b63";\n            case 6, 7, 8 -> "\u590f\u5b63";\n            case 9, 10, 11 -> "\u79cb\u5b63";\n            case 12, 1, 2 -> "\u51ac\u5b63";\n            default -> throw new IllegalArgumentException("\u65e0\u6548\u6708\u4efd: " + month);\n        };\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(getSeasonChinese(4));   // \u6625\u5b63\n        System.out.println(getSeasonChinese(10));  // \u79cb\u5b63\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"yield-\u5173\u952e\u5b57",children:"yield \u5173\u952e\u5b57"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class YieldExample {\n    public static int calculate(String operation, int a, int b) {\n        return switch (operation) {\n            case "add" -> a + b;\n            case "subtract" -> a - b;\n            case "multiply" -> a * b;\n            case "divide" -> {\n                if (b == 0) {\n                    throw new ArithmeticException("\u9664\u6570\u4e0d\u80fd\u4e3a 0");\n                }\n                yield a / b;  // \u4f7f\u7528 yield \u8fd4\u56de\u503c\n            }\n            default -> throw new IllegalArgumentException("\u672a\u77e5\u64cd\u4f5c: " + operation);\n        };\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(calculate("add", 10, 5));       // 15\n        System.out.println(calculate("multiply", 10, 5));  // 50\n        System.out.println(calculate("divide", 10, 5));    // 2\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u6587\u672c\u5757-text-blocks",children:"\u6587\u672c\u5757 (Text Blocks)"}),"\n",(0,t.jsx)(e.p,{children:"\u591a\u884c\u5b57\u7b26\u4e32\u7684\u7b80\u6d01\u8868\u793a\u65b9\u6cd5\u3002"}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u7528\u6cd5-2",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class TextBlockExample {\n    public static void main(String[] args) {\n        // \u4f20\u7edf\u65b9\u5f0f\n        String htmlOld = "<html>\\n" +\n                        "  <body>\\n" +\n                        "    <p>Hello, World!</p>\\n" +\n                        "  </body>\\n" +\n                        "</html>";\n        \n        // \u6587\u672c\u5757\n        String htmlNew = """\n                <html>\n                  <body>\n                    <p>Hello, World!</p>\n                  </body>\n                </html>\n                """;\n        \n        System.out.println(htmlNew);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"json-\u548c-sql",children:"JSON \u548c SQL"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class TextBlockUseCases {\n    public static void main(String[] args) {\n        // JSON\n        String json = """\n                {\n                  "name": "\u5f20\u4e09",\n                  "age": 25,\n                  "city": "\u5317\u4eac"\n                }\n                """;\n        \n        // SQL\n        String sql = """\n                SELECT id, name, email\n                FROM users\n                WHERE age > 18\n                  AND city = \'\u5317\u4eac\'\n                ORDER BY name\n                """;\n        \n        // \u591a\u8bed\u8a00\u4ee3\u7801\n        String python = """\n                def hello(name):\n                    print(f"Hello, {name}!")\n                    \n                hello("World")\n                """;\n        \n        System.out.println(json);\n        System.out.println(sql);\n        System.out.println(python);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6587\u672c\u5757\u8f6c\u4e49",children:"\u6587\u672c\u5757\u8f6c\u4e49"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class TextBlockEscape {\n    public static void main(String[] args) {\n        // \u884c\u5c3e\u4f7f\u7528 \\ \u53ef\u4ee5\u8fde\u63a5\u4e0b\u4e00\u884c\n        String text1 = """\n                \u8fd9\u662f\u4e00\u884c\u5f88\u957f\u7684\u6587\u672c,\\\n                \u4f46\u5b9e\u9645\u4e0a\u662f\u8fde\u7eed\u7684\u4e00\u884c\n                """;\n        System.out.println(text1);  // \u6ca1\u6709\u6362\u884c\n        \n        // \u4f7f\u7528 \\s \u4fdd\u7559\u7a7a\u683c\n        String text2 = """\n                Line 1    \\s\n                Line 2    \\s\n                """;\n        \n        // \u4f7f\u7528 """ \u5728\u6587\u672c\u4e2d\n        String quote = """\n                \u4ed6\u8bf4: "\u8fd9\u662f\u5f15\u53f7"\n                """;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u65b0\u589e-api",children:"\u65b0\u589e API"}),"\n",(0,t.jsx)(e.h3,{id:"streamtolist",children:"Stream.toList()"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'import java.util.*;\nimport java.util.stream.*;\n\npublic class StreamToListExample {\n    public static void main(String[] args) {\n        List<String> names = List.of("Alice", "Bob", "Charlie", "David");\n        \n        // JDK 17 \u4e4b\u524d\n        List<String> filteredOld = names.stream()\n                .filter(name -> name.length() > 4)\n                .collect(Collectors.toList());\n        \n        // JDK 17\n        List<String> filteredNew = names.stream()\n                .filter(name -> name.length() > 4)\n                .toList();  // \u66f4\u7b80\u6d01,\u8fd4\u56de\u4e0d\u53ef\u53d8\u5217\u8868\n        \n        System.out.println(filteredNew);  // [Alice, Charlie, David]\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u968f\u673a\u6570\u751f\u6210\u5668",children:"\u968f\u673a\u6570\u751f\u6210\u5668"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'import java.util.random.*;\n\npublic class RandomGeneratorExample {\n    public static void main(String[] args) {\n        // \u4f7f\u7528\u65b0\u7684 RandomGenerator \u63a5\u53e3\n        RandomGenerator random = RandomGenerator.of("L64X128MixRandom");\n        \n        // \u751f\u6210\u968f\u673a\u6570\n        int randomInt = random.nextInt(100);\n        double randomDouble = random.nextDouble();\n        boolean randomBoolean = random.nextBoolean();\n        \n        System.out.println("\u968f\u673a\u6574\u6570: " + randomInt);\n        System.out.println("\u968f\u673a\u6d6e\u70b9\u6570: " + randomDouble);\n        System.out.println("\u968f\u673a\u5e03\u5c14\u503c: " + randomBoolean);\n        \n        // \u751f\u6210\u968f\u673a\u6d41\n        random.ints(5, 0, 100)\n                .forEach(n -> System.out.println("\u968f\u673a\u6570: " + n));\n        \n        // \u5217\u51fa\u6240\u6709\u53ef\u7528\u7684\u968f\u673a\u6570\u751f\u6210\u5668\u7b97\u6cd5\n        RandomGeneratorFactory.all()\n                .map(RandomGeneratorFactory::name)\n                .forEach(System.out::println);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u6027\u80fd\u6539\u8fdb",children:"\u6027\u80fd\u6539\u8fdb"}),"\n",(0,t.jsx)(e.h3,{id:"g1-\u5783\u573e\u56de\u6536\u5668\u6539\u8fdb",children:"G1 \u5783\u573e\u56de\u6536\u5668\u6539\u8fdb"}),"\n",(0,t.jsx)(e.p,{children:"JDK 17 \u5bf9 G1 \u5783\u573e\u56de\u6536\u5668\u8fdb\u884c\u4e86\u591a\u9879\u4f18\u5316:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u6539\u8fdb\u7684\u5e76\u53d1\u6807\u8bb0\u7b97\u6cd5"}),"\n",(0,t.jsx)(e.li,{children:"\u66f4\u597d\u7684\u5185\u5b58\u7ba1\u7406"}),"\n",(0,t.jsx)(e.li,{children:"\u51cf\u5c11\u505c\u987f\u65f6\u95f4"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4f7f\u7528 G1 \u5783\u573e\u56de\u6536\u5668\njava -XX:+UseG1GC -XX:MaxGCPauseMillis=200 MyApp\n"})}),"\n",(0,t.jsx)(e.h3,{id:"zgc-\u6539\u8fdb",children:"ZGC \u6539\u8fdb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4f7f\u7528 ZGC(\u4f4e\u5ef6\u8fdf\u5783\u573e\u56de\u6536\u5668)\njava -XX:+UseZGC MyApp\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5f03\u7528\u548c\u79fb\u9664",children:"\u5f03\u7528\u548c\u79fb\u9664"}),"\n",(0,t.jsx)(e.h3,{id:"\u79fb\u9664\u7684\u529f\u80fd",children:"\u79fb\u9664\u7684\u529f\u80fd"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Applet API"})," - \u5df2\u5f03\u7528\u5e76\u6807\u8bb0\u4e3a\u79fb\u9664"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"RMI Activation"})," - \u5df2\u79fb\u9664"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Security Manager"})," - \u6807\u8bb0\u4e3a\u5f03\u7528"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"\u5f3a\u5c01\u88c5-jdk-\u5185\u90e8-api",children:"\u5f3a\u5c01\u88c5 JDK \u5185\u90e8 API"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"// JDK 17 \u9ed8\u8ba4\u5f3a\u5c01\u88c5\u5185\u90e8 API\n// \u4ee5\u4e0b\u4ee3\u7801\u5c06\u5931\u8d25(\u9664\u975e\u4f7f\u7528 --add-opens)\n// sun.misc.Unsafe unsafe = sun.misc.Unsafe.getUnsafe();\n\n// \u89e3\u51b3\u65b9\u6848:\u4f7f\u7528\u516c\u5171 API \u6216\u6dfb\u52a0\u542f\u52a8\u53c2\u6570\n// java --add-opens java.base/sun.misc=ALL-UNNAMED MyApp\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u8fc1\u79fb\u5efa\u8bae",children:"\u8fc1\u79fb\u5efa\u8bae"}),"\n",(0,t.jsx)(e.h3,{id:"\u4ece-jdk-11-\u8fc1\u79fb",children:"\u4ece JDK 11 \u8fc1\u79fb"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public class MigrationChecklist {\n    /**\n     * 1. \u68c0\u67e5\u4f7f\u7528\u7684\u7b2c\u4e09\u65b9\u5e93\u662f\u5426\u652f\u6301 JDK 17\n     * 2. \u79fb\u9664\u5bf9\u5df2\u5f03\u7528 API \u7684\u4f7f\u7528\n     * 3. \u66f4\u65b0\u6784\u5efa\u5de5\u5177(Maven/Gradle)\n     * 4. \u8fd0\u884c\u6d4b\u8bd5\u5957\u4ef6\n     * 5. \u6027\u80fd\u6d4b\u8bd5\u548c\u8c03\u4f18\n     */\n    \n    public static void main(String[] args) {\n        // \u4f7f\u7528\u65b0\u7279\u6027\u6539\u8fdb\u4ee3\u7801\n        \n        // 1. \u4f7f\u7528 Records \u66ff\u4ee3\u6570\u636e\u7c7b\n        record User(String name, int age) {}\n        \n        // 2. \u4f7f\u7528 Switch \u8868\u8fbe\u5f0f\n        String dayType = switch (LocalDate.now().getDayOfWeek()) {\n            case MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY -> "\u5de5\u4f5c\u65e5";\n            case SATURDAY, SUNDAY -> "\u5468\u672b";\n        };\n        \n        // 3. \u4f7f\u7528\u6587\u672c\u5757\n        String config = """\n                {\n                  "database": "mysql",\n                  "host": "localhost"\n                }\n                """;\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,t.jsx)(e.h3,{id:"1-\u4f7f\u7528\u5bc6\u5c01\u7c7b\u63a7\u5236\u7ee7\u627f",children:"1. \u4f7f\u7528\u5bc6\u5c01\u7c7b\u63a7\u5236\u7ee7\u627f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'// \u597d\u7684\u505a\u6cd5:\u4f7f\u7528\u5bc6\u5c01\u7c7b\u9650\u5236\u5c42\u6b21\u7ed3\u6784\npublic sealed interface Result<T> permits Success, Error {\n    // \u63a5\u53e3\u5b9a\u4e49\n}\n\npublic record Success<T>(T value) implements Result<T> {}\npublic record Error<T>(String message) implements Result<T> {}\n\n// \u4f7f\u7528\u65f6\u7f16\u8bd1\u5668\u786e\u4fdd\u8986\u76d6\u6240\u6709\u60c5\u51b5\npublic static <T> void handleResult(Result<T> result) {\n    switch (result) {\n        case Success<T> s -> System.out.println("\u6210\u529f: " + s.value());\n        case Error<T> e -> System.out.println("\u9519\u8bef: " + e.message());\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"2-\u4f18\u5148\u4f7f\u7528-record-\u8868\u793a\u6570\u636e",children:"2. \u4f18\u5148\u4f7f\u7528 Record \u8868\u793a\u6570\u636e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"// \u597d\u7684\u505a\u6cd5:\u4f7f\u7528 Record\npublic record OrderItem(String productId, int quantity, double price) {\n    public double totalPrice() {\n        return quantity * price;\n    }\n}\n\n// \u800c\u4e0d\u662f\u4f20\u7edf\u7c7b(\u9664\u975e\u9700\u8981\u53ef\u53d8\u6027)\n"})}),"\n",(0,t.jsx)(e.h3,{id:"3-\u4f7f\u7528-instanceof-\u6a21\u5f0f\u5339\u914d",children:"3. \u4f7f\u7528 instanceof \u6a21\u5f0f\u5339\u914d"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"// \u597d\u7684\u505a\u6cd5\nif (obj instanceof String str && !str.isEmpty()) {\n    process(str);\n}\n\n// \u907f\u514d\nif (obj instanceof String) {\n    String str = (String) obj;\n    if (!str.isEmpty()) {\n        process(str);\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,t.jsx)(e.p,{children:"JDK 17 \u662f\u4e00\u4e2a\u91cd\u8981\u7684 LTS \u7248\u672c,\u5e26\u6765\u4e86\u8bb8\u591a\u5b9e\u7528\u7684\u65b0\u7279\u6027:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u5bc6\u5c01\u7c7b"})," - \u66f4\u597d\u7684\u7ee7\u627f\u63a7\u5236"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u8bb0\u5f55\u7c7b\u578b"})," - \u7b80\u6d01\u7684\u6570\u636e\u7c7b"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u6a21\u5f0f\u5339\u914d"})," - \u7b80\u5316\u7c7b\u578b\u68c0\u67e5"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"Switch \u8868\u8fbe\u5f0f"})," - \u66f4\u5f3a\u5927\u7684 switch"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u6587\u672c\u5757"})," - \u591a\u884c\u5b57\u7b26\u4e32\u652f\u6301"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u65b0\u589e API"})," - Stream.toList()\u3001\u968f\u673a\u6570\u751f\u6210\u5668\u7b49"]}),"\n",(0,t.jsxs)(e.li,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"\u6027\u80fd\u6539\u8fdb"})," - G1/ZGC \u4f18\u5316"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e9b\u7279\u6027\u53ef\u4ee5\u663e\u8457\u63d0\u9ad8\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u3001\u7b80\u6d01\u6027\u548c\u7c7b\u578b\u5b89\u5168\u6027\u3002\u5efa\u8bae\u5728\u65b0\u9879\u76ee\u4e2d\u79ef\u6781\u91c7\u7528\u8fd9\u4e9b\u7279\u6027\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0b\u4e00\u6b65\u53ef\u4ee5\u5b66\u4e60 ",(0,t.jsx)(e.a,{href:"/docs/java/jdk21-features",children:"JDK 21 \u65b0\u7279\u6027"}),",\u4e86\u89e3\u6700\u65b0\u7684 Java \u529f\u80fd\u3002"]})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}}}]);