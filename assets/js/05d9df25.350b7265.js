"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[87314],{48885:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var a=s(99378);const d={},o=a.createContext(d);function i(e){const n=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),a.createElement(o.Provider,{value:n},e.children)}},88771:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"podman/faq","title":"\u5e38\u89c1\u95ee\u9898","description":"Podman \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","source":"@site/docs/podman/faq.md","sourceDirName":"podman","slug":"/podman/faq","permalink":"/docs/podman/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/podman/faq.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"\u5e38\u89c1\u95ee\u9898","description":"Podman \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"},"sidebar":"podman","previous":{"title":"\u5feb\u901f\u53c2\u8003","permalink":"/docs/podman/quick-reference"}}');var d=s(22714),o=s(48885);const i={sidebar_position:9,title:"\u5e38\u89c1\u95ee\u9898",description:"Podman \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"},l="Podman \u5e38\u89c1\u95ee\u9898",r={},c=[{value:"\u5b89\u88c5\u95ee\u9898",id:"\u5b89\u88c5\u95ee\u9898",level:2},{value:"\u627e\u4e0d\u5230 podman \u547d\u4ee4",id:"\u627e\u4e0d\u5230-podman-\u547d\u4ee4",level:3},{value:"macOS/Windows \u542f\u52a8\u5931\u8d25",id:"macoswindows-\u542f\u52a8\u5931\u8d25",level:3},{value:"Rootless \u95ee\u9898",id:"rootless-\u95ee\u9898",level:2},{value:"\u6ca1\u6709\u6743\u9650\u6620\u5c04",id:"\u6ca1\u6709\u6743\u9650\u6620\u5c04",level:3},{value:"\u65e0\u6cd5\u7ed1\u5b9a\u4f4e\u7aef\u53e3",id:"\u65e0\u6cd5\u7ed1\u5b9a\u4f4e\u7aef\u53e3",level:3},{value:"\u7f51\u7edc\u95ee\u9898",id:"\u7f51\u7edc\u95ee\u9898",level:2},{value:"\u5bb9\u5668\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc",id:"\u5bb9\u5668\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc",level:3},{value:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",id:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",level:3},{value:"\u5b58\u50a8\u95ee\u9898",id:"\u5b58\u50a8\u95ee\u9898",level:2},{value:"\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3",id:"\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3",level:3},{value:"\u6302\u8f7d\u5931\u8d25",id:"\u6302\u8f7d\u5931\u8d25",level:3},{value:"Docker \u517c\u5bb9\u95ee\u9898",id:"docker-\u517c\u5bb9\u95ee\u9898",level:2},{value:"Compose \u4e0d\u5de5\u4f5c",id:"compose-\u4e0d\u5de5\u4f5c",level:3},{value:"Socket \u8fde\u63a5\u5931\u8d25",id:"socket-\u8fde\u63a5\u5931\u8d25",level:3},{value:"\u5176\u4ed6\u95ee\u9898",id:"\u5176\u4ed6\u95ee\u9898",level:2},{value:"\u5bb9\u5668\u542f\u52a8\u540e\u9000\u51fa",id:"\u5bb9\u5668\u542f\u52a8\u540e\u9000\u51fa",level:3},{value:"\u955c\u50cf\u62c9\u53d6\u5931\u8d25",id:"\u955c\u50cf\u62c9\u53d6\u5931\u8d25",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"podman-\u5e38\u89c1\u95ee\u9898",children:"Podman \u5e38\u89c1\u95ee\u9898"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5b89\u88c5\u95ee\u9898",children:"\u5b89\u88c5\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u627e\u4e0d\u5230-podman-\u547d\u4ee4",children:"\u627e\u4e0d\u5230 podman \u547d\u4ee4"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Fedora/RHEL\nsudo dnf install podman\n\n# Ubuntu\nsudo apt install podman\n"})}),"\n",(0,d.jsx)(n.h3,{id:"macoswindows-\u542f\u52a8\u5931\u8d25",children:"macOS/Windows \u542f\u52a8\u5931\u8d25"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u521d\u59cb\u5316\u865a\u62df\u673a\npodman machine init\npodman machine start\n"})}),"\n",(0,d.jsx)(n.h2,{id:"rootless-\u95ee\u9898",children:"Rootless \u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u6ca1\u6709\u6743\u9650\u6620\u5c04",children:"\u6ca1\u6709\u6743\u9650\u6620\u5c04"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u68c0\u67e5 subuid/subgid\ncat /etc/subuid | grep $USER\n\n# \u6dfb\u52a0\u6620\u5c04\nsudo usermod --add-subuids 100000-165535 $USER\nsudo usermod --add-subgids 100000-165535 $USER\npodman system migrate\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u65e0\u6cd5\u7ed1\u5b9a\u4f4e\u7aef\u53e3",children:"\u65e0\u6cd5\u7ed1\u5b9a\u4f4e\u7aef\u53e3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528\u9ad8\u7aef\u53e3\npodman run -p 8080:80 nginx\n\n# \u6216\u4fee\u6539\u7cfb\u7edf\u8bbe\u7f6e\nsudo sysctl net.ipv4.ip_unprivileged_port_start=80\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u7f51\u7edc\u95ee\u9898",children:"\u7f51\u7edc\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc",children:"\u5bb9\u5668\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u68c0\u67e5 DNS\npodman run --rm busybox nslookup google.com\n\n# \u8bbe\u7f6e DNS\npodman run --dns 8.8.8.8 nginx\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",children:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528\u540c\u4e00\u7f51\u7edc\npodman network create mynet\npodman run --network mynet --name app1 nginx\npodman run --network mynet --name app2 alpine ping app1\n\n# \u6216\u4f7f\u7528 Pod\npodman pod create --name mypod\npodman run --pod mypod --name app1 nginx\npodman run --pod mypod --name app2 alpine wget -qO- localhost\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5b58\u50a8\u95ee\u9898",children:"\u5b58\u50a8\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3",children:"\u5b58\u50a8\u7a7a\u95f4\u4e0d\u8db3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u6e05\u7406\npodman system prune -a --volumes\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6302\u8f7d\u5931\u8d25",children:"\u6302\u8f7d\u5931\u8d25"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Rootless \u6a21\u5f0f\u68c0\u67e5\u6743\u9650\npodman unshare chown -R 1000:1000 /path/to/data\n"})}),"\n",(0,d.jsx)(n.h2,{id:"docker-\u517c\u5bb9\u95ee\u9898",children:"Docker \u517c\u5bb9\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"compose-\u4e0d\u5de5\u4f5c",children:"Compose \u4e0d\u5de5\u4f5c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5b89\u88c5 podman-compose\npip install podman-compose\n\n# \u6216\u4f7f\u7528\u5185\u7f6e\npodman compose up -d\n"})}),"\n",(0,d.jsx)(n.h3,{id:"socket-\u8fde\u63a5\u5931\u8d25",children:"Socket \u8fde\u63a5\u5931\u8d25"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u542f\u7528 socket\nsystemctl --user enable --now podman.socket\nexport DOCKER_HOST=unix://$XDG_RUNTIME_DIR/podman/podman.sock\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5176\u4ed6\u95ee\u9898",children:"\u5176\u4ed6\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u542f\u52a8\u540e\u9000\u51fa",children:"\u5bb9\u5668\u542f\u52a8\u540e\u9000\u51fa"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u65e5\u5fd7\npodman logs container_name\n\n# \u4ea4\u4e92\u5f0f\u8c03\u8bd5\npodman run -it image_name sh\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u955c\u50cf\u62c9\u53d6\u5931\u8d25",children:"\u955c\u50cf\u62c9\u53d6\u5931\u8d25"}),"\n",(0,d.jsxs)(n.p,{children:["\u914d\u7f6e\u955c\u50cf\u6e90 ",(0,d.jsx)(n.code,{children:"~/.config/containers/registries.conf"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:"[registries.search]\nregistries = ['docker.io', 'quay.io']\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}}}]);