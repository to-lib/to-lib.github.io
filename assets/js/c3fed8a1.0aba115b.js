"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[792],{48885:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var d=r(99378);const c={},s=d.createContext(c);function o(e){const n=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),d.createElement(s.Provider,{value:n},e.children)}},62459:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"docker/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003","source":"@site/docs/docker/quick-reference.md","sourceDirName":"docker","slug":"/docker/quick-reference","permalink":"/docs/docker/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/docker/quick-reference.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"\u5feb\u901f\u53c2\u8003","description":"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003"},"sidebar":"docker","previous":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/docker/best-practices"},"next":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/docs/docker/faq"}}');var c=r(22714),s=r(48885);const o={sidebar_position:9,title:"\u5feb\u901f\u53c2\u8003",description:"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003"},i="Docker \u5feb\u901f\u53c2\u8003",t={},l=[{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"docker run \u5e38\u7528\u53c2\u6570",id:"docker-run-\u5e38\u7528\u53c2\u6570",level:2},{value:"Dockerfile \u6307\u4ee4",id:"dockerfile-\u6307\u4ee4",level:2},{value:"Docker Compose",id:"docker-compose",level:2},{value:"Compose \u547d\u4ee4",id:"compose-\u547d\u4ee4",level:2},{value:"\u7cfb\u7edf\u6e05\u7406",id:"\u7cfb\u7edf\u6e05\u7406",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"docker-\u5feb\u901f\u53c2\u8003",children:"Docker \u5feb\u901f\u53c2\u8003"})}),"\n",(0,c.jsx)(n.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker run -d -p 80:80 nginx"})}),(0,c.jsx)(n.td,{children:"\u540e\u53f0\u8fd0\u884c\u5bb9\u5668"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker ps -a"})}),(0,c.jsx)(n.td,{children:"\u5217\u51fa\u6240\u6709\u5bb9\u5668"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker images"})}),(0,c.jsx)(n.td,{children:"\u5217\u51fa\u955c\u50cf"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker exec -it <id> bash"})}),(0,c.jsx)(n.td,{children:"\u8fdb\u5165\u5bb9\u5668"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker logs -f <id>"})}),(0,c.jsx)(n.td,{children:"\u67e5\u770b\u65e5\u5fd7"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker stop/rm <id>"})}),(0,c.jsx)(n.td,{children:"\u505c\u6b62/\u5220\u9664\u5bb9\u5668"})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"docker rmi <image>"})}),(0,c.jsx)(n.td,{children:"\u5220\u9664\u955c\u50cf"})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"docker-run-\u5e38\u7528\u53c2\u6570",children:"docker run \u5e38\u7528\u53c2\u6570"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker run -d \\              # \u540e\u53f0\u8fd0\u884c\n  --name myapp \\             # \u5bb9\u5668\u540d\n  -p 8080:80 \\               # \u7aef\u53e3\u6620\u5c04\n  -v /host:/container \\      # \u6302\u8f7d\u5377\n  -e KEY=value \\             # \u73af\u5883\u53d8\u91cf\n  --network mynet \\          # \u7f51\u7edc\n  --restart always \\         # \u91cd\u542f\u7b56\u7565\n  nginx\n"})}),"\n",(0,c.jsx)(n.h2,{id:"dockerfile-\u6307\u4ee4",children:"Dockerfile \u6307\u4ee4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-dockerfile",children:'FROM node:18-alpine         # \u57fa\u7840\u955c\u50cf\nWORKDIR /app               # \u5de5\u4f5c\u76ee\u5f55\nCOPY . .                   # \u590d\u5236\u6587\u4ef6\nRUN npm install            # \u6267\u884c\u547d\u4ee4\nENV PORT=3000              # \u73af\u5883\u53d8\u91cf\nEXPOSE 3000                # \u66b4\u9732\u7aef\u53e3\nCMD ["npm", "start"]       # \u542f\u52a8\u547d\u4ee4\n'})}),"\n",(0,c.jsx)(n.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'version: "3.8"\nservices:\n  app:\n    build: .\n    ports: ["3000:3000"]\n    volumes: [".:/app"]\n    depends_on: [db]\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_PASSWORD: secret\n    volumes: [db-data:/var/lib/postgresql/data]\nvolumes:\n  db-data:\n'})}),"\n",(0,c.jsx)(n.h2,{id:"compose-\u547d\u4ee4",children:"Compose \u547d\u4ee4"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker compose up -d       # \u542f\u52a8\ndocker compose down -v     # \u505c\u6b62\u5e76\u5220\u9664\u5377\ndocker compose logs -f     # \u67e5\u770b\u65e5\u5fd7\ndocker compose ps          # \u67e5\u770b\u72b6\u6001\n"})}),"\n",(0,c.jsx)(n.h2,{id:"\u7cfb\u7edf\u6e05\u7406",children:"\u7cfb\u7edf\u6e05\u7406"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"docker system prune -a     # \u6e05\u7406\u6240\u6709\ndocker volume prune        # \u6e05\u7406\u5377\ndocker network prune       # \u6e05\u7406\u7f51\u7edc\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);