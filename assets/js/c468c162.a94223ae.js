"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[98532],{48885:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>t});var r=i(99378);const a={},l=r.createContext(a);function s(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(l.Provider,{value:n},e.children)}},72908:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"java/best-practices","title":"Java \u6700\u4f73\u5b9e\u8df5","description":"\u672c\u6587\u603b\u7ed3\u4e86 Java \u7f16\u7a0b\u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5e2e\u52a9\u4f60\u5199\u51fa\u66f4\u4f18\u96c5\u3001\u9ad8\u6548\u548c\u53ef\u7ef4\u62a4\u7684\u4ee3\u7801\u3002","source":"@site/docs/java/best-practices.md","sourceDirName":"java","slug":"/java/best-practices","permalink":"/docs/java/best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/java/best-practices.md","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"title":"Java \u6700\u4f73\u5b9e\u8df5"},"sidebar":"java","previous":{"title":"JDK 21 \u65b0\u7279\u6027","permalink":"/docs/java/jdk21-features"},"next":{"title":"Java \u5feb\u901f\u53c2\u8003","permalink":"/docs/java/quick-reference"}}');var a=i(22714),l=i(48885);const s={sidebar_position:20,title:"Java \u6700\u4f73\u5b9e\u8df5"},t="Java \u6700\u4f73\u5b9e\u8df5",c={},d=[{value:"\u547d\u540d\u89c4\u8303",id:"\u547d\u540d\u89c4\u8303",level:2},{value:"\u7c7b\u548c\u63a5\u53e3",id:"\u7c7b\u548c\u63a5\u53e3",level:3},{value:"\u65b9\u6cd5\u548c\u53d8\u91cf",id:"\u65b9\u6cd5\u548c\u53d8\u91cf",level:3},{value:"\u5e38\u91cf",id:"\u5e38\u91cf",level:3},{value:"\u5305\u540d",id:"\u5305\u540d",level:3},{value:"SOLID \u539f\u5219",id:"solid-\u539f\u5219",level:2},{value:"\u5355\u4e00\u804c\u8d23\u539f\u5219\uff08SRP\uff09",id:"\u5355\u4e00\u804c\u8d23\u539f\u5219srp",level:3},{value:"\u5f00\u95ed\u539f\u5219\uff08OCP\uff09",id:"\u5f00\u95ed\u539f\u5219ocp",level:3},{value:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219\uff08LSP\uff09",id:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219lsp",level:3},{value:"\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff08ISP\uff09",id:"\u63a5\u53e3\u9694\u79bb\u539f\u5219isp",level:3},{value:"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\uff08DIP\uff09",id:"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219dip",level:3},{value:"\u5f02\u5e38\u5904\u7406",id:"\u5f02\u5e38\u5904\u7406",level:2},{value:"\u9009\u62e9\u5408\u9002\u7684\u5f02\u5e38\u7c7b\u578b",id:"\u9009\u62e9\u5408\u9002\u7684\u5f02\u5e38\u7c7b\u578b",level:3},{value:"\u4e0d\u8981\u541e\u6389\u5f02\u5e38",id:"\u4e0d\u8981\u541e\u6389\u5f02\u5e38",level:3},{value:"\u4f7f\u7528 try-with-resources",id:"\u4f7f\u7528-try-with-resources",level:3},{value:"\u521b\u5efa\u6709\u610f\u4e49\u7684\u5f02\u5e38",id:"\u521b\u5efa\u6709\u610f\u4e49\u7684\u5f02\u5e38",level:3},{value:"\u5e76\u53d1\u7f16\u7a0b",id:"\u5e76\u53d1\u7f16\u7a0b",level:2},{value:"\u4f18\u5148\u4f7f\u7528\u5e76\u53d1\u5de5\u5177\u7c7b",id:"\u4f18\u5148\u4f7f\u7528\u5e76\u53d1\u5de5\u5177\u7c7b",level:3},{value:"\u4f7f\u7528\u7ebf\u7a0b\u6c60",id:"\u4f7f\u7528\u7ebf\u7a0b\u6c60",level:3},{value:"\u907f\u514d\u6b7b\u9501",id:"\u907f\u514d\u6b7b\u9501",level:3},{value:"\u96c6\u5408\u4f7f\u7528",id:"\u96c6\u5408\u4f7f\u7528",level:2},{value:"\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf",id:"\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf",level:3},{value:"\u4f7f\u7528\u5408\u9002\u7684\u96c6\u5408\u7c7b\u578b",id:"\u4f7f\u7528\u5408\u9002\u7684\u96c6\u5408\u7c7b\u578b",level:3},{value:"\u907f\u514d\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u96c6\u5408",id:"\u907f\u514d\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u96c6\u5408",level:3},{value:"\u8d44\u6e90\u7ba1\u7406",id:"\u8d44\u6e90\u7ba1\u7406",level:2},{value:"\u5173\u95ed\u8d44\u6e90",id:"\u5173\u95ed\u8d44\u6e90",level:3},{value:"\u53ca\u65f6\u91ca\u653e\u5927\u5bf9\u8c61",id:"\u53ca\u65f6\u91ca\u653e\u5927\u5bf9\u8c61",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:2},{value:"\u4f7f\u7528 StringBuilder",id:"\u4f7f\u7528-stringbuilder",level:3},{value:"\u7f13\u5b58\u6602\u8d35\u7684\u8ba1\u7b97",id:"\u7f13\u5b58\u6602\u8d35\u7684\u8ba1\u7b97",level:3},{value:"\u5ef6\u8fdf\u521d\u59cb\u5316",id:"\u5ef6\u8fdf\u521d\u59cb\u5316",level:3},{value:"\u4ee3\u7801\u53ef\u8bfb\u6027",id:"\u4ee3\u7801\u53ef\u8bfb\u6027",level:2},{value:"\u65b9\u6cd5\u4e0d\u8981\u592a\u957f",id:"\u65b9\u6cd5\u4e0d\u8981\u592a\u957f",level:3},{value:"\u907f\u514d\u9b54\u6cd5\u6570\u5b57",id:"\u907f\u514d\u9b54\u6cd5\u6570\u5b57",level:3},{value:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d",id:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d",level:3},{value:"\u8bbe\u8ba1\u6a21\u5f0f\u5e94\u7528",id:"\u8bbe\u8ba1\u6a21\u5f0f\u5e94\u7528",level:2},{value:"\u5355\u4f8b\u6a21\u5f0f",id:"\u5355\u4f8b\u6a21\u5f0f",level:3},{value:"\u5de5\u5382\u6a21\u5f0f",id:"\u5de5\u5382\u6a21\u5f0f",level:3},{value:"\u65e5\u5fd7\u8bb0\u5f55",id:"\u65e5\u5fd7\u8bb0\u5f55",level:2},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"java-\u6700\u4f73\u5b9e\u8df5",children:"Java \u6700\u4f73\u5b9e\u8df5"})}),"\n",(0,a.jsx)(n.p,{children:"\u672c\u6587\u603b\u7ed3\u4e86 Java \u7f16\u7a0b\u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5e2e\u52a9\u4f60\u5199\u51fa\u66f4\u4f18\u96c5\u3001\u9ad8\u6548\u548c\u53ef\u7ef4\u62a4\u7684\u4ee3\u7801\u3002"}),"\n",(0,a.jsx)(n.h2,{id:"\u547d\u540d\u89c4\u8303",children:"\u547d\u540d\u89c4\u8303"}),"\n",(0,a.jsx)(n.h3,{id:"\u7c7b\u548c\u63a5\u53e3",children:"\u7c7b\u548c\u63a5\u53e3"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u4f7f\u7528 PascalCase\uff08\u5927\u9a7c\u5cf0\uff09\npublic class UserService { }\npublic interface PaymentProcessor { }\n\n// \u274c \u907f\u514d\npublic class userservice { }\npublic class User_Service { }\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u65b9\u6cd5\u548c\u53d8\u91cf",children:"\u65b9\u6cd5\u548c\u53d8\u91cf"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u4f7f\u7528 camelCase\uff08\u5c0f\u9a7c\u5cf0\uff09\npublic void calculateTotalPrice() { }\nprivate String userName;\n\n// \u274c \u907f\u514d\npublic void CalculateTotalPrice() { }\nprivate String user_name;\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5e38\u91cf",children:"\u5e38\u91cf"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf\npublic static final int MAX_RETRY_COUNT = 3;\npublic static final String DEFAULT_ENCODING = "UTF-8";\n\n// \u274c \u907f\u514d\npublic static final int maxRetryCount = 3;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u5305\u540d",children:"\u5305\u540d"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5168\u5c0f\u5199\uff0c\u4f7f\u7528\u70b9\u5206\u9694\npackage com.company.project.module;\n\n// \u274c \u907f\u514d\npackage com.Company.Project.Module;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"solid-\u539f\u5219",children:"SOLID \u539f\u5219"}),"\n",(0,a.jsx)(n.h3,{id:"\u5355\u4e00\u804c\u8d23\u539f\u5219srp",children:"\u5355\u4e00\u804c\u8d23\u539f\u5219\uff08SRP\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u6bcf\u4e2a\u7c7b\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a\u6539\u53d8\u7684\u7406\u7531\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u8fdd\u53cd SRP\uff1a\u7c7b\u627f\u62c5\u592a\u591a\u804c\u8d23\npublic class User {\n    private String name;\n    private String email;\n\n    public void save() {\n        // \u4fdd\u5b58\u5230\u6570\u636e\u5e93\n    }\n\n    public void sendEmail() {\n        // \u53d1\u9001\u90ae\u4ef6\n    }\n\n    public void generateReport() {\n        // \u751f\u6210\u62a5\u544a\n    }\n}\n\n// \u2705 \u9075\u5b88 SRP\uff1a\u804c\u8d23\u5206\u79bb\npublic class User {\n    private String name;\n    private String email;\n    // getter/setter\n}\n\npublic class UserRepository {\n    public void save(User user) {\n        // \u4fdd\u5b58\u5230\u6570\u636e\u5e93\n    }\n}\n\npublic class EmailService {\n    public void sendEmail(User user) {\n        // \u53d1\u9001\u90ae\u4ef6\n    }\n}\n\npublic class ReportGenerator {\n    public void generateUserReport(User user) {\n        // \u751f\u6210\u62a5\u544a\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5f00\u95ed\u539f\u5219ocp",children:"\u5f00\u95ed\u539f\u5219\uff08OCP\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5173\u95ed\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u274c \u8fdd\u53cd OCP\uff1a\u6dfb\u52a0\u65b0\u7c7b\u578b\u9700\u8981\u4fee\u6539\u73b0\u6709\u4ee3\u7801\npublic class DiscountCalculator {\n    public double calculate(String type, double price) {\n        if (type.equals("VIP")) {\n            return price * 0.8;\n        } else if (type.equals("REGULAR")) {\n            return price * 0.9;\n        }\n        return price;\n    }\n}\n\n// \u2705 \u9075\u5b88 OCP\uff1a\u4f7f\u7528\u7b56\u7565\u6a21\u5f0f\npublic interface DiscountStrategy {\n    double calculate(double price);\n}\n\npublic class VipDiscount implements DiscountStrategy {\n    public double calculate(double price) {\n        return price * 0.8;\n    }\n}\n\npublic class RegularDiscount implements DiscountStrategy {\n    public double calculate(double price) {\n        return price * 0.9;\n    }\n}\n\npublic class DiscountCalculator {\n    private DiscountStrategy strategy;\n\n    public DiscountCalculator(DiscountStrategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public double calculate(double price) {\n        return strategy.calculate(price);\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219lsp",children:"\u91cc\u6c0f\u66ff\u6362\u539f\u5219\uff08LSP\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u5b50\u7c7b\u5e94\u8be5\u53ef\u4ee5\u66ff\u6362\u5176\u7236\u7c7b\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u9075\u5b88 LSP\npublic class Rectangle {\n    protected int width;\n    protected int height;\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n\n    public int getArea() {\n        return width * height;\n    }\n}\n\n// \u274c \u8fdd\u53cd LSP\uff1a\u6b63\u65b9\u5f62\u4e0d\u80fd\u7b80\u5355\u7ee7\u627f\u77e9\u5f62\npublic class Square extends Rectangle {\n    @Override\n    public void setWidth(int width) {\n        this.width = width;\n        this.height = width;  // \u7834\u574f\u4e86\u7236\u7c7b\u7684\u884c\u4e3a\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u63a5\u53e3\u9694\u79bb\u539f\u5219isp",children:"\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff08ISP\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u4e0d\u5e94\u5f3a\u8feb\u5ba2\u6237\u7aef\u4f9d\u8d56\u5b83\u4eec\u4e0d\u4f7f\u7528\u7684\u65b9\u6cd5\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u8fdd\u53cd ISP\uff1a\u63a5\u53e3\u8fc7\u5927\npublic interface Worker {\n    void work();\n    void eat();\n    void sleep();\n}\n\n// \u2705 \u9075\u5b88 ISP\uff1a\u63a5\u53e3\u7ec6\u5316\npublic interface Workable {\n    void work();\n}\n\npublic interface Eatable {\n    void eat();\n}\n\npublic interface Sleepable {\n    void sleep();\n}\n\npublic class Human implements Workable, Eatable, Sleepable {\n    public void work() { }\n    public void eat() { }\n    public void sleep() { }\n}\n\npublic class Robot implements Workable {\n    public void work() { }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219dip",children:"\u4f9d\u8d56\u5012\u7f6e\u539f\u5219\uff08DIP\uff09"}),"\n",(0,a.jsx)(n.p,{children:"\u4f9d\u8d56\u62bd\u8c61\u800c\u4e0d\u662f\u5177\u4f53\u5b9e\u73b0\u3002"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u8fdd\u53cd DIP\uff1a\u4f9d\u8d56\u5177\u4f53\u7c7b\npublic class UserService {\n    private MySQLDatabase database = new MySQLDatabase();\n\n    public void saveUser(User user) {\n        database.save(user);\n    }\n}\n\n// \u2705 \u9075\u5b88 DIP\uff1a\u4f9d\u8d56\u62bd\u8c61\npublic interface Database {\n    void save(User user);\n}\n\npublic class MySQLDatabase implements Database {\n    public void save(User user) {\n        // MySQL \u5b9e\u73b0\n    }\n}\n\npublic class UserService {\n    private Database database;\n\n    public UserService(Database database) {\n        this.database = database;\n    }\n\n    public void saveUser(User user) {\n        database.save(user);\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5f02\u5e38\u5904\u7406",children:"\u5f02\u5e38\u5904\u7406"}),"\n",(0,a.jsx)(n.h3,{id:"\u9009\u62e9\u5408\u9002\u7684\u5f02\u5e38\u7c7b\u578b",children:"\u9009\u62e9\u5408\u9002\u7684\u5f02\u5e38\u7c7b\u578b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u4f7f\u7528\u5177\u4f53\u7684\u5f02\u5e38\u7c7b\u578b\npublic User findUserById(Long id) throws UserNotFoundException {\n    User user = userRepository.findById(id);\n    if (user == null) {\n        throw new UserNotFoundException("\u7528\u6237\u4e0d\u5b58\u5728: " + id);\n    }\n    return user;\n}\n\n// \u274c \u907f\u514d\u4f7f\u7528\u901a\u7528\u5f02\u5e38\npublic User findUserById(Long id) throws Exception {\n    // ...\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u4e0d\u8981\u541e\u6389\u5f02\u5e38",children:"\u4e0d\u8981\u541e\u6389\u5f02\u5e38"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u274c \u541e\u6389\u5f02\u5e38\ntry {\n    riskyOperation();\n} catch (Exception e) {\n    // \u4ec0\u4e48\u90fd\u4e0d\u505a\n}\n\n// \u2705 \u81f3\u5c11\u8bb0\u5f55\u65e5\u5fd7\ntry {\n    riskyOperation();\n} catch (Exception e) {\n    logger.error("\u64cd\u4f5c\u5931\u8d25", e);\n    throw new RuntimeException("\u64cd\u4f5c\u5931\u8d25", e);\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528-try-with-resources",children:"\u4f7f\u7528 try-with-resources"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u274c \u624b\u52a8\u5173\u95ed\u8d44\u6e90\nBufferedReader reader = null;\ntry {\n    reader = new BufferedReader(new FileReader("file.txt"));\n    return reader.readLine();\n} finally {\n    if (reader != null) {\n        reader.close();\n    }\n}\n\n// \u2705 \u4f7f\u7528 try-with-resources\ntry (BufferedReader reader = new BufferedReader(new FileReader("file.txt"))) {\n    return reader.readLine();\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u521b\u5efa\u6709\u610f\u4e49\u7684\u5f02\u5e38",children:"\u521b\u5efa\u6709\u610f\u4e49\u7684\u5f02\u5e38"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u81ea\u5b9a\u4e49\u5f02\u5e38\u63d0\u4f9b\u8be6\u7ec6\u4fe1\u606f\npublic class UserNotFoundException extends RuntimeException {\n    private final Long userId;\n\n    public UserNotFoundException(Long userId) {\n        super("\u7528\u6237\u4e0d\u5b58\u5728: " + userId);\n        this.userId = userId;\n    }\n\n    public Long getUserId() {\n        return userId;\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u5e76\u53d1\u7f16\u7a0b",children:"\u5e76\u53d1\u7f16\u7a0b"}),"\n",(0,a.jsx)(n.h3,{id:"\u4f18\u5148\u4f7f\u7528\u5e76\u53d1\u5de5\u5177\u7c7b",children:"\u4f18\u5148\u4f7f\u7528\u5e76\u53d1\u5de5\u5177\u7c7b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u5757\nprivate int counter = 0;\npublic synchronized void increment() {\n    counter++;\n}\n\n// \u2705 \u4f7f\u7528 AtomicInteger\nprivate AtomicInteger counter = new AtomicInteger(0);\npublic void increment() {\n    counter.incrementAndGet();\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528\u7ebf\u7a0b\u6c60",children:"\u4f7f\u7528\u7ebf\u7a0b\u6c60"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u6bcf\u6b21\u521b\u5efa\u65b0\u7ebf\u7a0b\nfor (int i = 0; i < 100; i++) {\n    new Thread(() -> doWork()).start();\n}\n\n// \u2705 \u4f7f\u7528\u7ebf\u7a0b\u6c60\nExecutorService executor = Executors.newFixedThreadPool(10);\nfor (int i = 0; i < 100; i++) {\n    executor.submit(() -> doWork());\n}\nexecutor.shutdown();\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u907f\u514d\u6b7b\u9501",children:"\u907f\u514d\u6b7b\u9501"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u6309\u56fa\u5b9a\u987a\u5e8f\u83b7\u53d6\u9501\npublic void transfer(Account from, Account to, double amount) {\n    Account first = from.getId() < to.getId() ? from : to;\n    Account second = from.getId() < to.getId() ? to : from;\n\n    synchronized (first) {\n        synchronized (second) {\n            from.debit(amount);\n            to.credit(amount);\n        }\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u96c6\u5408\u4f7f\u7528",children:"\u96c6\u5408\u4f7f\u7528"}),"\n",(0,a.jsx)(n.h3,{id:"\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf",children:"\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u9884\u77e5\u5927\u5c0f\u65f6\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf\nList<String> list = new ArrayList<>(1000);\nMap<String, Integer> map = new HashMap<>(100);\n\n// \u274c \u4f7f\u7528\u9ed8\u8ba4\u5bb9\u91cf\uff08\u53ef\u80fd\u5bfc\u81f4\u591a\u6b21\u6269\u5bb9\uff09\nList<String> list = new ArrayList<>();\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528\u5408\u9002\u7684\u96c6\u5408\u7c7b\u578b",children:"\u4f7f\u7528\u5408\u9002\u7684\u96c6\u5408\u7c7b\u578b"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u6839\u636e\u9700\u6c42\u9009\u62e9\u96c6\u5408\nList<String> names = new ArrayList<>();  // \u9700\u8981\u6309\u7d22\u5f15\u8bbf\u95ee\nSet<String> uniqueNames = new HashSet<>();  // \u9700\u8981\u53bb\u91cd\nMap<String, User> userMap = new HashMap<>();  // \u9700\u8981\u952e\u503c\u5bf9\n\n// \u2705 \u9700\u8981\u7ebf\u7a0b\u5b89\u5168\u65f6\nList<String> syncList = Collections.synchronizedList(new ArrayList<>());\nMap<String, User> concurrentMap = new ConcurrentHashMap<>();\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u907f\u514d\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u96c6\u5408",children:"\u907f\u514d\u5728\u5faa\u73af\u4e2d\u4fee\u6539\u96c6\u5408"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u274c ConcurrentModificationException\nList<String> list = new ArrayList<>(Arrays.asList("a", "b", "c"));\nfor (String item : list) {\n    if (item.equals("b")) {\n        list.remove(item);\n    }\n}\n\n// \u2705 \u4f7f\u7528 Iterator\nIterator<String> iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    if (iterator.next().equals("b")) {\n        iterator.remove();\n    }\n}\n\n// \u2705 \u4f7f\u7528 removeIf\nlist.removeIf(item -> item.equals("b"));\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u8d44\u6e90\u7ba1\u7406",children:"\u8d44\u6e90\u7ba1\u7406"}),"\n",(0,a.jsx)(n.h3,{id:"\u5173\u95ed\u8d44\u6e90",children:"\u5173\u95ed\u8d44\u6e90"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u4f7f\u7528 try-with-resources\ntry (Connection conn = dataSource.getConnection();\n     Statement stmt = conn.createStatement();\n     ResultSet rs = stmt.executeQuery("SELECT * FROM users")) {\n    while (rs.next()) {\n        // \u5904\u7406\u7ed3\u679c\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u53ca\u65f6\u91ca\u653e\u5927\u5bf9\u8c61",children:"\u53ca\u65f6\u91ca\u653e\u5927\u5bf9\u8c61"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u4e0d\u518d\u4f7f\u7528\u65f6\u7f6e\u4e3a null\npublic void processLargeData() {\n    byte[] largeArray = new byte[1024 * 1024 * 100];  // 100MB\n    // \u5904\u7406\u6570\u636e\n    processData(largeArray);\n    largeArray = null;  // \u5e2e\u52a9 GC\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528-stringbuilder",children:"\u4f7f\u7528 StringBuilder"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u274c \u5728\u5faa\u73af\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\u62fc\u63a5\nString result = "";\nfor (int i = 0; i < 1000; i++) {\n    result += i;\n}\n\n// \u2705 \u4f7f\u7528 StringBuilder\nStringBuilder sb = new StringBuilder();\nfor (int i = 0; i < 1000; i++) {\n    sb.append(i);\n}\nString result = sb.toString();\n'})}),"\n",(0,a.jsx)(n.h3,{id:"\u7f13\u5b58\u6602\u8d35\u7684\u8ba1\u7b97",children:"\u7f13\u5b58\u6602\u8d35\u7684\u8ba1\u7b97"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\npublic class MathCalculator {\n    private Map<Integer, Integer> cache = new HashMap<>();\n\n    public int factorial(int n) {\n        if (cache.containsKey(n)) {\n            return cache.get(n);\n        }\n\n        int result = calculateFactorial(n);\n        cache.put(n, result);\n        return result;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5ef6\u8fdf\u521d\u59cb\u5316",children:"\u5ef6\u8fdf\u521d\u59cb\u5316"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5ef6\u8fdf\u521d\u59cb\u5316\uff08\u53ea\u5728\u9700\u8981\u65f6\u521b\u5efa\uff09\npublic class HeavyObject {\n    private ExpensiveResource resource;\n\n    public ExpensiveResource getResource() {\n        if (resource == null) {\n            resource = new ExpensiveResource();\n        }\n        return resource;\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u4ee3\u7801\u53ef\u8bfb\u6027",children:"\u4ee3\u7801\u53ef\u8bfb\u6027"}),"\n",(0,a.jsx)(n.h3,{id:"\u65b9\u6cd5\u4e0d\u8981\u592a\u957f",children:"\u65b9\u6cd5\u4e0d\u8981\u592a\u957f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u5c06\u957f\u65b9\u6cd5\u62c6\u5206\npublic void processOrder(Order order) {\n    validateOrder(order);\n    calculateTotal(order);\n    applyDiscount(order);\n    saveOrder(order);\n    sendConfirmation(order);\n}\n\nprivate void validateOrder(Order order) { }\nprivate void calculateTotal(Order order) { }\nprivate void applyDiscount(Order order) { }\nprivate void saveOrder(Order order) { }\nprivate void sendConfirmation(Order order) { }\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u907f\u514d\u9b54\u6cd5\u6570\u5b57",children:"\u907f\u514d\u9b54\u6cd5\u6570\u5b57"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u9b54\u6cd5\u6570\u5b57\nif (status == 1) {\n    // ...\n}\n\n// \u2705 \u4f7f\u7528\u5e38\u91cf\npublic static final int STATUS_ACTIVE = 1;\nif (status == STATUS_ACTIVE) {\n    // ...\n}\n\n// \u2705 \u66f4\u597d\uff1a\u4f7f\u7528\u679a\u4e3e\npublic enum Status {\n    ACTIVE, INACTIVE, PENDING\n}\nif (status == Status.ACTIVE) {\n    // ...\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d",children:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u274c \u65e0\u610f\u4e49\u7684\u540d\u79f0\nint d;  // \u5929\u6570\uff1f\nString s;  // \u4ec0\u4e48\u5b57\u7b26\u4e32\uff1f\n\n// \u2705 \u6709\u610f\u4e49\u7684\u540d\u79f0\nint daysUntilExpiration;\nString userName;\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u8bbe\u8ba1\u6a21\u5f0f\u5e94\u7528",children:"\u8bbe\u8ba1\u6a21\u5f0f\u5e94\u7528"}),"\n",(0,a.jsx)(n.h3,{id:"\u5355\u4f8b\u6a21\u5f0f",children:"\u5355\u4f8b\u6a21\u5f0f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// \u2705 \u7ebf\u7a0b\u5b89\u5168\u7684\u5355\u4f8b\npublic class Singleton {\n    private static volatile Singleton instance;\n\n    private Singleton() { }\n\n    public static Singleton getInstance() {\n        if (instance == null) {\n            synchronized (Singleton.class) {\n                if (instance == null) {\n                    instance = new Singleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n\n// \u2705 \u66f4\u597d\uff1a\u4f7f\u7528\u679a\u4e3e\npublic enum Singleton {\n    INSTANCE;\n\n    public void doSomething() { }\n}\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5de5\u5382\u6a21\u5f0f",children:"\u5de5\u5382\u6a21\u5f0f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u5de5\u5382\u65b9\u6cd5\npublic interface Shape {\n    void draw();\n}\n\npublic class ShapeFactory {\n    public static Shape createShape(String type) {\n        switch (type) {\n            case "CIRCLE": return new Circle();\n            case "SQUARE": return new Square();\n            default: throw new IllegalArgumentException("\u672a\u77e5\u7c7b\u578b");\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u65e5\u5fd7\u8bb0\u5f55",children:"\u65e5\u5fd7\u8bb0\u5f55"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u4f7f\u7528\u5408\u9002\u7684\u65e5\u5fd7\u7ea7\u522b\nlogger.debug("\u8c03\u8bd5\u4fe1\u606f: {}", debugInfo);\nlogger.info("\u7528\u6237\u767b\u5f55: {}", username);\nlogger.warn("\u914d\u7f6e\u7f3a\u5931\uff0c\u4f7f\u7528\u9ed8\u8ba4\u503c");\nlogger.error("\u64cd\u4f5c\u5931\u8d25", exception);\n\n// \u2705 \u4f7f\u7528\u53c2\u6570\u5316\u6d88\u606f\uff08\u907f\u514d\u5b57\u7b26\u4e32\u62fc\u63a5\uff09\nlogger.info("\u7528\u6237 {} \u5b8c\u6210\u4e86\u8ba2\u5355 {}", userId, orderId);\n\n// \u274c \u907f\u514d\nlogger.info("\u7528\u6237 " + userId + " \u5b8c\u6210\u4e86\u8ba2\u5355 " + orderId);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// \u2705 \u7f16\u5199\u5355\u5143\u6d4b\u8bd5\n@Test\npublic void testCalculateTotalPrice() {\n    // Arrange\n    Order order = new Order();\n    order.addItem(new Item("\u5546\u54c11", 100));\n    order.addItem(new Item("\u5546\u54c12", 200));\n\n    // Act\n    double total = order.calculateTotal();\n\n    // Assert\n    assertEquals(300, total, 0.01);\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u547d\u540d\u89c4\u8303"}),"\uff1a\u9075\u5faa Java \u547d\u540d\u7ea6\u5b9a"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"SOLID \u539f\u5219"}),"\uff1a\u7f16\u5199\u53ef\u7ef4\u62a4\u7684\u9762\u5411\u5bf9\u8c61\u4ee3\u7801"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u5f02\u5e38\u5904\u7406"}),"\uff1a\u4f7f\u7528\u5408\u9002\u7684\u5f02\u5e38\u7c7b\u578b\uff0c\u4e0d\u8981\u541e\u6389\u5f02\u5e38"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u5e76\u53d1\u7f16\u7a0b"}),"\uff1a\u4f7f\u7528\u5e76\u53d1\u5de5\u5177\u7c7b\uff0c\u907f\u514d\u6b7b\u9501"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u96c6\u5408\u4f7f\u7528"}),"\uff1a\u9009\u62e9\u5408\u9002\u7684\u96c6\u5408\u7c7b\u578b\uff0c\u6307\u5b9a\u521d\u59cb\u5bb9\u91cf"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u8d44\u6e90\u7ba1\u7406"}),"\uff1a\u4f7f\u7528 try-with-resources"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u6027\u80fd\u4f18\u5316"}),"\uff1a\u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\uff0c\u4f7f\u7528 StringBuilder"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u4ee3\u7801\u53ef\u8bfb\u6027"}),"\uff1a\u65b9\u6cd5\u7b80\u77ed\uff0c\u4f7f\u7528\u6709\u610f\u4e49\u7684\u547d\u540d"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u8bbe\u8ba1\u6a21\u5f0f"}),"\uff1a\u5408\u7406\u5e94\u7528\u8bbe\u8ba1\u6a21\u5f0f"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u65e5\u5fd7\u8bb0\u5f55"}),"\uff1a\u4f7f\u7528\u5408\u9002\u7684\u65e5\u5fd7\u7ea7\u522b"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"\u6d4b\u8bd5"}),"\uff1a\u7f16\u5199\u5355\u5143\u6d4b\u8bd5"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"\u9075\u5faa\u8fd9\u4e9b\u6700\u4f73\u5b9e\u8df5\u80fd\u591f\u663e\u8457\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u548c\u53ef\u7ef4\u62a4\u6027\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}}}]);