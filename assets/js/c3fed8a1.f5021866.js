"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[792],{48885:(n,e,d)=>{d.d(e,{R:()=>i,x:()=>l});var r=d(99378);const c={},s=r.createContext(c);function i(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:i(n.components),r.createElement(s.Provider,{value:e},n.children)}},62459:(n,e,d)=>{d.r(e),d.d(e,{assets:()=>t,contentTitle:()=>l,default:()=>x,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"docker/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003","source":"@site/docs/docker/quick-reference.md","sourceDirName":"docker","slug":"/docker/quick-reference","permalink":"/docs/docker/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/docker/quick-reference.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"\u5feb\u901f\u53c2\u8003","description":"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003"},"sidebar":"docker","previous":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/docker/best-practices"},"next":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/docs/docker/faq"}}');var c=d(22714),s=d(48885);const i={sidebar_position:9,title:"\u5feb\u901f\u53c2\u8003",description:"Docker \u547d\u4ee4\u4e0e\u914d\u7f6e\u5feb\u901f\u53c2\u8003"},l="Docker \u5feb\u901f\u53c2\u8003",t={},h=[{value:"\u5bb9\u5668\u547d\u4ee4",id:"\u5bb9\u5668\u547d\u4ee4",level:2},{value:"\u751f\u547d\u5468\u671f\u7ba1\u7406",id:"\u751f\u547d\u5468\u671f\u7ba1\u7406",level:3},{value:"\u5bb9\u5668\u67e5\u770b",id:"\u5bb9\u5668\u67e5\u770b",level:3},{value:"\u5bb9\u5668\u64cd\u4f5c",id:"\u5bb9\u5668\u64cd\u4f5c",level:3},{value:"docker run \u5e38\u7528\u53c2\u6570",id:"docker-run-\u5e38\u7528\u53c2\u6570",level:2},{value:"\u955c\u50cf\u547d\u4ee4",id:"\u955c\u50cf\u547d\u4ee4",level:2},{value:"Dockerfile \u6307\u4ee4",id:"dockerfile-\u6307\u4ee4",level:2},{value:"Docker Compose",id:"docker-compose",level:2},{value:"\u57fa\u7840\u914d\u7f6e",id:"\u57fa\u7840\u914d\u7f6e",level:3},{value:"Compose \u547d\u4ee4",id:"compose-\u547d\u4ee4",level:3},{value:"\u7f51\u7edc\u547d\u4ee4",id:"\u7f51\u7edc\u547d\u4ee4",level:2},{value:"\u5377\u547d\u4ee4",id:"\u5377\u547d\u4ee4",level:2},{value:"\u7cfb\u7edf\u547d\u4ee4",id:"\u7cfb\u7edf\u547d\u4ee4",level:2},{value:"\u5e38\u7528\u7aef\u53e3\u53c2\u8003",id:"\u5e38\u7528\u7aef\u53e3\u53c2\u8003",level:2},{value:"\u5e38\u7528\u7ec4\u5408\u547d\u4ee4",id:"\u5e38\u7528\u7ec4\u5408\u547d\u4ee4",level:2},{value:"\u73af\u5883\u53d8\u91cf\u914d\u7f6e",id:"\u73af\u5883\u53d8\u91cf\u914d\u7f6e",level:2},{value:".env \u6587\u4ef6",id:"env-\u6587\u4ef6",level:3},{value:"\u5728 Compose \u4e2d\u4f7f\u7528",id:"\u5728-compose-\u4e2d\u4f7f\u7528",level:3},{value:"\u5e38\u7528\u955c\u50cf",id:"\u5e38\u7528\u955c\u50cf",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"docker-\u5feb\u901f\u53c2\u8003",children:"Docker \u5feb\u901f\u53c2\u8003"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5bb9\u5668\u547d\u4ee4",children:"\u5bb9\u5668\u547d\u4ee4"}),"\n",(0,c.jsx)(e.h3,{id:"\u751f\u547d\u5468\u671f\u7ba1\u7406",children:"\u751f\u547d\u5468\u671f\u7ba1\u7406"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker run <image>"})}),(0,c.jsx)(e.td,{children:"\u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker run -d <image>"})}),(0,c.jsx)(e.td,{children:"\u540e\u53f0\u8fd0\u884c\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker run -it <image> bash"})}),(0,c.jsx)(e.td,{children:"\u4ea4\u4e92\u5f0f\u8fd0\u884c"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker run --rm <image>"})}),(0,c.jsx)(e.td,{children:"\u9000\u51fa\u540e\u81ea\u52a8\u5220\u9664"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker start <container>"})}),(0,c.jsx)(e.td,{children:"\u542f\u52a8\u5df2\u505c\u6b62\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker stop <container>"})}),(0,c.jsx)(e.td,{children:"\u505c\u6b62\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker restart <container>"})}),(0,c.jsx)(e.td,{children:"\u91cd\u542f\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker kill <container>"})}),(0,c.jsx)(e.td,{children:"\u5f3a\u5236\u505c\u6b62\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker rm <container>"})}),(0,c.jsx)(e.td,{children:"\u5220\u9664\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker rm -f <container>"})}),(0,c.jsx)(e.td,{children:"\u5f3a\u5236\u5220\u9664\u8fd0\u884c\u4e2d\u5bb9\u5668"})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u5bb9\u5668\u67e5\u770b",children:"\u5bb9\u5668\u67e5\u770b"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker ps"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u8fd0\u884c\u4e2d\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker ps -a"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u6240\u6709\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker ps -q"})}),(0,c.jsx)(e.td,{children:"\u53ea\u663e\u793a\u5bb9\u5668 ID"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker logs <container>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u65e5\u5fd7"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker logs -f <container>"})}),(0,c.jsx)(e.td,{children:"\u5b9e\u65f6\u67e5\u770b\u65e5\u5fd7"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker logs --tail 100 <container>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u6700\u8fd1 100 \u884c"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker inspect <container>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker stats"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u8d44\u6e90\u4f7f\u7528"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker top <container>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u8fdb\u7a0b"})]})]})]}),"\n",(0,c.jsx)(e.h3,{id:"\u5bb9\u5668\u64cd\u4f5c",children:"\u5bb9\u5668\u64cd\u4f5c"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker exec -it <container> bash"})}),(0,c.jsx)(e.td,{children:"\u8fdb\u5165\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker exec <container> <cmd>"})}),(0,c.jsx)(e.td,{children:"\u6267\u884c\u547d\u4ee4"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker cp <src> <container>:<dst>"})}),(0,c.jsx)(e.td,{children:"\u590d\u5236\u6587\u4ef6\u5230\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker cp <container>:<src> <dst>"})}),(0,c.jsx)(e.td,{children:"\u4ece\u5bb9\u5668\u590d\u5236\u6587\u4ef6"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker export <container> > file.tar"})}),(0,c.jsx)(e.td,{children:"\u5bfc\u51fa\u5bb9\u5668"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"docker-run-\u5e38\u7528\u53c2\u6570",children:"docker run \u5e38\u7528\u53c2\u6570"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:"docker run -d \\                    # \u540e\u53f0\u8fd0\u884c\n  --name myapp \\                   # \u5bb9\u5668\u540d\n  -p 8080:80 \\                     # \u7aef\u53e3\u6620\u5c04 (\u4e3b\u673a:\u5bb9\u5668)\n  -p 127.0.0.1:3000:3000 \\         # \u7ed1\u5b9a\u5230\u672c\u5730\n  -v /host/path:/container/path \\  # \u7ed1\u5b9a\u6302\u8f7d\n  -v myvolume:/data \\              # \u547d\u540d\u5377\n  -e KEY=value \\                   # \u73af\u5883\u53d8\u91cf\n  --env-file .env \\                # \u4ece\u6587\u4ef6\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\n  --network mynet \\                # \u6307\u5b9a\u7f51\u7edc\n  --restart always \\               # \u91cd\u542f\u7b56\u7565\n  --memory 512m \\                  # \u5185\u5b58\u9650\u5236\n  --cpus 1.0 \\                     # CPU \u9650\u5236\n  --user 1000:1000 \\               # \u6307\u5b9a\u7528\u6237\n  --read-only \\                    # \u53ea\u8bfb\u6587\u4ef6\u7cfb\u7edf\n  --rm \\                           # \u9000\u51fa\u540e\u5220\u9664\n  nginx:alpine\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u955c\u50cf\u547d\u4ee4",children:"\u955c\u50cf\u547d\u4ee4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker images"})}),(0,c.jsx)(e.td,{children:"\u5217\u51fa\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker pull <image>"})}),(0,c.jsx)(e.td,{children:"\u62c9\u53d6\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker push <image>"})}),(0,c.jsx)(e.td,{children:"\u63a8\u9001\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker build -t <tag> ."})}),(0,c.jsx)(e.td,{children:"\u6784\u5efa\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker build -f Dockerfile.prod -t <tag> ."})}),(0,c.jsx)(e.td,{children:"\u6307\u5b9a Dockerfile"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker tag <src> <dst>"})}),(0,c.jsx)(e.td,{children:"\u6dfb\u52a0\u6807\u7b7e"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker rmi <image>"})}),(0,c.jsx)(e.td,{children:"\u5220\u9664\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker image prune"})}),(0,c.jsx)(e.td,{children:"\u6e05\u7406\u60ac\u7a7a\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker image prune -a"})}),(0,c.jsx)(e.td,{children:"\u6e05\u7406\u6240\u6709\u672a\u4f7f\u7528\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker history <image>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u955c\u50cf\u5386\u53f2"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker inspect <image>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u955c\u50cf\u8be6\u60c5"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"dockerfile-\u6307\u4ee4",children:"Dockerfile \u6307\u4ee4"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-dockerfile",children:'# \u57fa\u7840\u955c\u50cf\nFROM node:18-alpine\n\n# \u6807\u7b7e\nLABEL maintainer="dev@example.com"\nLABEL version="1.0"\n\n# \u6784\u5efa\u53c2\u6570\nARG NODE_ENV=production\n\n# \u73af\u5883\u53d8\u91cf\nENV NODE_ENV=${NODE_ENV} \\\n    PORT=3000\n\n# \u5de5\u4f5c\u76ee\u5f55\nWORKDIR /app\n\n# \u590d\u5236\u6587\u4ef6\nCOPY package*.json ./\nCOPY --chown=node:node . .\n\n# \u6267\u884c\u547d\u4ee4\nRUN npm ci --only=production && \\\n    npm cache clean --force\n\n# \u66b4\u9732\u7aef\u53e3\nEXPOSE 3000\n\n# \u521b\u5efa\u7528\u6237\u5e76\u5207\u6362\nRUN addgroup -S app && adduser -S app -G app\nUSER app\n\n# \u6570\u636e\u5377\nVOLUME ["/data"]\n\n# \u5065\u5eb7\u68c0\u67e5\nHEALTHCHECK --interval=30s --timeout=10s --retries=3 \\\n  CMD curl -f http://localhost:3000/health || exit 1\n\n# \u5165\u53e3\u70b9\nENTRYPOINT ["node"]\n\n# \u9ed8\u8ba4\u547d\u4ee4\nCMD ["server.js"]\n'})}),"\n",(0,c.jsx)(e.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,c.jsx)(e.h3,{id:"\u57fa\u7840\u914d\u7f6e",children:"\u57fa\u7840\u914d\u7f6e"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-yaml",children:'version: "3.8"\n\nservices:\n  app:\n    build: .\n    image: myapp:latest\n    container_name: myapp\n    ports:\n      - "3000:3000"\n    volumes:\n      - ./src:/app/src\n      - node_modules:/app/node_modules\n    environment:\n      - NODE_ENV=development\n    env_file:\n      - .env\n    depends_on:\n      db:\n        condition: service_healthy\n    networks:\n      - backend\n    restart: unless-stopped\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:3000/health"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    volumes:\n      - db-data:/var/lib/postgresql/data\n    environment:\n      POSTGRES_PASSWORD: secret\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nvolumes:\n  node_modules:\n  db-data:\n\nnetworks:\n  backend:\n'})}),"\n",(0,c.jsx)(e.h3,{id:"compose-\u547d\u4ee4",children:"Compose \u547d\u4ee4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose up"})}),(0,c.jsx)(e.td,{children:"\u542f\u52a8\u670d\u52a1"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose up -d"})}),(0,c.jsx)(e.td,{children:"\u540e\u53f0\u542f\u52a8"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose up --build"})}),(0,c.jsx)(e.td,{children:"\u91cd\u65b0\u6784\u5efa\u5e76\u542f\u52a8"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose down"})}),(0,c.jsx)(e.td,{children:"\u505c\u6b62\u5e76\u5220\u9664\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose down -v"})}),(0,c.jsx)(e.td,{children:"\u540c\u65f6\u5220\u9664\u5377"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose ps"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u670d\u52a1\u72b6\u6001"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose logs"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u65e5\u5fd7"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose logs -f app"})}),(0,c.jsx)(e.td,{children:"\u5b9e\u65f6\u67e5\u770b\u7279\u5b9a\u670d\u52a1\u65e5\u5fd7"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose exec app bash"})}),(0,c.jsx)(e.td,{children:"\u8fdb\u5165\u5bb9\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose run --rm app npm test"})}),(0,c.jsx)(e.td,{children:"\u8fd0\u884c\u4e00\u6b21\u6027\u547d\u4ee4"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose build"})}),(0,c.jsx)(e.td,{children:"\u6784\u5efa\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose pull"})}),(0,c.jsx)(e.td,{children:"\u62c9\u53d6\u955c\u50cf"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker compose restart"})}),(0,c.jsx)(e.td,{children:"\u91cd\u542f\u670d\u52a1"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u7f51\u7edc\u547d\u4ee4",children:"\u7f51\u7edc\u547d\u4ee4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network ls"})}),(0,c.jsx)(e.td,{children:"\u5217\u51fa\u7f51\u7edc"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network create <name>"})}),(0,c.jsx)(e.td,{children:"\u521b\u5efa\u7f51\u7edc"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network create --driver overlay <name>"})}),(0,c.jsx)(e.td,{children:"\u521b\u5efa overlay \u7f51\u7edc"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network inspect <name>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u7f51\u7edc\u8be6\u60c5"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network connect <network> <container>"})}),(0,c.jsx)(e.td,{children:"\u8fde\u63a5\u5bb9\u5668\u5230\u7f51\u7edc"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network disconnect <network> <container>"})}),(0,c.jsx)(e.td,{children:"\u65ad\u5f00\u7f51\u7edc\u8fde\u63a5"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network rm <name>"})}),(0,c.jsx)(e.td,{children:"\u5220\u9664\u7f51\u7edc"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker network prune"})}),(0,c.jsx)(e.td,{children:"\u6e05\u7406\u672a\u4f7f\u7528\u7f51\u7edc"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u5377\u547d\u4ee4",children:"\u5377\u547d\u4ee4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker volume ls"})}),(0,c.jsx)(e.td,{children:"\u5217\u51fa\u5377"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker volume create <name>"})}),(0,c.jsx)(e.td,{children:"\u521b\u5efa\u5377"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker volume inspect <name>"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u5377\u8be6\u60c5"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker volume rm <name>"})}),(0,c.jsx)(e.td,{children:"\u5220\u9664\u5377"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker volume prune"})}),(0,c.jsx)(e.td,{children:"\u6e05\u7406\u672a\u4f7f\u7528\u5377"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u7cfb\u7edf\u547d\u4ee4",children:"\u7cfb\u7edf\u547d\u4ee4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u547d\u4ee4"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker info"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b Docker \u4fe1\u606f"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker version"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u7248\u672c"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker system df"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u78c1\u76d8\u4f7f\u7528"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker system prune"})}),(0,c.jsx)(e.td,{children:"\u6e05\u7406\u672a\u4f7f\u7528\u8d44\u6e90"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker system prune -a --volumes"})}),(0,c.jsx)(e.td,{children:"\u5f7b\u5e95\u6e05\u7406"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"docker events"})}),(0,c.jsx)(e.td,{children:"\u67e5\u770b\u4e8b\u4ef6\u6d41"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u5e38\u7528\u7aef\u53e3\u53c2\u8003",children:"\u5e38\u7528\u7aef\u53e3\u53c2\u8003"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u670d\u52a1"}),(0,c.jsx)(e.th,{children:"\u9ed8\u8ba4\u7aef\u53e3"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Nginx"}),(0,c.jsx)(e.td,{children:"80, 443"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"MySQL"}),(0,c.jsx)(e.td,{children:"3306"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"PostgreSQL"}),(0,c.jsx)(e.td,{children:"5432"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Redis"}),(0,c.jsx)(e.td,{children:"6379"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"MongoDB"}),(0,c.jsx)(e.td,{children:"27017"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Elasticsearch"}),(0,c.jsx)(e.td,{children:"9200, 9300"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"RabbitMQ"}),(0,c.jsx)(e.td,{children:"5672, 15672"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Kafka"}),(0,c.jsx)(e.td,{children:"9092"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Prometheus"}),(0,c.jsx)(e.td,{children:"9090"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Grafana"}),(0,c.jsx)(e.td,{children:"3000"})]})]})]}),"\n",(0,c.jsx)(e.h2,{id:"\u5e38\u7528\u7ec4\u5408\u547d\u4ee4",children:"\u5e38\u7528\u7ec4\u5408\u547d\u4ee4"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-bash",children:'# \u505c\u6b62\u6240\u6709\u5bb9\u5668\ndocker stop $(docker ps -q)\n\n# \u5220\u9664\u6240\u6709\u5bb9\u5668\ndocker rm $(docker ps -aq)\n\n# \u5220\u9664\u6240\u6709\u955c\u50cf\ndocker rmi $(docker images -q)\n\n# \u5220\u9664\u60ac\u7a7a\u955c\u50cf\ndocker rmi $(docker images -f "dangling=true" -q)\n\n# \u67e5\u770b\u5bb9\u5668 IP\ndocker inspect -f \'{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}\' <container>\n\n# \u8fdb\u5165\u6700\u8fd1\u521b\u5efa\u7684\u5bb9\u5668\ndocker exec -it $(docker ps -lq) bash\n\n# \u5bfc\u51fa\u955c\u50cf\ndocker save myimage:tag | gzip > myimage.tar.gz\n\n# \u5bfc\u5165\u955c\u50cf\ngunzip -c myimage.tar.gz | docker load\n\n# \u67e5\u770b\u5bb9\u5668\u8d44\u6e90\u4f7f\u7528\uff08\u683c\u5f0f\u5316\uff09\ndocker stats --format "table {{.Name}}\\t{{.CPUPerc}}\\t{{.MemUsage}}"\n'})}),"\n",(0,c.jsx)(e.h2,{id:"\u73af\u5883\u53d8\u91cf\u914d\u7f6e",children:"\u73af\u5883\u53d8\u91cf\u914d\u7f6e"}),"\n",(0,c.jsx)(e.h3,{id:"env-\u6587\u4ef6",children:".env \u6587\u4ef6"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-plaintext",children:"# .env\nCOMPOSE_PROJECT_NAME=myproject\nAPP_VERSION=1.0.0\nDB_PASSWORD=secret\nNODE_ENV=production\n"})}),"\n",(0,c.jsx)(e.h3,{id:"\u5728-compose-\u4e2d\u4f7f\u7528",children:"\u5728 Compose \u4e2d\u4f7f\u7528"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-yaml",children:"services:\n  app:\n    image: myapp:${APP_VERSION:-latest}\n    environment:\n      - NODE_ENV=${NODE_ENV}\n      - DB_PASSWORD=${DB_PASSWORD}\n"})}),"\n",(0,c.jsx)(e.h2,{id:"\u5e38\u7528\u955c\u50cf",children:"\u5e38\u7528\u955c\u50cf"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\u955c\u50cf"}),(0,c.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"nginx:alpine"})}),(0,c.jsx)(e.td,{children:"Web \u670d\u52a1\u5668"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"node:18-alpine"})}),(0,c.jsx)(e.td,{children:"Node.js"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"python:3.11-alpine"})}),(0,c.jsx)(e.td,{children:"Python"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"openjdk:17-jdk-alpine"})}),(0,c.jsx)(e.td,{children:"Java"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"golang:1.21-alpine"})}),(0,c.jsx)(e.td,{children:"Go"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"mysql:8.0"})}),(0,c.jsx)(e.td,{children:"MySQL"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"postgres:15"})}),(0,c.jsx)(e.td,{children:"PostgreSQL"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"redis:alpine"})}),(0,c.jsx)(e.td,{children:"Redis"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:(0,c.jsx)(e.code,{children:"mongo:6"})}),(0,c.jsx)(e.td,{children:"MongoDB"})]})]})]})]})}function x(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(o,{...n})}):o(n)}}}]);