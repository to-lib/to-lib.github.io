"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[40554],{237:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"dsa/graph","title":"\u56fe","description":"\u56fe\u7531\u9876\u70b9\u548c\u8fb9\u7ec4\u6210\uff0c\u7528\u4e8e\u8868\u793a\u590d\u6742\u7684\u5173\u7cfb\u7f51\u7edc\u3002","source":"@site/docs/dsa/graph.md","sourceDirName":"dsa","slug":"/dsa/graph","permalink":"/docs/dsa/graph","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/dsa/graph.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"\u56fe"},"sidebar":"dsa","previous":{"title":"\u5806","permalink":"/docs/dsa/heap"},"next":{"title":"\u5e76\u67e5\u96c6","permalink":"/docs/dsa/union-find"}}');var t=i(22714),s=i(48885);const a={sidebar_position:8,title:"\u56fe"},l="\u56fe",d={},o=[{value:"\ud83d\udcd6 \u56fe\u7684\u8868\u793a",id:"-\u56fe\u7684\u8868\u793a",level:2},{value:"\u90bb\u63a5\u77e9\u9635",id:"\u90bb\u63a5\u77e9\u9635",level:3},{value:"\u90bb\u63a5\u8868",id:"\u90bb\u63a5\u8868",level:3},{value:"\ud83d\udd0d \u56fe\u7684\u904d\u5386",id:"-\u56fe\u7684\u904d\u5386",level:2},{value:"DFS \u6df1\u5ea6\u4f18\u5148",id:"dfs-\u6df1\u5ea6\u4f18\u5148",level:3},{value:"BFS \u5e7f\u5ea6\u4f18\u5148",id:"bfs-\u5e7f\u5ea6\u4f18\u5148",level:3},{value:"\ud83c\udfaf \u7ecf\u5178\u7b97\u6cd5",id:"-\u7ecf\u5178\u7b97\u6cd5",level:2},{value:"\u62d3\u6251\u6392\u5e8f",id:"\u62d3\u6251\u6392\u5e8f",level:3},{value:"Dijkstra \u6700\u77ed\u8def\u5f84",id:"dijkstra-\u6700\u77ed\u8def\u5f84",level:3},{value:"\u2705 \u65e0\u6743\u56fe\u6700\u77ed\u8def\uff08BFS\uff09",id:"-\u65e0\u6743\u56fe\u6700\u77ed\u8defbfs",level:2},{value:"\ud83c\udfaf \u5224\u73af",id:"-\u5224\u73af",level:2},{value:"\u65e0\u5411\u56fe\u5224\u73af\uff08DFS\uff09",id:"\u65e0\u5411\u56fe\u5224\u73afdfs",level:3},{value:"\u6709\u5411\u56fe\u5224\u73af\uff08DFS \u989c\u8272\u6807\u8bb0\uff09",id:"\u6709\u5411\u56fe\u5224\u73afdfs-\u989c\u8272\u6807\u8bb0",level:3},{value:"\ud83c\udf13 \u4e8c\u5206\u56fe\u5224\u5b9a\uff08BFS \u67d3\u8272\uff09",id:"-\u4e8c\u5206\u56fe\u5224\u5b9abfs-\u67d3\u8272",level:2},{value:"\ud83c\udf32 \u6700\u5c0f\u751f\u6210\u6811\uff08MST\uff09",id:"-\u6700\u5c0f\u751f\u6210\u6811mst",level:2},{value:"Kruskal\uff08\u6392\u5e8f + \u5e76\u67e5\u96c6\uff09",id:"kruskal\u6392\u5e8f--\u5e76\u67e5\u96c6",level:3},{value:"Prim\uff08\u4f18\u5148\u961f\u5217\uff09",id:"prim\u4f18\u5148\u961f\u5217",level:3}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"\u56fe",children:"\u56fe"})}),"\n",(0,t.jsx)(e.p,{children:"\u56fe\u7531\u9876\u70b9\u548c\u8fb9\u7ec4\u6210\uff0c\u7528\u4e8e\u8868\u793a\u590d\u6742\u7684\u5173\u7cfb\u7f51\u7edc\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"-\u56fe\u7684\u8868\u793a",children:"\ud83d\udcd6 \u56fe\u7684\u8868\u793a"}),"\n",(0,t.jsx)(e.mermaid,{value:"graph LR\n    A((Node 0)) --- B((Node 1))\n    A --- C((Node 2))\n    B --- D((Node 3))\n    C --- D\n    B --- C"}),"\n",(0,t.jsx)(e.h3,{id:"\u90bb\u63a5\u77e9\u9635",children:"\u90bb\u63a5\u77e9\u9635"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"int[][] graph = new int[n][n];  // n \u4e2a\u9876\u70b9\ngraph[i][j] = 1;  // i \u5230 j \u6709\u8fb9\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u90bb\u63a5\u8868",children:"\u90bb\u63a5\u8868"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"List<List<Integer>> graph = new ArrayList<>();\nfor (int i = 0; i < n; i++) graph.add(new ArrayList<>());\ngraph.get(0).add(1);  // 0 -> 1\n"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u56fe\u7684\u904d\u5386",children:"\ud83d\udd0d \u56fe\u7684\u904d\u5386"}),"\n",(0,t.jsx)(e.h3,{id:"dfs-\u6df1\u5ea6\u4f18\u5148",children:"DFS \u6df1\u5ea6\u4f18\u5148"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public void dfs(List<List<Integer>> graph, int node, boolean[] visited) {\n    visited[node] = true;\n    System.out.print(node + " ");\n    for (int neighbor : graph.get(node)) {\n        if (!visited[neighbor]) dfs(graph, neighbor, visited);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"bfs-\u5e7f\u5ea6\u4f18\u5148",children:"BFS \u5e7f\u5ea6\u4f18\u5148"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:'public void bfs(List<List<Integer>> graph, int start) {\n    boolean[] visited = new boolean[graph.size()];\n    Queue<Integer> queue = new LinkedList<>();\n    queue.offer(start);\n    visited[start] = true;\n\n    while (!queue.isEmpty()) {\n        int node = queue.poll();\n        System.out.print(node + " ");\n        for (int neighbor : graph.get(node)) {\n            if (!visited[neighbor]) {\n                visited[neighbor] = true;\n                queue.offer(neighbor);\n            }\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"-\u7ecf\u5178\u7b97\u6cd5",children:"\ud83c\udfaf \u7ecf\u5178\u7b97\u6cd5"}),"\n",(0,t.jsx)(e.h3,{id:"\u62d3\u6251\u6392\u5e8f",children:"\u62d3\u6251\u6392\u5e8f"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public int[] topologicalSort(int n, int[][] edges) {\n    List<List<Integer>> graph = new ArrayList<>();\n    int[] inDegree = new int[n];\n    for (int i = 0; i < n; i++) graph.add(new ArrayList<>());\n\n    for (int[] e : edges) {\n        graph.get(e[0]).add(e[1]);\n        inDegree[e[1]]++;\n    }\n\n    Queue<Integer> queue = new LinkedList<>();\n    for (int i = 0; i < n; i++) {\n        if (inDegree[i] == 0) queue.offer(i);\n    }\n\n    int[] result = new int[n];\n    int idx = 0;\n    while (!queue.isEmpty()) {\n        int node = queue.poll();\n        result[idx++] = node;\n        for (int neighbor : graph.get(node)) {\n            if (--inDegree[neighbor] == 0) queue.offer(neighbor);\n        }\n    }\n    return idx == n ? result : new int[]{};\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"dijkstra-\u6700\u77ed\u8def\u5f84",children:"Dijkstra \u6700\u77ed\u8def\u5f84"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public int[] dijkstra(int[][] graph, int start) {\n    int n = graph.length;\n    int[] dist = new int[n];\n    Arrays.fill(dist, Integer.MAX_VALUE);\n    dist[start] = 0;\n\n    PriorityQueue<int[]> pq = new PriorityQueue<>((a, b) -> a[1] - b[1]);\n    pq.offer(new int[]{start, 0});\n\n    while (!pq.isEmpty()) {\n        int[] curr = pq.poll();\n        int node = curr[0], d = curr[1];\n        if (d > dist[node]) continue;\n\n        for (int i = 0; i < n; i++) {\n            if (graph[node][i] > 0 && dist[node] + graph[node][i] < dist[i]) {\n                dist[i] = dist[node] + graph[node][i];\n                pq.offer(new int[]{i, dist[i]});\n            }\n        }\n    }\n    return dist;\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u65e0\u6743\u56fe\u6700\u77ed\u8defbfs",children:"\u2705 \u65e0\u6743\u56fe\u6700\u77ed\u8def\uff08BFS\uff09"}),"\n",(0,t.jsxs)(e.p,{children:["\u5982\u679c\u56fe\u662f",(0,t.jsx)(e.strong,{children:"\u65e0\u6743\u56fe"}),"\uff08\u6216\u6240\u6709\u8fb9\u6743\u90fd\u76f8\u540c\uff09\uff0c\u4ece\u8d77\u70b9\u5230\u5176\u4ed6\u70b9\u7684\u6700\u77ed\u8def\u53ef\u4ee5\u7528 BFS \u4e00\u6b21\u5b8c\u6210\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public int[] shortestPathUnweighted(List<List<Integer>> graph, int start) {\n    int n = graph.size();\n    int[] dist = new int[n];\n    Arrays.fill(dist, -1);\n    dist[start] = 0;\n\n    Queue<Integer> q = new LinkedList<>();\n    q.offer(start);\n    while (!q.isEmpty()) {\n        int u = q.poll();\n        for (int v : graph.get(u)) {\n            if (dist[v] != -1) continue;\n            dist[v] = dist[u] + 1;\n            q.offer(v);\n        }\n    }\n    return dist;\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u5224\u73af",children:"\ud83c\udfaf \u5224\u73af"}),"\n",(0,t.jsx)(e.h3,{id:"\u65e0\u5411\u56fe\u5224\u73afdfs",children:"\u65e0\u5411\u56fe\u5224\u73af\uff08DFS\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public boolean hasCycleUndirected(List<List<Integer>> graph) {\n    int n = graph.size();\n    boolean[] vis = new boolean[n];\n    for (int i = 0; i < n; i++) {\n        if (!vis[i] && dfsCycleUndirected(graph, i, -1, vis)) return true;\n    }\n    return false;\n}\n\nprivate boolean dfsCycleUndirected(List<List<Integer>> graph, int u, int parent, boolean[] vis) {\n    vis[u] = true;\n    for (int v : graph.get(u)) {\n        if (!vis[v]) {\n            if (dfsCycleUndirected(graph, v, u, vis)) return true;\n        } else if (v != parent) {\n            return true;\n        }\n    }\n    return false;\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u6709\u5411\u56fe\u5224\u73afdfs-\u989c\u8272\u6807\u8bb0",children:"\u6709\u5411\u56fe\u5224\u73af\uff08DFS \u989c\u8272\u6807\u8bb0\uff09"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"0=\u672a\u8bbf\u95ee, 1=\u8bbf\u95ee\u4e2d, 2=\u5df2\u5b8c\u6210"}),"\uff0c\u5f53 DFS \u9047\u5230\u8bbf\u95ee\u4e2d\u7684\u70b9\u8868\u793a\u5b58\u5728\u56de\u8fb9 => \u6709\u73af\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public boolean hasCycleDirected(List<List<Integer>> graph) {\n    int n = graph.size();\n    int[] color = new int[n];\n    for (int i = 0; i < n; i++) {\n        if (color[i] == 0 && dfsCycleDirected(graph, i, color)) return true;\n    }\n    return false;\n}\n\nprivate boolean dfsCycleDirected(List<List<Integer>> graph, int u, int[] color) {\n    color[u] = 1;\n    for (int v : graph.get(u)) {\n        if (color[v] == 1) return true;\n        if (color[v] == 0 && dfsCycleDirected(graph, v, color)) return true;\n    }\n    color[u] = 2;\n    return false;\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u4e8c\u5206\u56fe\u5224\u5b9abfs-\u67d3\u8272",children:"\ud83c\udf13 \u4e8c\u5206\u56fe\u5224\u5b9a\uff08BFS \u67d3\u8272\uff09"}),"\n",(0,t.jsx)(e.p,{children:"\u4e8c\u5206\u56fe\uff1a\u53ef\u4ee5\u628a\u70b9\u5206\u6210\u4e24\u7ec4\uff0c\u4f7f\u5f97\u6bcf\u6761\u8fb9\u8fde\u63a5\u7684\u90fd\u662f\u4e0d\u540c\u7ec4\u3002"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public boolean isBipartite(List<List<Integer>> graph) {\n    int n = graph.size();\n    int[] color = new int[n];\n    Arrays.fill(color, -1);\n\n    Queue<Integer> q = new LinkedList<>();\n    for (int i = 0; i < n; i++) {\n        if (color[i] != -1) continue;\n        color[i] = 0;\n        q.offer(i);\n        while (!q.isEmpty()) {\n            int u = q.poll();\n            for (int v : graph.get(u)) {\n                if (color[v] == -1) {\n                    color[v] = color[u] ^ 1;\n                    q.offer(v);\n                } else if (color[v] == color[u]) {\n                    return false;\n                }\n            }\n        }\n    }\n    return true;\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"-\u6700\u5c0f\u751f\u6210\u6811mst",children:"\ud83c\udf32 \u6700\u5c0f\u751f\u6210\u6811\uff08MST\uff09"}),"\n",(0,t.jsxs)(e.p,{children:["\u6700\u5c0f\u751f\u6210\u6811\u53ea\u9002\u7528\u4e8e",(0,t.jsx)(e.strong,{children:"\u8fde\u901a\u65e0\u5411\u5e26\u6743\u56fe"}),"\u3002"]}),"\n",(0,t.jsx)(e.h3,{id:"kruskal\u6392\u5e8f--\u5e76\u67e5\u96c6",children:"Kruskal\uff08\u6392\u5e8f + \u5e76\u67e5\u96c6\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public int kruskal(int n, int[][] edges) {\n    Arrays.sort(edges, (a, b) -> a[2] - b[2]);\n    UnionFind uf = new UnionFind(n);\n    int total = 0;\n    for (int[] e : edges) {\n        int u = e[0], v = e[1], w = e[2];\n        if (uf.union(u, v)) total += w;\n    }\n    return total;\n}\n\nstatic class UnionFind {\n    private final int[] parent;\n    private final int[] size;\n\n    UnionFind(int n) {\n        parent = new int[n];\n        size = new int[n];\n        for (int i = 0; i < n; i++) {\n            parent[i] = i;\n            size[i] = 1;\n        }\n    }\n\n    int find(int x) {\n        if (parent[x] != x) parent[x] = find(parent[x]);\n        return parent[x];\n    }\n\n    boolean union(int a, int b) {\n        int ra = find(a), rb = find(b);\n        if (ra == rb) return false;\n        if (size[ra] < size[rb]) {\n            int tmp = ra;\n            ra = rb;\n            rb = tmp;\n        }\n        parent[rb] = ra;\n        size[ra] += size[rb];\n        return true;\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"prim\u4f18\u5148\u961f\u5217",children:"Prim\uff08\u4f18\u5148\u961f\u5217\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-java",children:"public int prim(int n, List<List<int[]>> graph) {\n    boolean[] vis = new boolean[n];\n    PriorityQueue<int[]> pq = new PriorityQueue<>((a, b) -> a[1] - b[1]);\n\n    pq.offer(new int[] {0, 0});\n    int total = 0;\n    int picked = 0;\n    while (!pq.isEmpty() && picked < n) {\n        int[] cur = pq.poll();\n        int u = cur[0], w = cur[1];\n        if (vis[u]) continue;\n        vis[u] = true;\n        total += w;\n        picked++;\n\n        for (int[] e : graph.get(u)) {\n            int v = e[0], w2 = e[1];\n            if (!vis[v]) pq.offer(new int[] {v, w2});\n        }\n    }\n    return picked == n ? total : -1;\n}\n"})})]})}function c(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}},48885:(n,e,i)=>{i.d(e,{R:()=>a,x:()=>l});var r=i(99378);const t={},s=r.createContext(t);function a(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);