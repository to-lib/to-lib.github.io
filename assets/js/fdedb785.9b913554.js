"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[5166],{17710:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"cpp/preprocessor","title":"\u9884\u5904\u7406\u5668","description":"\u9884\u5904\u7406\u5668\u5728\u7f16\u8bd1\u524d\u5904\u7406\u6e90\u4ee3\u7801\uff0c\u7528\u4e8e\u5b8f\u5b9a\u4e49\u3001\u6761\u4ef6\u7f16\u8bd1\u7b49\u3002","source":"@site/docs/cpp/preprocessor.md","sourceDirName":"cpp","slug":"/cpp/preprocessor","permalink":"/docs/cpp/preprocessor","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/preprocessor.md","tags":[],"version":"current","sidebarPosition":19.5,"frontMatter":{"sidebar_position":19.5,"title":"\u9884\u5904\u7406\u5668"},"sidebar":"cpp","previous":{"title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b","permalink":"/docs/cpp/multithreading"},"next":{"title":"\u5f02\u5e38\u5904\u7406","permalink":"/docs/cpp/exception-handling"}}');var d=i(22714),l=i(48885);const r={sidebar_position:19.5,title:"\u9884\u5904\u7406\u5668"},c="C++ \u9884\u5904\u7406\u5668",t={},o=[{value:"\ud83c\udfaf \u5b8f\u5b9a\u4e49",id:"-\u5b8f\u5b9a\u4e49",level:2},{value:"\u5bf9\u8c61\u5b8f",id:"\u5bf9\u8c61\u5b8f",level:3},{value:"\u51fd\u6570\u5b8f",id:"\u51fd\u6570\u5b8f",level:3},{value:"\u5b8f\u8fd0\u7b97\u7b26",id:"\u5b8f\u8fd0\u7b97\u7b26",level:3},{value:"\ud83d\udd00 \u6761\u4ef6\u7f16\u8bd1",id:"-\u6761\u4ef6\u7f16\u8bd1",level:2},{value:"\ud83d\udce6 \u5934\u6587\u4ef6\u4fdd\u62a4",id:"-\u5934\u6587\u4ef6\u4fdd\u62a4",level:2},{value:"\ud83d\udccb \u9884\u5b9a\u4e49\u5b8f",id:"-\u9884\u5b9a\u4e49\u5b8f",level:2},{value:"\ud83d\udd27 \u5e38\u7528\u6307\u4ee4",id:"-\u5e38\u7528\u6307\u4ee4",level:2},{value:"\u26a0\ufe0f \u73b0\u4ee3 C++ \u66ff\u4ee3",id:"\ufe0f-\u73b0\u4ee3-c-\u66ff\u4ee3",level:2},{value:"\u26a1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"c-\u9884\u5904\u7406\u5668",children:"C++ \u9884\u5904\u7406\u5668"})}),"\n",(0,d.jsx)(e.p,{children:"\u9884\u5904\u7406\u5668\u5728\u7f16\u8bd1\u524d\u5904\u7406\u6e90\u4ee3\u7801\uff0c\u7528\u4e8e\u5b8f\u5b9a\u4e49\u3001\u6761\u4ef6\u7f16\u8bd1\u7b49\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"-\u5b8f\u5b9a\u4e49",children:"\ud83c\udfaf \u5b8f\u5b9a\u4e49"}),"\n",(0,d.jsx)(e.h3,{id:"\u5bf9\u8c61\u5b8f",children:"\u5bf9\u8c61\u5b8f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#define PI 3.14159\n#define MAX_SIZE 100\n#define VERSION "1.0.0"\n\ndouble area = PI * r * r;\n'})}),"\n",(0,d.jsx)(e.h3,{id:"\u51fd\u6570\u5b8f",children:"\u51fd\u6570\u5b8f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#define SQUARE(x) ((x) * (x))\n#define MAX(a, b) ((a) > (b) ? (a) : (b))\n#define PRINT_VAR(x) std::cout << #x << " = " << (x) << std::endl\n\nint result = SQUARE(5);  // 25\nPRINT_VAR(result);       // result = 25\n'})}),"\n",(0,d.jsx)(e.h3,{id:"\u5b8f\u8fd0\u7b97\u7b26",children:"\u5b8f\u8fd0\u7b97\u7b26"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#define CONCAT(a, b) a##b      // \u8fde\u63a5\n#define STRINGIFY(x) #x        // \u8f6c\u5b57\u7b26\u4e32\n\nint xy = 10;\nstd::cout << CONCAT(x, y);     // \u8f93\u51fa 10\nstd::cout << STRINGIFY(hello); // \u8f93\u51fa "hello"\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u6761\u4ef6\u7f16\u8bd1",children:"\ud83d\udd00 \u6761\u4ef6\u7f16\u8bd1"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#define DEBUG\n\n#ifdef DEBUG\n    std::cout << "Debug mode" << std::endl;\n#endif\n\n#ifndef RELEASE\n    // \u975e Release \u6a21\u5f0f\u4ee3\u7801\n#endif\n\n#if defined(WIN32) || defined(_WIN32)\n    // Windows \u4ee3\u7801\n#elif defined(__linux__)\n    // Linux \u4ee3\u7801\n#elif defined(__APPLE__)\n    // macOS \u4ee3\u7801\n#endif\n\n// \u7f16\u8bd1\u5668\u7248\u672c\u68c0\u67e5\n#if __cplusplus >= 201703L\n    // C++17 \u6216\u66f4\u9ad8\n#endif\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u5934\u6587\u4ef6\u4fdd\u62a4",children:"\ud83d\udce6 \u5934\u6587\u4ef6\u4fdd\u62a4"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:"// \u4f20\u7edf\u65b9\u5f0f\n#ifndef MY_HEADER_H\n#define MY_HEADER_H\n\n// \u5934\u6587\u4ef6\u5185\u5bb9\n\n#endif\n\n// \u73b0\u4ee3\u65b9\u5f0f (\u5927\u591a\u6570\u7f16\u8bd1\u5668\u652f\u6301)\n#pragma once\n\n// \u5934\u6587\u4ef6\u5185\u5bb9\n"})}),"\n",(0,d.jsx)(e.h2,{id:"-\u9884\u5b9a\u4e49\u5b8f",children:"\ud83d\udccb \u9884\u5b9a\u4e49\u5b8f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:"std::cout << __FILE__ << std::endl;     // \u5f53\u524d\u6587\u4ef6\u540d\nstd::cout << __LINE__ << std::endl;     // \u5f53\u524d\u884c\u53f7\nstd::cout << __func__ << std::endl;     // \u5f53\u524d\u51fd\u6570\u540d\nstd::cout << __DATE__ << std::endl;     // \u7f16\u8bd1\u65e5\u671f\nstd::cout << __TIME__ << std::endl;     // \u7f16\u8bd1\u65f6\u95f4\nstd::cout << __cplusplus << std::endl;  // C++ \u6807\u51c6\u7248\u672c\n"})}),"\n",(0,d.jsx)(e.h2,{id:"-\u5e38\u7528\u6307\u4ee4",children:"\ud83d\udd27 \u5e38\u7528\u6307\u4ee4"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>      // \u7cfb\u7edf\u5934\u6587\u4ef6\n#include "myheader.h"    // \u7528\u6237\u5934\u6587\u4ef6\n\n#pragma once             // \u9632\u6b62\u91cd\u590d\u5305\u542b\n#pragma warning(disable: 4996)  // MSVC \u7981\u7528\u8b66\u544a\n\n#error "Unsupported platform"  // \u7f16\u8bd1\u9519\u8bef\n#warning "Deprecated feature"  // \u7f16\u8bd1\u8b66\u544a (GCC/Clang)\n\n#line 100 "newfile.cpp"  // \u4fee\u6539\u884c\u53f7\u548c\u6587\u4ef6\u540d\n'})}),"\n",(0,d.jsx)(e.h2,{id:"\ufe0f-\u73b0\u4ee3-c-\u66ff\u4ee3",children:"\u26a0\ufe0f \u73b0\u4ee3 C++ \u66ff\u4ee3"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:"// \u274c \u5b8f\u5e38\u91cf\n#define MAX_SIZE 100\n\n// \u2705 \u4f7f\u7528 constexpr\nconstexpr int MAX_SIZE = 100;\n\n// \u274c \u5b8f\u51fd\u6570\n#define SQUARE(x) ((x) * (x))\n\n// \u2705 \u4f7f\u7528\u5185\u8054\u51fd\u6570\u6216\u6a21\u677f\ntemplate<typename T>\nconstexpr T square(T x) { return x * x; }\n\n// \u274c \u7c7b\u578b\u522b\u540d\u5b8f\n#define UINT unsigned int\n\n// \u2705 \u4f7f\u7528 using\nusing UINT = unsigned int;\n"})}),"\n",(0,d.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\u26a1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u51cf\u5c11\u5b8f\u7684\u4f7f\u7528"})," - \u4f18\u5148\u7528 constexpr\u3001inline\u3001template"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u5b8f\u540d\u5168\u5927\u5199"})," - \u533a\u5206\u5b8f\u548c\u666e\u901a\u4ee3\u7801"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u4f7f\u7528\u62ec\u53f7"})," - \u5b8f\u53c2\u6570\u548c\u6574\u4f53\u90fd\u52a0\u62ec\u53f7"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u4f7f\u7528 #pragma once"})," - \u7b80\u6d01\u7684\u5934\u6587\u4ef6\u4fdd\u62a4"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u6761\u4ef6\u7f16\u8bd1\u7528\u4e8e\u5e73\u53f0\u517c\u5bb9"})," - \u4e0d\u7528\u4e8e\u666e\u901a\u903b\u8f91\u5206\u652f"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(a,{...n})}):a(n)}},48885:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>c});var s=i(99378);const d={},l=s.createContext(d);function r(n){const e=s.useContext(l);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:r(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);