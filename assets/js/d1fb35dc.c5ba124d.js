"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[11765],{48885:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>l});var s=t(99378);const a={},r=s.createContext(a);function i(n){const e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:i(n.components),s.createElement(r.Provider,{value:e},n.children)}},88178:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cpp/templates","title":"\u6a21\u677f\u7f16\u7a0b","description":"\u6a21\u677f\u662f C++ \u6cdb\u578b\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u5141\u8bb8\u7f16\u5199\u7c7b\u578b\u65e0\u5173\u7684\u4ee3\u7801\u3002","source":"@site/docs/cpp/templates.md","sourceDirName":"cpp","slug":"/cpp/templates","permalink":"/docs/cpp/templates","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/templates.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13,"title":"\u6a21\u677f\u7f16\u7a0b"},"sidebar":"cpp","previous":{"title":"\u62bd\u8c61\u7c7b\u548c\u63a5\u53e3","permalink":"/docs/cpp/abstract-interface"},"next":{"title":"\u6807\u51c6\u6a21\u677f\u5e93 (STL)","permalink":"/docs/cpp/stl"}}');var a=t(22714),r=t(48885);const i={sidebar_position:13,title:"\u6a21\u677f\u7f16\u7a0b"},l="C++ \u6a21\u677f\u7f16\u7a0b",c={},d=[{value:"\ud83c\udfaf \u51fd\u6570\u6a21\u677f",id:"-\u51fd\u6570\u6a21\u677f",level:2},{value:"\ud83d\udce6 \u7c7b\u6a21\u677f",id:"-\u7c7b\u6a21\u677f",level:2},{value:"\ud83d\udd27 \u6a21\u677f\u7279\u5316",id:"-\u6a21\u677f\u7279\u5316",level:2},{value:"\ud83d\udccb \u975e\u7c7b\u578b\u6a21\u677f\u53c2\u6570",id:"-\u975e\u7c7b\u578b\u6a21\u677f\u53c2\u6570",level:2},{value:"\ud83d\udd04 \u53ef\u53d8\u53c2\u6570\u6a21\u677f",id:"-\u53ef\u53d8\u53c2\u6570\u6a21\u677f",level:2},{value:"\u26a1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"c-\u6a21\u677f\u7f16\u7a0b",children:"C++ \u6a21\u677f\u7f16\u7a0b"})}),"\n",(0,a.jsx)(e.p,{children:"\u6a21\u677f\u662f C++ \u6cdb\u578b\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u5141\u8bb8\u7f16\u5199\u7c7b\u578b\u65e0\u5173\u7684\u4ee3\u7801\u3002"}),"\n",(0,a.jsx)(e.h2,{id:"-\u51fd\u6570\u6a21\u677f",children:"\ud83c\udfaf \u51fd\u6570\u6a21\u677f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:"#include <iostream>\n\n// \u51fd\u6570\u6a21\u677f\ntemplate<typename T>\nT maximum(T a, T b) {\n    return (a > b) ? a : b;\n}\n\n// \u591a\u7c7b\u578b\u53c2\u6570\ntemplate<typename T, typename U>\nauto add(T a, U b) -> decltype(a + b) {\n    return a + b;\n}\n\n// C++14 \u8fd4\u56de\u7c7b\u578b\u63a8\u5bfc\ntemplate<typename T, typename U>\nauto multiply(T a, U b) {\n    return a * b;\n}\n\nint main() {\n    std::cout << maximum(10, 20) << std::endl;      // int\n    std::cout << maximum(3.14, 2.71) << std::endl;  // double\n    std::cout << maximum<double>(10, 3.14) << std::endl;  // \u663e\u5f0f\u6307\u5b9a\n\n    std::cout << add(1, 2.5) << std::endl;  // 3.5\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"-\u7c7b\u6a21\u677f",children:"\ud83d\udce6 \u7c7b\u6a21\u677f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:'template<typename T>\nclass Stack {\nprivate:\n    std::vector<T> data;\n\npublic:\n    void push(const T& value) {\n        data.push_back(value);\n    }\n\n    T pop() {\n        if (data.empty()) throw std::runtime_error("Empty");\n        T value = data.back();\n        data.pop_back();\n        return value;\n    }\n\n    bool empty() const { return data.empty(); }\n    size_t size() const { return data.size(); }\n};\n\nint main() {\n    Stack<int> intStack;\n    intStack.push(1);\n    intStack.push(2);\n\n    Stack<std::string> strStack;\n    strStack.push("Hello");\n\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"-\u6a21\u677f\u7279\u5316",children:"\ud83d\udd27 \u6a21\u677f\u7279\u5316"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:'// \u901a\u7528\u6a21\u677f\ntemplate<typename T>\nclass Printer {\npublic:\n    void print(const T& value) {\n        std::cout << value << std::endl;\n    }\n};\n\n// \u5b8c\u5168\u7279\u5316\ntemplate<>\nclass Printer<bool> {\npublic:\n    void print(bool value) {\n        std::cout << (value ? "true" : "false") << std::endl;\n    }\n};\n\n// \u504f\u7279\u5316\uff08\u6307\u9488\u7c7b\u578b\uff09\ntemplate<typename T>\nclass Printer<T*> {\npublic:\n    void print(T* value) {\n        if (value) std::cout << *value << std::endl;\n        else std::cout << "nullptr" << std::endl;\n    }\n};\n'})}),"\n",(0,a.jsx)(e.h2,{id:"-\u975e\u7c7b\u578b\u6a21\u677f\u53c2\u6570",children:"\ud83d\udccb \u975e\u7c7b\u578b\u6a21\u677f\u53c2\u6570"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:"template<typename T, size_t N>\nclass Array {\nprivate:\n    T data[N];\n\npublic:\n    T& operator[](size_t i) { return data[i]; }\n    constexpr size_t size() const { return N; }\n};\n\nint main() {\n    Array<int, 5> arr;\n    arr[0] = 10;\n    return 0;\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"-\u53ef\u53d8\u53c2\u6570\u6a21\u677f",children:"\ud83d\udd04 \u53ef\u53d8\u53c2\u6570\u6a21\u677f"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-cpp",children:'// \u9012\u5f52\u7ec8\u6b62\nvoid print() {\n    std::cout << std::endl;\n}\n\n// \u53ef\u53d8\u53c2\u6570\u6a21\u677f\ntemplate<typename T, typename... Args>\nvoid print(T first, Args... rest) {\n    std::cout << first << " ";\n    print(rest...);\n}\n\n// \u6298\u53e0\u8868\u8fbe\u5f0f (C++17)\ntemplate<typename... Args>\nauto sum(Args... args) {\n    return (args + ...);\n}\n\nint main() {\n    print(1, 2.5, "hello", \'c\');  // 1 2.5 hello c\n    std::cout << sum(1, 2, 3, 4) << std::endl;  // 10\n    return 0;\n}\n'})}),"\n",(0,a.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\u26a1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u4f7f\u7528 typename \u6216 class"})," - \u6a21\u677f\u53c2\u6570\u5173\u952e\u5b57"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"\u7f16\u8bd1\u671f\u8ba1\u7b97"})," - \u5229\u7528 constexpr"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"SFINAE"})," - \u63a7\u5236\u6a21\u677f\u5b9e\u4f8b\u5316"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.strong,{children:"Concepts (C++20)"})," - \u7ea6\u675f\u6a21\u677f\u53c2\u6570"]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(o,{...n})}):o(n)}}}]);