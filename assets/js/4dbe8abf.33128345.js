"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[19205],{48885:(n,i,e)=>{e.d(i,{R:()=>t,x:()=>d});var s=e(99378);const l={},r=s.createContext(l);function t(n){const i=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function d(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(r.Provider,{value:i},n.children)}},88102:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ai/production","title":"\ud83d\ude80 Production\uff08\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72\uff09","description":"\u628a Demo \u53d8\u6210\u53ef\u7528\u7684\u751f\u4ea7\u7cfb\u7edf\uff0c\u5173\u952e\u662f\u201c\u7a33\u5b9a\u3001\u53ef\u89c2\u6d4b\u3001\u53ef\u63a7\u6210\u672c\u201d\u3002\u672c\u9875\u4ece\u5ef6\u8fdf\u3001\u7a33\u5b9a\u6027\u3001\u7f13\u5b58\u3001\u89c2\u6d4b\u4e0e\u53d1\u5e03\u7b56\u7565\u603b\u7ed3\u5e38\u7528\u505a\u6cd5\u3002","source":"@site/docs/ai/production.md","sourceDirName":"ai","slug":"/ai/production","permalink":"/docs/ai/production","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ai/production.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"\ud83d\ude80 Production\uff08\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72\uff09"},"sidebar":"ai","previous":{"title":"\ud83d\udccf Evaluation\uff08\u8bc4\u4f30\u4e0e\u6d4b\u8bd5\uff09","permalink":"/docs/ai/evaluation"},"next":{"title":"\ud83d\udd10 Security\uff08\u5b89\u5168\u4e0e\u9690\u79c1\uff09","permalink":"/docs/ai/security"}}');var l=e(22714),r=e(48885);const t={sidebar_position:11,title:"\ud83d\ude80 Production\uff08\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72\uff09"},d="Production\uff08\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72\uff09",c={},o=[{value:"\u5178\u578b\u751f\u4ea7\u67b6\u6784",id:"\u5178\u578b\u751f\u4ea7\u67b6\u6784",level:2},{value:"\u5ef6\u8fdf\u4f18\u5316",id:"\u5ef6\u8fdf\u4f18\u5316",level:2},{value:"\u7a33\u5b9a\u6027\u4e0e\u5bb9\u9519",id:"\u7a33\u5b9a\u6027\u4e0e\u5bb9\u9519",level:2},{value:"\u6210\u672c\u63a7\u5236",id:"\u6210\u672c\u63a7\u5236",level:2},{value:"\u53ef\u89c2\u6d4b\u6027\uff08Observability\uff09",id:"\u53ef\u89c2\u6d4b\u6027observability",level:2},{value:"\u53d1\u5e03\u4e0e\u56de\u6eda",id:"\u53d1\u5e03\u4e0e\u56de\u6eda",level:2},{value:"\u5ef6\u4f38\u9605\u8bfb",id:"\u5ef6\u4f38\u9605\u8bfb",level:2}];function h(n){const i={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.header,{children:(0,l.jsx)(i.h1,{id:"production\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72",children:"Production\uff08\u751f\u4ea7\u5316\u4e0e\u90e8\u7f72\uff09"})}),"\n",(0,l.jsx)(i.p,{children:"\u628a Demo \u53d8\u6210\u53ef\u7528\u7684\u751f\u4ea7\u7cfb\u7edf\uff0c\u5173\u952e\u662f\u201c\u7a33\u5b9a\u3001\u53ef\u89c2\u6d4b\u3001\u53ef\u63a7\u6210\u672c\u201d\u3002\u672c\u9875\u4ece\u5ef6\u8fdf\u3001\u7a33\u5b9a\u6027\u3001\u7f13\u5b58\u3001\u89c2\u6d4b\u4e0e\u53d1\u5e03\u7b56\u7565\u603b\u7ed3\u5e38\u7528\u505a\u6cd5\u3002"}),"\n",(0,l.jsx)(i.h2,{id:"\u5178\u578b\u751f\u4ea7\u67b6\u6784",children:"\u5178\u578b\u751f\u4ea7\u67b6\u6784"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"API Gateway"}),"\uff1a\u9274\u6743\u3001\u9650\u6d41\u3001\u914d\u989d\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"LLM Service"}),"\uff1a\u5c01\u88c5\u6a21\u578b\u8c03\u7528\u3001\u5de5\u5177\u8c03\u7528\u3001\u91cd\u8bd5\u4e0e\u964d\u7ea7\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"RAG Service"}),"\uff08\u53ef\u9009\uff09\uff1a\u7d22\u5f15\u3001\u68c0\u7d22\u3001\u91cd\u6392\u5e8f\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"Observability"}),"\uff1a\u65e5\u5fd7\u3001\u6307\u6807\u3001\u8ffd\u8e2a\u3001\u8bc4\u4f30\u56de\u653e\u3002"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u5ef6\u8fdf\u4f18\u5316",children:"\u5ef6\u8fdf\u4f18\u5316"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u6a21\u578b\u9009\u62e9"}),"\uff1a\u9ed8\u8ba4\u7528\u5c0f\u6a21\u578b\uff0c\u5fc5\u8981\u65f6\u5347\u7ea7\u5927\u6a21\u578b\uff08\u5206\u5c42\u8def\u7531\uff09\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u6d41\u5f0f\u8f93\u51fa"}),"\uff1a\u524d\u7aef\u4f53\u9a8c\u663e\u8457\u63d0\u5347\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u5e76\u884c\u5316"}),"\uff1a\u68c0\u7d22\u3001\u5de5\u5177\u8c03\u7528\u3001\u8865\u5145\u67e5\u8be2\u5e76\u884c\u6267\u884c\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u51cf\u5c11 token"}),"\uff1a\u538b\u7f29\u4e0a\u4e0b\u6587\u3001\u6458\u8981\u5386\u53f2\u3001\u53ea\u5e26\u5fc5\u8981\u5b57\u6bb5\u3002"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u7a33\u5b9a\u6027\u4e0e\u5bb9\u9519",children:"\u7a33\u5b9a\u6027\u4e0e\u5bb9\u9519"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u91cd\u8bd5\u7b56\u7565"}),"\uff1a\u5bf9 429/5xx \u505a\u6307\u6570\u9000\u907f\uff1b\u907f\u514d\u65e0\u8111\u91cd\u8bd5\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u8d85\u65f6\u4e0e\u53d6\u6d88"}),"\uff1a\u6240\u6709\u5916\u90e8\u4f9d\u8d56\uff08\u6a21\u578b/\u5411\u91cf\u5e93/\u641c\u7d22\uff09\u90fd\u8981\u8d85\u65f6\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u5e42\u7b49\u4e0e\u53bb\u91cd"}),"\uff1a\u5bf9\u76f8\u540c\u8bf7\u6c42\u505a\u8bf7\u6c42 ID\uff0c\u907f\u514d\u91cd\u590d\u6263\u8d39\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u964d\u7ea7"}),"\uff1a","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"\u5173\u95ed RAG\uff08\u53ea\u7528\u57fa\u7840\u56de\u7b54\uff09"}),"\n",(0,l.jsx)(i.li,{children:"\u964d\u7ea7\u5230\u5c0f\u6a21\u578b"}),"\n",(0,l.jsx)(i.li,{children:"\u8fd4\u56de\u53ef\u89e3\u91ca\u7684 fallback \u6587\u6848"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u6210\u672c\u63a7\u5236",children:"\u6210\u672c\u63a7\u5236"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u7f13\u5b58"}),"\uff1a","\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"Prompt + \u53c2\u6570 + \u5173\u952e\u4e0a\u4e0b\u6587 hash \u4f5c\u4e3a key"}),"\n",(0,l.jsx)(i.li,{children:"\u5bf9\u68c0\u7d22\u7ed3\u679c\u7f13\u5b58\uff08\u77ed TTL\uff09"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u6279\u5904\u7406"}),"\uff1a\u9002\u7528\u4e8e\u79bb\u7ebf\u4efb\u52a1\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u5206\u5c42\u8def\u7531"}),"\uff1a\u7b80\u5355\u95ee\u9898\u5c0f\u6a21\u578b\u56de\u7b54\uff0c\u590d\u6742\u95ee\u9898\u5347\u7ea7\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u9884\u7b97\u4e0e\u914d\u989d"}),"\uff1a\u6309\u7528\u6237/\u79df\u6237/\u4e1a\u52a1\u7ebf\u8bbe\u7f6e\u65e5\u9884\u7b97\u3002"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u53ef\u89c2\u6d4b\u6027observability",children:"\u53ef\u89c2\u6d4b\u6027\uff08Observability\uff09"}),"\n",(0,l.jsx)(i.p,{children:"\u5efa\u8bae\u81f3\u5c11\u8bb0\u5f55\uff1a"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:"\u8bf7\u6c42\u94fe\u8def\uff1arequest_id\u3001user_id\u3001model\u3001token \u4f7f\u7528\u3001\u8017\u65f6"}),"\n",(0,l.jsx)(i.li,{children:"RAG\uff1aquery\u3001Top-K \u6587\u6863 id\u3001\u91cd\u6392\u5e8f\u7ed3\u679c"}),"\n",(0,l.jsx)(i.li,{children:"\u5de5\u5177\u8c03\u7528\uff1a\u5de5\u5177\u540d\u3001\u53c2\u6570\uff08\u8131\u654f\uff09\u3001\u7ed3\u679c\u6458\u8981\u3001\u8017\u65f6"}),"\n",(0,l.jsx)(i.li,{children:"\u8f93\u51fa\uff1a\u8131\u654f\u540e\u4fdd\u5b58\uff08\u4fbf\u4e8e\u56de\u653e\u4e0e\u8bc4\u4f30\uff09"}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u53d1\u5e03\u4e0e\u56de\u6eda",children:"\u53d1\u5e03\u4e0e\u56de\u6eda"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u7070\u5ea6\u53d1\u5e03"}),"\uff1a\u65b0\u7248\u672c\u5148 1%-5% \u6d41\u91cf\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u5f00\u5173\uff08Feature Flag\uff09"}),"\uff1aprompt\u3001\u68c0\u7d22\u7b56\u7565\u3001\u5de5\u5177\u96c6\u53ef\u52a8\u6001\u5207\u6362\u3002"]}),"\n",(0,l.jsxs)(i.li,{children:[(0,l.jsx)(i.strong,{children:"\u4e00\u952e\u56de\u6eda"}),"\uff1a\u7248\u672c/\u914d\u7f6e\u5206\u79bb\uff0c\u907f\u514d\u7d27\u6025\u65f6\u91cd\u65b0\u53d1\u7248\u3002"]}),"\n"]}),"\n",(0,l.jsx)(i.h2,{id:"\u5ef6\u4f38\u9605\u8bfb",children:"\u5ef6\u4f38\u9605\u8bfb"}),"\n",(0,l.jsxs)(i.ul,{children:["\n",(0,l.jsx)(i.li,{children:(0,l.jsx)(i.a,{href:"https://platform.openai.com/docs/guides/latency-optimization",children:"https://platform.openai.com/docs/guides/latency-optimization"})}),"\n"]})]})}function a(n={}){const{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,l.jsx)(i,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}}}]);