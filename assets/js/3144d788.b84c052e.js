"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[94752],{1591:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>d,toc:()=>p});const d=JSON.parse('{"id":"ffmpeg/basic-commands","title":"\u57fa\u7840\u547d\u4ee4","description":"FFmpeg \u57fa\u7840\u547d\u4ee4\u8bed\u6cd5\u548c\u5e38\u7528\u64cd\u4f5c","source":"@site/docs/ffmpeg/basic-commands.md","sourceDirName":"ffmpeg","slug":"/ffmpeg/basic-commands","permalink":"/docs/ffmpeg/basic-commands","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ffmpeg/basic-commands.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u57fa\u7840\u547d\u4ee4","description":"FFmpeg \u57fa\u7840\u547d\u4ee4\u8bed\u6cd5\u548c\u5e38\u7528\u64cd\u4f5c"},"sidebar":"ffmpeg","previous":{"title":"\u5b89\u88c5\u914d\u7f6e","permalink":"/docs/ffmpeg/installation"},"next":{"title":"\u89c6\u9891\u5904\u7406","permalink":"/docs/ffmpeg/video-processing"}}');var s=i(22714),l=i(48885);const t={sidebar_position:3,title:"\u57fa\u7840\u547d\u4ee4",description:"FFmpeg \u57fa\u7840\u547d\u4ee4\u8bed\u6cd5\u548c\u5e38\u7528\u64cd\u4f5c"},c="FFmpeg \u57fa\u7840\u547d\u4ee4",r={},p=[{value:"\u547d\u4ee4\u57fa\u672c\u7ed3\u6784",id:"\u547d\u4ee4\u57fa\u672c\u7ed3\u6784",level:2},{value:"\u5e38\u7528\u5168\u5c40\u9009\u9879",id:"\u5e38\u7528\u5168\u5c40\u9009\u9879",level:3},{value:"\u683c\u5f0f\u8f6c\u6362",id:"\u683c\u5f0f\u8f6c\u6362",level:2},{value:"\u57fa\u672c\u8f6c\u6362",id:"\u57fa\u672c\u8f6c\u6362",level:3},{value:"\u6307\u5b9a\u7f16\u89e3\u7801\u5668",id:"\u6307\u5b9a\u7f16\u89e3\u7801\u5668",level:3},{value:"\u89c6\u9891\u57fa\u672c\u64cd\u4f5c",id:"\u89c6\u9891\u57fa\u672c\u64cd\u4f5c",level:2},{value:"\u8c03\u6574\u5206\u8fa8\u7387",id:"\u8c03\u6574\u5206\u8fa8\u7387",level:3},{value:"\u8c03\u6574\u5e27\u7387",id:"\u8c03\u6574\u5e27\u7387",level:3},{value:"\u89c6\u9891\u88c1\u526a",id:"\u89c6\u9891\u88c1\u526a",level:3},{value:"\u89c6\u9891\u62fc\u63a5",id:"\u89c6\u9891\u62fc\u63a5",level:3},{value:"\u97f3\u9891\u57fa\u672c\u64cd\u4f5c",id:"\u97f3\u9891\u57fa\u672c\u64cd\u4f5c",level:2},{value:"\u63d0\u53d6\u97f3\u9891",id:"\u63d0\u53d6\u97f3\u9891",level:3},{value:"\u97f3\u9891\u8f6c\u6362",id:"\u97f3\u9891\u8f6c\u6362",level:3},{value:"\u8c03\u6574\u97f3\u91cf",id:"\u8c03\u6574\u97f3\u91cf",level:3},{value:"\u5a92\u4f53\u4fe1\u606f\u67e5\u770b",id:"\u5a92\u4f53\u4fe1\u606f\u67e5\u770b",level:2},{value:"\u4f7f\u7528 ffprobe",id:"\u4f7f\u7528-ffprobe",level:3},{value:"\u56fe\u7247\u5904\u7406",id:"\u56fe\u7247\u5904\u7406",level:2},{value:"\u89c6\u9891\u8f6c\u56fe\u7247\u5e8f\u5217",id:"\u89c6\u9891\u8f6c\u56fe\u7247\u5e8f\u5217",level:3},{value:"\u56fe\u7247\u5e8f\u5217\u8f6c\u89c6\u9891",id:"\u56fe\u7247\u5e8f\u5217\u8f6c\u89c6\u9891",level:3},{value:"\u5c4f\u5e55\u5f55\u5236",id:"\u5c4f\u5e55\u5f55\u5236",level:2},{value:"macOS",id:"macos",level:3},{value:"Linux",id:"linux",level:3},{value:"Windows",id:"windows",level:3},{value:"\u5e38\u7528\u53c2\u6570\u901f\u67e5",id:"\u5e38\u7528\u53c2\u6570\u901f\u67e5",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ffmpeg-\u57fa\u7840\u547d\u4ee4",children:"FFmpeg \u57fa\u7840\u547d\u4ee4"})}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u6587\u4ecb\u7ecd FFmpeg \u7684\u57fa\u7840\u547d\u4ee4\u8bed\u6cd5\u548c\u5e38\u7528\u64cd\u4f5c\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u547d\u4ee4\u57fa\u672c\u7ed3\u6784",children:"\u547d\u4ee4\u57fa\u672c\u7ed3\u6784"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ffmpeg [\u5168\u5c40\u9009\u9879] [\u8f93\u5165\u9009\u9879] -i \u8f93\u5165\u6587\u4ef6 [\u8f93\u51fa\u9009\u9879] \u8f93\u51fa\u6587\u4ef6\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5e38\u7528\u5168\u5c40\u9009\u9879",children:"\u5e38\u7528\u5168\u5c40\u9009\u9879"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u9009\u9879"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-y"})}),(0,s.jsx)(n.td,{children:"\u8986\u76d6\u8f93\u51fa\u6587\u4ef6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-n"})}),(0,s.jsx)(n.td,{children:"\u4e0d\u8986\u76d6\u8f93\u51fa\u6587\u4ef6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-v level"})}),(0,s.jsx)(n.td,{children:"\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-hide_banner"})}),(0,s.jsx)(n.td,{children:"\u9690\u85cf\u7248\u672c\u4fe1\u606f"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u683c\u5f0f\u8f6c\u6362",children:"\u683c\u5f0f\u8f6c\u6362"}),"\n",(0,s.jsx)(n.h3,{id:"\u57fa\u672c\u8f6c\u6362",children:"\u57fa\u672c\u8f6c\u6362"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# MP4 \u8f6c AVI\nffmpeg -i input.mp4 output.avi\n\n# MP4 \u8f6c MKV\nffmpeg -i input.mp4 output.mkv\n\n# \u89c6\u9891\u8f6c GIF\nffmpeg -i input.mp4 output.gif\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6307\u5b9a\u7f16\u89e3\u7801\u5668",children:"\u6307\u5b9a\u7f16\u89e3\u7801\u5668"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528 H.264 \u7f16\u7801\nffmpeg -i input.mp4 -c:v libx264 output.mp4\n\n# \u4f7f\u7528 H.265/HEVC \u7f16\u7801\nffmpeg -i input.mp4 -c:v libx265 output.mp4\n\n# \u590d\u5236\u6d41\uff08\u4e0d\u91cd\u65b0\u7f16\u7801\uff09\nffmpeg -i input.mp4 -c copy output.mkv\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u89c6\u9891\u57fa\u672c\u64cd\u4f5c",children:"\u89c6\u9891\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.h3,{id:"\u8c03\u6574\u5206\u8fa8\u7387",children:"\u8c03\u6574\u5206\u8fa8\u7387"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6307\u5b9a\u5206\u8fa8\u7387\nffmpeg -i input.mp4 -vf scale=1920:1080 output.mp4\n\n# \u4fdd\u6301\u5bbd\u9ad8\u6bd4\u7f29\u653e\nffmpeg -i input.mp4 -vf scale=1280:-1 output.mp4\n\n# \u7f29\u653e\u5230\u4e00\u534a\nffmpeg -i input.mp4 -vf scale=iw/2:ih/2 output.mp4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8c03\u6574\u5e27\u7387",children:"\u8c03\u6574\u5e27\u7387"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u8bbe\u7f6e\u4e3a 30fps\nffmpeg -i input.mp4 -r 30 output.mp4\n\n# \u8bbe\u7f6e\u4e3a 24fps\nffmpeg -i input.mp4 -filter:v fps=24 output.mp4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u89c6\u9891\u88c1\u526a",children:"\u89c6\u9891\u88c1\u526a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u88c1\u526a\u89c6\u9891\u7247\u6bb5\uff08\u4ece\u7b2c 10 \u79d2\u5f00\u59cb\uff0c\u6301\u7eed 30 \u79d2\uff09\nffmpeg -i input.mp4 -ss 00:00:10 -t 00:00:30 -c copy output.mp4\n\n# \u4ece\u7b2c 1 \u5206\u949f\u5f00\u59cb\u5230\u7b2c 2 \u5206\u949f\nffmpeg -i input.mp4 -ss 00:01:00 -to 00:02:00 -c copy output.mp4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u89c6\u9891\u62fc\u63a5",children:"\u89c6\u9891\u62fc\u63a5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa\u6587\u4ef6\u5217\u8868\necho \"file 'video1.mp4'\" > list.txt\necho \"file 'video2.mp4'\" >> list.txt\necho \"file 'video3.mp4'\" >> list.txt\n\n# \u62fc\u63a5\u89c6\u9891\nffmpeg -f concat -safe 0 -i list.txt -c copy output.mp4\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u97f3\u9891\u57fa\u672c\u64cd\u4f5c",children:"\u97f3\u9891\u57fa\u672c\u64cd\u4f5c"}),"\n",(0,s.jsx)(n.h3,{id:"\u63d0\u53d6\u97f3\u9891",children:"\u63d0\u53d6\u97f3\u9891"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u63d0\u53d6\u4e3a MP3\nffmpeg -i input.mp4 -vn -acodec mp3 output.mp3\n\n# \u63d0\u53d6\u4e3a AAC\nffmpeg -i input.mp4 -vn -acodec aac output.aac\n\n# \u4fdd\u6301\u539f\u59cb\u97f3\u9891\u683c\u5f0f\nffmpeg -i input.mp4 -vn -acodec copy output.aac\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u97f3\u9891\u8f6c\u6362",children:"\u97f3\u9891\u8f6c\u6362"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# WAV \u8f6c MP3\nffmpeg -i input.wav -acodec mp3 -ab 192k output.mp3\n\n# \u8c03\u6574\u91c7\u6837\u7387\nffmpeg -i input.mp3 -ar 44100 output.mp3\n\n# \u8c03\u6574\u6bd4\u7279\u7387\nffmpeg -i input.mp3 -ab 320k output.mp3\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8c03\u6574\u97f3\u91cf",children:"\u8c03\u6574\u97f3\u91cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u97f3\u91cf\u52a0\u500d\nffmpeg -i input.mp4 -af "volume=2.0" output.mp4\n\n# \u97f3\u91cf\u51cf\u534a\nffmpeg -i input.mp4 -af "volume=0.5" output.mp4\n\n# \u97f3\u91cf\u589e\u52a0 6dB\nffmpeg -i input.mp4 -af "volume=6dB" output.mp4\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5a92\u4f53\u4fe1\u606f\u67e5\u770b",children:"\u5a92\u4f53\u4fe1\u606f\u67e5\u770b"}),"\n",(0,s.jsx)(n.h3,{id:"\u4f7f\u7528-ffprobe",children:"\u4f7f\u7528 ffprobe"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u57fa\u672c\u4fe1\u606f\nffprobe input.mp4\n\n# JSON \u683c\u5f0f\u8f93\u51fa\nffprobe -v quiet -print_format json -show_format -show_streams input.mp4\n\n# \u53ea\u663e\u793a\u6d41\u4fe1\u606f\nffprobe -show_streams input.mp4\n\n# \u53ea\u663e\u793a\u683c\u5f0f\u4fe1\u606f\nffprobe -show_format input.mp4\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u56fe\u7247\u5904\u7406",children:"\u56fe\u7247\u5904\u7406"}),"\n",(0,s.jsx)(n.h3,{id:"\u89c6\u9891\u8f6c\u56fe\u7247\u5e8f\u5217",children:"\u89c6\u9891\u8f6c\u56fe\u7247\u5e8f\u5217"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u6bcf\u79d2\u63d0\u53d6\u4e00\u5e27\nffmpeg -i input.mp4 -r 1 output_%04d.png\n\n# \u63d0\u53d6\u6240\u6709\u5e27\nffmpeg -i input.mp4 output_%04d.png\n\n# \u63d0\u53d6\u7279\u5b9a\u65f6\u95f4\u7684\u5e27\nffmpeg -i input.mp4 -ss 00:00:10 -frames:v 1 output.png\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u56fe\u7247\u5e8f\u5217\u8f6c\u89c6\u9891",children:"\u56fe\u7247\u5e8f\u5217\u8f6c\u89c6\u9891"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u56fe\u7247\u5e8f\u5217\u8f6c\u89c6\u9891\nffmpeg -framerate 24 -i image_%04d.png -c:v libx264 output.mp4\n\n# \u6307\u5b9a\u5f00\u59cb\u7f16\u53f7\nffmpeg -framerate 24 -start_number 100 -i image_%04d.png output.mp4\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u5c4f\u5e55\u5f55\u5236",children:"\u5c4f\u5e55\u5f55\u5236"}),"\n",(0,s.jsx)(n.h3,{id:"macos",children:"macOS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5f55\u5236\u5c4f\u5e55\nffmpeg -f avfoundation -i "1" output.mp4\n\n# \u5217\u51fa\u53ef\u7528\u8bbe\u5907\nffmpeg -f avfoundation -list_devices true -i ""\n'})}),"\n",(0,s.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u5f55\u5236\u5c4f\u5e55\nffmpeg -f x11grab -s 1920x1080 -i :0.0 output.mp4\n\n# \u5f55\u5236\u6307\u5b9a\u533a\u57df\nffmpeg -f x11grab -s 800x600 -i :0.0+100,200 output.mp4\n"})}),"\n",(0,s.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u4f7f\u7528 GDI \u5f55\u5236\u5c4f\u5e55\nffmpeg -f gdigrab -i desktop output.mp4\n\n# \u5f55\u5236\u7279\u5b9a\u7a97\u53e3\nffmpeg -f gdigrab -i title="\u7a97\u53e3\u6807\u9898" output.mp4\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5e38\u7528\u53c2\u6570\u901f\u67e5",children:"\u5e38\u7528\u53c2\u6570\u901f\u67e5"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u53c2\u6570"}),(0,s.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,s.jsx)(n.th,{children:"\u793a\u4f8b"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-c:v"})}),(0,s.jsx)(n.td,{children:"\u89c6\u9891\u7f16\u7801\u5668"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-c:v libx264"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-c:a"})}),(0,s.jsx)(n.td,{children:"\u97f3\u9891\u7f16\u7801\u5668"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-c:a aac"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-b:v"})}),(0,s.jsx)(n.td,{children:"\u89c6\u9891\u6bd4\u7279\u7387"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-b:v 5M"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-b:a"})}),(0,s.jsx)(n.td,{children:"\u97f3\u9891\u6bd4\u7279\u7387"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-b:a 192k"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-r"})}),(0,s.jsx)(n.td,{children:"\u5e27\u7387"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-r 30"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-s"})}),(0,s.jsx)(n.td,{children:"\u5206\u8fa8\u7387"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-s 1920x1080"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-ss"})}),(0,s.jsx)(n.td,{children:"\u5f00\u59cb\u65f6\u95f4"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-ss 00:01:00"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-t"})}),(0,s.jsx)(n.td,{children:"\u6301\u7eed\u65f6\u95f4"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-t 00:00:30"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-to"})}),(0,s.jsx)(n.td,{children:"\u7ed3\u675f\u65f6\u95f4"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-to 00:02:00"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-vn"})}),(0,s.jsx)(n.td,{children:"\u7981\u7528\u89c6\u9891"}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-an"})}),(0,s.jsx)(n.td,{children:"\u7981\u7528\u97f3\u9891"}),(0,s.jsx)(n.td,{children:"-"})]})]})]})]})}function a(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},48885:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var d=i(99378);const s={},l=d.createContext(s);function t(e){const n=d.useContext(l);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);