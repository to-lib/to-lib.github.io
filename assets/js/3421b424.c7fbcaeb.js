"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[40905],{28906:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"kafka/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"Kafka \u5e38\u7528\u547d\u4ee4\u548c\u914d\u7f6e\u901f\u67e5","source":"@site/docs/kafka/quick-reference.md","sourceDirName":"kafka","slug":"/kafka/quick-reference","permalink":"/docs/kafka/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/kafka/quick-reference.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"\u5feb\u901f\u53c2\u8003","description":"Kafka \u5e38\u7528\u547d\u4ee4\u548c\u914d\u7f6e\u901f\u67e5"},"sidebar":"kafka","previous":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/kafka/best-practices"},"next":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/docs/kafka/faq"}}');var i=r(22714),t=r(48885);const c={sidebar_position:10,title:"\u5feb\u901f\u53c2\u8003",description:"Kafka \u5e38\u7528\u547d\u4ee4\u548c\u914d\u7f6e\u901f\u67e5"},d="Kafka \u5feb\u901f\u53c2\u8003",o={},l=[{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:2},{value:"Topic \u7ba1\u7406",id:"topic-\u7ba1\u7406",level:3},{value:"\u751f\u4ea7\u548c\u6d88\u8d39",id:"\u751f\u4ea7\u548c\u6d88\u8d39",level:3},{value:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",id:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",level:3},{value:"\u751f\u4ea7\u8005\u914d\u7f6e\u901f\u67e5",id:"\u751f\u4ea7\u8005\u914d\u7f6e\u901f\u67e5",level:2},{value:"\u6d88\u8d39\u8005\u914d\u7f6e\u901f\u67e5",id:"\u6d88\u8d39\u8005\u914d\u7f6e\u901f\u67e5",level:2},{value:"Java \u4ee3\u7801\u6a21\u677f",id:"java-\u4ee3\u7801\u6a21\u677f",level:2},{value:"\u7b80\u5355\u751f\u4ea7\u8005",id:"\u7b80\u5355\u751f\u4ea7\u8005",level:3},{value:"\u7b80\u5355\u6d88\u8d39\u8005",id:"\u7b80\u5355\u6d88\u8d39\u8005",level:3},{value:"\u53c2\u8003\u94fe\u63a5",id:"\u53c2\u8003\u94fe\u63a5",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"kafka-\u5feb\u901f\u53c2\u8003",children:"Kafka \u5feb\u901f\u53c2\u8003"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,i.jsx)(n.h3,{id:"topic-\u7ba1\u7406",children:"Topic \u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa Topic\nkafka-topics.sh --create --topic my-topic \\\n  --bootstrap-server localhost:9092 \\\n  --partitions 3 --replication-factor 2\n\n# \u5217\u51fa\u6240\u6709 Topic\nkafka-topics.sh --list --bootstrap-server localhost:9092\n\n# \u67e5\u770b Topic \u8be6\u60c5\nkafka-topics.sh --describe --topic my-topic \\\n  --bootstrap-server localhost:9092\n\n# \u4fee\u6539\u5206\u533a\u6570\nkafka-topics.sh --alter --topic my-topic \\\n  --partitions 5 --bootstrap-server localhost:9092\n\n# \u5220\u9664 Topic\nkafka-topics.sh --delete --topic my-topic \\\n  --bootstrap-server localhost:9092\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u751f\u4ea7\u548c\u6d88\u8d39",children:"\u751f\u4ea7\u548c\u6d88\u8d39"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u63a7\u5236\u53f0\u751f\u4ea7\u8005\nkafka-console-producer.sh --topic my-topic \\\n  --bootstrap-server localhost:9092\n\n# \u63a7\u5236\u53f0\u6d88\u8d39\u8005\nkafka-console-consumer.sh --topic my-topic \\\n  --from-beginning --bootstrap-server localhost:9092\n\n# \u6307\u5b9a\u6d88\u8d39\u8005\u7ec4\nkafka-console-consumer.sh --topic my-topic \\\n  --group my-group --bootstrap-server localhost:9092\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",children:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u5217\u51fa\u6240\u6709\u6d88\u8d39\u8005\u7ec4\nkafka-consumer-groups.sh --list \\\n  --bootstrap-server localhost:9092\n\n# \u67e5\u770b\u6d88\u8d39\u8005\u7ec4\u8be6\u60c5\nkafka-consumer-groups.sh --describe \\\n  --group my-group --bootstrap-server localhost:9092\n\n# \u91cd\u7f6e\u4f4d\u79fb\u5230\u6700\u65e9\nkafka-consumer-groups.sh --reset-offsets --to-earliest \\\n  --group my-group --topic my-topic \\\n  --bootstrap-server localhost:9092 --execute\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u751f\u4ea7\u8005\u914d\u7f6e\u901f\u67e5",children:"\u751f\u4ea7\u8005\u914d\u7f6e\u901f\u67e5"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u63a8\u8350\u503c"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bootstrap.servers"})}),(0,i.jsx)(n.td,{children:"Kafka \u96c6\u7fa4\u5730\u5740"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"localhost:9092"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"acks"})}),(0,i.jsx)(n.td,{children:"\u786e\u8ba4\u7ea7\u522b"}),(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"all"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"batch.size"})}),(0,i.jsx)(n.td,{children:"\u6279\u6b21\u5927\u5c0f"}),(0,i.jsx)(n.td,{children:"16384"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"32768"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"linger.ms"})}),(0,i.jsx)(n.td,{children:"\u7b49\u5f85\u65f6\u95f4"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10-20"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"compression.type"})}),(0,i.jsx)(n.td,{children:"\u538b\u7f29\u7c7b\u578b"}),(0,i.jsx)(n.td,{children:"none"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lz4"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"retries"})}),(0,i.jsx)(n.td,{children:"\u91cd\u8bd5\u6b21\u6570"}),(0,i.jsx)(n.td,{children:"0"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Integer.MAX_VALUE"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enable.idempotence"})}),(0,i.jsx)(n.td,{children:"\u5e42\u7b49\u6027"}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u6d88\u8d39\u8005\u914d\u7f6e\u901f\u67e5",children:"\u6d88\u8d39\u8005\u914d\u7f6e\u901f\u67e5"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u53c2\u6570"}),(0,i.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,i.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,i.jsx)(n.th,{children:"\u63a8\u8350\u503c"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bootstrap.servers"})}),(0,i.jsx)(n.td,{children:"Kafka \u96c6\u7fa4\u5730\u5740"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"localhost:9092"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"group.id"})}),(0,i.jsx)(n.td,{children:"\u6d88\u8d39\u8005\u7ec4 ID"}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"\u81ea\u5b9a\u4e49"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"enable.auto.commit"})}),(0,i.jsx)(n.td,{children:"\u81ea\u52a8\u63d0\u4ea4"}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auto.offset.reset"})}),(0,i.jsx)(n.td,{children:"\u4f4d\u79fb\u91cd\u7f6e\u7b56\u7565"}),(0,i.jsx)(n.td,{children:"latest"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"earliest/latest"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"max.poll.records"})}),(0,i.jsx)(n.td,{children:"\u5355\u6b21\u62c9\u53d6\u6570\u91cf"}),(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"100-500"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"session.timeout.ms"})}),(0,i.jsx)(n.td,{children:"\u4f1a\u8bdd\u8d85\u65f6"}),(0,i.jsx)(n.td,{children:"10000"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"30000"})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"java-\u4ee3\u7801\u6a21\u677f",children:"Java \u4ee3\u7801\u6a21\u677f"}),"\n",(0,i.jsx)(n.h3,{id:"\u7b80\u5355\u751f\u4ea7\u8005",children:"\u7b80\u5355\u751f\u4ea7\u8005"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Properties props = new Properties();\nprops.put("bootstrap.servers", "localhost:9092");\nprops.put("key.serializer", "org.apache.kafka.common.serialization.StringSerializer");\nprops.put("value.serializer", "org.apache.kafka.common.serialization.StringSerializer");\n\nKafkaProducer<String, String> producer = new KafkaProducer<>(props);\nproducer.send(new ProducerRecord<>("topic", "key", "value"));\nproducer.close();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u7b80\u5355\u6d88\u8d39\u8005",children:"\u7b80\u5355\u6d88\u8d39\u8005"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Properties props = new Properties();\nprops.put("bootstrap.servers", "localhost:9092");\nprops.put("group.id", "test-group");\nprops.put("key.deserializer", "org.apache.kafka.common.serialization.StringDeserializer");\nprops.put("value.deserializer", "org.apache.kafka.common.serialization.StringDeserializer");\n\nKafkaConsumer<String, String> consumer = new KafkaConsumer<>(props);\nconsumer.subscribe(Collections.singletonList("topic"));\nConsumerRecords<String, String> records = consumer.poll(Duration.ofMillis(100));\nconsumer.close();\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u53c2\u8003\u94fe\u63a5",children:"\u53c2\u8003\u94fe\u63a5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://kafka.apache.org/documentation/",children:"\u5b98\u65b9\u6587\u6863"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://kafka.apache.org/documentation/#configuration",children:"\u914d\u7f6e\u53c2\u8003"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},48885:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var s=r(99378);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);