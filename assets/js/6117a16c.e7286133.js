"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[53727],{40705:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"kubernetes/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"Kubernetes \u547d\u4ee4\u4e0e\u914d\u7f6e\u901f\u67e5\u8868","source":"@site/docs/kubernetes/quick-reference.md","sourceDirName":"kubernetes","slug":"/kubernetes/quick-reference","permalink":"/docs/kubernetes/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/kubernetes/quick-reference.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"\u5feb\u901f\u53c2\u8003","description":"Kubernetes \u547d\u4ee4\u4e0e\u914d\u7f6e\u901f\u67e5\u8868"},"sidebar":"kubernetes","previous":{"title":"RBAC \u6743\u9650\u63a7\u5236","permalink":"/docs/kubernetes/rbac"},"next":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/docs/kubernetes/faq"}}');var l=t(22714),r=t(48885);const i={sidebar_position:11,title:"\u5feb\u901f\u53c2\u8003",description:"Kubernetes \u547d\u4ee4\u4e0e\u914d\u7f6e\u901f\u67e5\u8868"},d="Kubernetes \u5feb\u901f\u53c2\u8003",c={},a=[{value:"kubectl \u5e38\u7528\u547d\u4ee4",id:"kubectl-\u5e38\u7528\u547d\u4ee4",level:2},{value:"\u96c6\u7fa4\u4fe1\u606f",id:"\u96c6\u7fa4\u4fe1\u606f",level:3},{value:"\u8d44\u6e90\u64cd\u4f5c",id:"\u8d44\u6e90\u64cd\u4f5c",level:3},{value:"\u8c03\u8bd5",id:"\u8c03\u8bd5",level:3},{value:"\u8d44\u6e90\u7f29\u5199",id:"\u8d44\u6e90\u7f29\u5199",level:2},{value:"Pod \u914d\u7f6e\u6a21\u677f",id:"pod-\u914d\u7f6e\u6a21\u677f",level:2},{value:"Deployment \u6a21\u677f",id:"deployment-\u6a21\u677f",level:2},{value:"Service \u6a21\u677f",id:"service-\u6a21\u677f",level:2},{value:"Helm \u547d\u4ee4",id:"helm-\u547d\u4ee4",level:2},{value:"\u8c03\u8bd5\u955c\u50cf",id:"\u8c03\u8bd5\u955c\u50cf",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"kubernetes-\u5feb\u901f\u53c2\u8003",children:"Kubernetes \u5feb\u901f\u53c2\u8003"})}),"\n",(0,l.jsx)(n.h2,{id:"kubectl-\u5e38\u7528\u547d\u4ee4",children:"kubectl \u5e38\u7528\u547d\u4ee4"}),"\n",(0,l.jsx)(n.h3,{id:"\u96c6\u7fa4\u4fe1\u606f",children:"\u96c6\u7fa4\u4fe1\u606f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"kubectl cluster-info                 # \u96c6\u7fa4\u4fe1\u606f\nkubectl get nodes -o wide           # \u67e5\u770b\u8282\u70b9\nkubectl top nodes                   # \u8282\u70b9\u8d44\u6e90\u4f7f\u7528\nkubectl api-resources               # API \u8d44\u6e90\u5217\u8868\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8d44\u6e90\u64cd\u4f5c",children:"\u8d44\u6e90\u64cd\u4f5c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\nkubectl get pods -A                  # \u6240\u6709\u547d\u540d\u7a7a\u95f4\nkubectl get pods -l app=nginx        # \u6309\u6807\u7b7e\u7b5b\u9009\nkubectl describe pod <name>\nkubectl get pod <name> -o yaml\n\n# \u521b\u5efa/\u66f4\u65b0\nkubectl apply -f manifest.yaml\nkubectl create deployment nginx --image=nginx\nkubectl set image deployment/nginx nginx=nginx:1.25\nkubectl scale deployment nginx --replicas=5\n\n# \u5220\u9664\nkubectl delete pod <name>\nkubectl delete -f manifest.yaml\nkubectl delete pod <name> --force --grace-period=0\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8c03\u8bd5",children:"\u8c03\u8bd5"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"kubectl logs <pod> -f                # \u5b9e\u65f6\u65e5\u5fd7\nkubectl exec -it <pod> -- /bin/bash  # \u8fdb\u5165\u5bb9\u5668\nkubectl port-forward pod/<pod> 8080:80\nkubectl cp local-file <pod>:/path\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u8d44\u6e90\u7f29\u5199",children:"\u8d44\u6e90\u7f29\u5199"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u8d44\u6e90"}),(0,l.jsx)(n.th,{children:"\u7f29\u5199"}),(0,l.jsx)(n.th,{children:"\u8d44\u6e90"}),(0,l.jsx)(n.th,{children:"\u7f29\u5199"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"pods"}),(0,l.jsx)(n.td,{children:"po"}),(0,l.jsx)(n.td,{children:"services"}),(0,l.jsx)(n.td,{children:"svc"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"deployments"}),(0,l.jsx)(n.td,{children:"deploy"}),(0,l.jsx)(n.td,{children:"configmaps"}),(0,l.jsx)(n.td,{children:"cm"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"statefulsets"}),(0,l.jsx)(n.td,{children:"sts"}),(0,l.jsx)(n.td,{children:"persistentvolumeclaims"}),(0,l.jsx)(n.td,{children:"pvc"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"namespaces"}),(0,l.jsx)(n.td,{children:"ns"}),(0,l.jsx)(n.td,{children:"serviceaccounts"}),(0,l.jsx)(n.td,{children:"sa"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"pod-\u914d\u7f6e\u6a21\u677f",children:"Pod \u914d\u7f6e\u6a21\u677f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\n  labels:\n    app: my-app\nspec:\n  containers:\n    - name: app\n      image: nginx:1.24\n      ports:\n        - containerPort: 80\n      resources:\n        requests:\n          memory: "64Mi"\n          cpu: "250m"\n        limits:\n          memory: "128Mi"\n          cpu: "500m"\n      livenessProbe:\n        httpGet:\n          path: /healthz\n          port: 80\n        initialDelaySeconds: 30\n      readinessProbe:\n        httpGet:\n          path: /ready\n          port: 80\n'})}),"\n",(0,l.jsx)(n.h2,{id:"deployment-\u6a21\u677f",children:"Deployment \u6a21\u677f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: my-deployment\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: my-app\n  template:\n    metadata:\n      labels:\n        app: my-app\n    spec:\n      containers:\n        - name: app\n          image: my-app:1.0\n"})}),"\n",(0,l.jsx)(n.h2,{id:"service-\u6a21\u677f",children:"Service \u6a21\u677f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: my-service\nspec:\n  type: ClusterIP # NodePort / LoadBalancer\n  selector:\n    app: my-app\n  ports:\n    - port: 80\n      targetPort: 8080\n"})}),"\n",(0,l.jsx)(n.h2,{id:"helm-\u547d\u4ee4",children:"Helm \u547d\u4ee4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"helm repo add bitnami https://charts.bitnami.com/bitnami\nhelm install my-release bitnami/nginx -f values.yaml\nhelm upgrade my-release bitnami/nginx\nhelm rollback my-release 1\nhelm uninstall my-release\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u8c03\u8bd5\u955c\u50cf",children:"\u8c03\u8bd5\u955c\u50cf"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u955c\u50cf"}),(0,l.jsx)(n.th,{children:"\u7528\u9014"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"busybox"}),(0,l.jsx)(n.td,{children:"\u57fa\u7840\u8c03\u8bd5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"nicolaka/netshoot"}),(0,l.jsx)(n.td,{children:"\u7f51\u7edc\u8c03\u8bd5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"curlimages/curl"}),(0,l.jsx)(n.td,{children:"HTTP \u6d4b\u8bd5"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},48885:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>d});var s=t(99378);const l={},r=s.createContext(l);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);