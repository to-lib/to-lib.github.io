"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[98613],{48885:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>l});var i=t(99378);const d={},r=i.createContext(d);function s(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),i.createElement(r.Provider,{value:e},n.children)}},88496:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cpp/functions","title":"\u51fd\u6570","description":"C++ \u51fd\u6570\u662f\u4ee3\u7801\u590d\u7528\u7684\u57fa\u672c\u5355\u5143\uff0c\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7279\u6027\u5982\u91cd\u8f7d\u3001\u9ed8\u8ba4\u53c2\u6570\u548c\u5185\u8054\u51fd\u6570\u3002","source":"@site/docs/cpp/functions.md","sourceDirName":"cpp","slug":"/cpp/functions","permalink":"/docs/cpp/functions","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/functions.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"\u51fd\u6570"},"sidebar":"cpp","previous":{"title":"\u57fa\u7840\u8bed\u6cd5","permalink":"/docs/cpp/basic-syntax"},"next":{"title":"\u6570\u7ec4\u548c\u5b57\u7b26\u4e32","permalink":"/docs/cpp/arrays-strings"}}');var d=t(22714),r=t(48885);const s={sidebar_position:4,title:"\u51fd\u6570"},l="C++ \u51fd\u6570",c={},a=[{value:"\ud83c\udfaf \u51fd\u6570\u57fa\u7840",id:"-\u51fd\u6570\u57fa\u7840",level:2},{value:"\u51fd\u6570\u5b9a\u4e49",id:"\u51fd\u6570\u5b9a\u4e49",level:3},{value:"\u53c2\u6570\u4f20\u9012\u65b9\u5f0f",id:"\u53c2\u6570\u4f20\u9012\u65b9\u5f0f",level:3},{value:"\ud83d\udd04 \u51fd\u6570\u91cd\u8f7d",id:"-\u51fd\u6570\u91cd\u8f7d",level:2},{value:"\ud83d\udccb \u9ed8\u8ba4\u53c2\u6570",id:"-\u9ed8\u8ba4\u53c2\u6570",level:2},{value:"\u26a1 \u5185\u8054\u51fd\u6570",id:"-\u5185\u8054\u51fd\u6570",level:2},{value:"\ud83d\udd01 \u9012\u5f52\u51fd\u6570",id:"-\u9012\u5f52\u51fd\u6570",level:2},{value:"\ud83c\udfad \u51fd\u6570\u6307\u9488",id:"-\u51fd\u6570\u6307\u9488",level:2},{value:"\ud83d\udce6 \u8fd4\u56de\u591a\u4e2a\u503c",id:"-\u8fd4\u56de\u591a\u4e2a\u503c",level:2},{value:"\ud83d\udee1\ufe0f \u51fd\u6570\u5c5e\u6027",id:"\ufe0f-\u51fd\u6570\u5c5e\u6027",level:2},{value:"noexcept",id:"noexcept",level:3},{value:"[[nodiscard]] (C++17)",id:"nodiscard-c17",level:3},{value:"[[deprecated]] (C++14)",id:"deprecated-c14",level:3},{value:"\ud83d\udd27 \u5b9e\u7528\u6280\u5de7",id:"-\u5b9e\u7528\u6280\u5de7",level:2},{value:"\u53ef\u53d8\u53c2\u6570\u6a21\u677f",id:"\u53ef\u53d8\u53c2\u6570\u6a21\u677f",level:3},{value:"\u6298\u53e0\u8868\u8fbe\u5f0f (C++17)",id:"\u6298\u53e0\u8868\u8fbe\u5f0f-c17",level:3},{value:"\u26a1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function o(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.header,{children:(0,d.jsx)(e.h1,{id:"c-\u51fd\u6570",children:"C++ \u51fd\u6570"})}),"\n",(0,d.jsx)(e.p,{children:"C++ \u51fd\u6570\u662f\u4ee3\u7801\u590d\u7528\u7684\u57fa\u672c\u5355\u5143\uff0c\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u7279\u6027\u5982\u91cd\u8f7d\u3001\u9ed8\u8ba4\u53c2\u6570\u548c\u5185\u8054\u51fd\u6570\u3002"}),"\n",(0,d.jsx)(e.h2,{id:"-\u51fd\u6570\u57fa\u7840",children:"\ud83c\udfaf \u51fd\u6570\u57fa\u7840"}),"\n",(0,d.jsx)(e.h3,{id:"\u51fd\u6570\u5b9a\u4e49",children:"\u51fd\u6570\u5b9a\u4e49"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u51fd\u6570\u58f0\u660e\uff08\u539f\u578b\uff09\nint add(int a, int b);\n\n// \u51fd\u6570\u5b9a\u4e49\nint add(int a, int b) {\n    return a + b;\n}\n\n// \u65e0\u8fd4\u56de\u503c\u51fd\u6570\nvoid greet(const std::string& name) {\n    std::cout << "Hello, " << name << "!" << std::endl;\n}\n\n// \u65e0\u53c2\u6570\u51fd\u6570\nint getRandomNumber() {\n    return 42;\n}\n\nint main() {\n    std::cout << add(3, 5) << std::endl;  // 8\n    greet("World");                        // Hello, World!\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"\u53c2\u6570\u4f20\u9012\u65b9\u5f0f",children:"\u53c2\u6570\u4f20\u9012\u65b9\u5f0f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u503c\u4f20\u9012\uff08\u62f7\u8d1d\uff09\nvoid byValue(int x) {\n    x = 100;  // \u4e0d\u5f71\u54cd\u539f\u53d8\u91cf\n}\n\n// \u5f15\u7528\u4f20\u9012\nvoid byReference(int& x) {\n    x = 100;  // \u4fee\u6539\u539f\u53d8\u91cf\n}\n\n// \u5e38\u91cf\u5f15\u7528\uff08\u53ea\u8bfb\uff0c\u907f\u514d\u62f7\u8d1d\uff09\nvoid byConstRef(const std::string& str) {\n    std::cout << str << std::endl;\n    // str = "new";  // \u9519\u8bef\uff1a\u4e0d\u80fd\u4fee\u6539\n}\n\n// \u6307\u9488\u4f20\u9012\nvoid byPointer(int* ptr) {\n    if (ptr) {\n        *ptr = 100;\n    }\n}\n\nint main() {\n    int a = 10;\n\n    byValue(a);\n    std::cout << "byValue: " << a << std::endl;     // 10\n\n    byReference(a);\n    std::cout << "byReference: " << a << std::endl; // 100\n\n    byPointer(&a);\n    std::cout << "byPointer: " << a << std::endl;   // 100\n\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u51fd\u6570\u91cd\u8f7d",children:"\ud83d\udd04 \u51fd\u6570\u91cd\u8f7d"}),"\n",(0,d.jsx)(e.p,{children:"C++ \u5141\u8bb8\u540c\u540d\u51fd\u6570\u6709\u4e0d\u540c\u7684\u53c2\u6570\u5217\u8868\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <string>\n\n// \u540c\u540d\u51fd\u6570\uff0c\u4e0d\u540c\u53c2\u6570\nint add(int a, int b) {\n    return a + b;\n}\n\ndouble add(double a, double b) {\n    return a + b;\n}\n\nint add(int a, int b, int c) {\n    return a + b + c;\n}\n\nstd::string add(const std::string& a, const std::string& b) {\n    return a + b;\n}\n\nint main() {\n    std::cout << add(1, 2) << std::endl;          // \u8c03\u7528 int \u7248\u672c\n    std::cout << add(1.5, 2.5) << std::endl;      // \u8c03\u7528 double \u7248\u672c\n    std::cout << add(1, 2, 3) << std::endl;       // \u8c03\u7528\u4e09\u53c2\u6570\u7248\u672c\n    std::cout << add("Hello", "World") << std::endl;\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.p,{children:":::warning \u91cd\u8f7d\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,d.jsxs)(e.ul,{children:["\n",(0,d.jsx)(e.li,{children:"\u4ec5\u8fd4\u56de\u7c7b\u578b\u4e0d\u540c\u4e0d\u80fd\u91cd\u8f7d"}),"\n",(0,d.jsx)(e.li,{children:"\u53c2\u6570\u7c7b\u578b\u3001\u6570\u91cf\u6216\u987a\u5e8f\u5fc5\u987b\u4e0d\u540c\n:::"}),"\n"]}),"\n",(0,d.jsx)(e.h2,{id:"-\u9ed8\u8ba4\u53c2\u6570",children:"\ud83d\udccb \u9ed8\u8ba4\u53c2\u6570"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u9ed8\u8ba4\u53c2\u6570\u4ece\u53f3\u5f80\u5de6\nvoid printMessage(const std::string& msg, int times = 1, bool newline = true) {\n    for (int i = 0; i < times; i++) {\n        std::cout << msg;\n        if (newline) std::cout << std::endl;\n    }\n}\n\n// \u53ea\u80fd\u5728\u58f0\u660e\u6216\u5b9a\u4e49\u4e2d\u6307\u5b9a\u4e00\u6b21\u9ed8\u8ba4\u503c\nvoid greet(const std::string& name = "World");\n\nvoid greet(const std::string& name) {\n    std::cout << "Hello, " << name << "!" << std::endl;\n}\n\nint main() {\n    printMessage("Hi");              // Hi (1\u6b21\uff0c\u6362\u884c)\n    printMessage("Hi", 3);           // Hi Hi Hi (3\u6b21\uff0c\u6362\u884c)\n    printMessage("Hi", 2, false);    // HiHi (2\u6b21\uff0c\u4e0d\u6362\u884c)\n\n    greet();           // Hello, World!\n    greet("C++");      // Hello, C++!\n\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u5185\u8054\u51fd\u6570",children:"\u26a1 \u5185\u8054\u51fd\u6570"}),"\n",(0,d.jsx)(e.p,{children:"\u5efa\u8bae\u7f16\u8bd1\u5668\u5c06\u51fd\u6570\u4ee3\u7801\u76f4\u63a5\u63d2\u5165\u8c03\u7528\u5904\uff0c\u51cf\u5c11\u51fd\u6570\u8c03\u7528\u5f00\u9500\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// inline \u5173\u952e\u5b57\ninline int square(int x) {\n    return x * x;\n}\n\n// \u7c7b\u5185\u5b9a\u4e49\u7684\u51fd\u6570\u9ed8\u8ba4\u662f\u5185\u8054\u7684\nclass Math {\npublic:\n    int cube(int x) { return x * x * x; }  // \u9690\u5f0f\u5185\u8054\n};\n\n// constexpr \u51fd\u6570\uff08\u9690\u5f0f\u5185\u8054\uff09\nconstexpr int factorial(int n) {\n    return (n <= 1) ? 1 : n * factorial(n - 1);\n}\n\nint main() {\n    std::cout << square(5) << std::endl;     // 25\n\n    // \u7f16\u8bd1\u671f\u8ba1\u7b97\n    constexpr int result = factorial(5);      // 120\n    static_assert(result == 120, "Error");\n\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u9012\u5f52\u51fd\u6570",children:"\ud83d\udd01 \u9012\u5f52\u51fd\u6570"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u9636\u4e58\nint factorial(int n) {\n    if (n <= 1) return 1;\n    return n * factorial(n - 1);\n}\n\n// \u6590\u6ce2\u90a3\u5951\u6570\u5217\nint fibonacci(int n) {\n    if (n <= 1) return n;\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\n// \u5c3e\u9012\u5f52\u4f18\u5316\uff08\u7f16\u8bd1\u5668\u53ef\u80fd\u4f18\u5316\uff09\nint factorialTail(int n, int acc = 1) {\n    if (n <= 1) return acc;\n    return factorialTail(n - 1, n * acc);\n}\n\nint main() {\n    std::cout << "5! = " << factorial(5) << std::endl;\n    std::cout << "Fib(10) = " << fibonacci(10) << std::endl;\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u51fd\u6570\u6307\u9488",children:"\ud83c\udfad \u51fd\u6570\u6307\u9488"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u666e\u901a\u51fd\u6570\nint add(int a, int b) { return a + b; }\nint subtract(int a, int b) { return a - b; }\nint multiply(int a, int b) { return a * b; }\n\n// \u51fd\u6570\u6307\u9488\u7c7b\u578b\ntypedef int (*Operation)(int, int);\n// \u6216\u4f7f\u7528 using (C++11)\nusing Operation2 = int(*)(int, int);\n\n// \u63a5\u53d7\u51fd\u6570\u6307\u9488\u7684\u51fd\u6570\nint calculate(int a, int b, Operation op) {\n    return op(a, b);\n}\n\nint main() {\n    // \u58f0\u660e\u51fd\u6570\u6307\u9488\n    int (*funcPtr)(int, int) = add;\n    std::cout << funcPtr(3, 4) << std::endl;  // 7\n\n    // \u4f7f\u7528 typedef\n    Operation op = multiply;\n    std::cout << op(3, 4) << std::endl;  // 12\n\n    // \u4f20\u9012\u51fd\u6570\u6307\u9488\n    std::cout << calculate(10, 5, add) << std::endl;       // 15\n    std::cout << calculate(10, 5, subtract) << std::endl;  // 5\n\n    // \u51fd\u6570\u6307\u9488\u6570\u7ec4\n    Operation ops[] = {add, subtract, multiply};\n    for (auto op : ops) {\n        std::cout << op(6, 2) << " ";  // 8 4 12\n    }\n\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u8fd4\u56de\u591a\u4e2a\u503c",children:"\ud83d\udce6 \u8fd4\u56de\u591a\u4e2a\u503c"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <tuple>\n#include <utility>\n\n// \u65b9\u6cd51\uff1a\u4f7f\u7528\u5f15\u7528\u53c2\u6570\nvoid divide(int a, int b, int& quotient, int& remainder) {\n    quotient = a / b;\n    remainder = a % b;\n}\n\n// \u65b9\u6cd52\uff1a\u4f7f\u7528 std::pair\nstd::pair<int, int> divideWithPair(int a, int b) {\n    return {a / b, a % b};\n}\n\n// \u65b9\u6cd53\uff1a\u4f7f\u7528 std::tuple\nstd::tuple<int, int, bool> divideWithTuple(int a, int b) {\n    if (b == 0) {\n        return {0, 0, false};\n    }\n    return {a / b, a % b, true};\n}\n\n// \u65b9\u6cd54\uff1a\u4f7f\u7528\u7ed3\u6784\u4f53\nstruct DivResult {\n    int quotient;\n    int remainder;\n};\n\nDivResult divideWithStruct(int a, int b) {\n    return {a / b, a % b};\n}\n\nint main() {\n    // \u65b9\u6cd51\n    int q, r;\n    divide(17, 5, q, r);\n    std::cout << q << ", " << r << std::endl;  // 3, 2\n\n    // \u65b9\u6cd52\n    auto [q2, r2] = divideWithPair(17, 5);  // C++17 \u7ed3\u6784\u5316\u7ed1\u5b9a\n    std::cout << q2 << ", " << r2 << std::endl;\n\n    // \u65b9\u6cd53\n    auto [q3, r3, ok] = divideWithTuple(17, 5);\n    if (ok) {\n        std::cout << q3 << ", " << r3 << std::endl;\n    }\n\n    // \u65b9\u6cd54\n    auto result = divideWithStruct(17, 5);\n    std::cout << result.quotient << ", " << result.remainder << std::endl;\n\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"\ufe0f-\u51fd\u6570\u5c5e\u6027",children:"\ud83d\udee1\ufe0f \u51fd\u6570\u5c5e\u6027"}),"\n",(0,d.jsx)(e.h3,{id:"noexcept",children:"noexcept"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:"// \u627f\u8bfa\u4e0d\u629b\u51fa\u5f02\u5e38\nvoid safeFunction() noexcept {\n    // \u4e0d\u4f1a\u629b\u51fa\u5f02\u5e38\u7684\u4ee3\u7801\n}\n\n// \u6761\u4ef6\u6027 noexcept\ntemplate<typename T>\nvoid process(T& t) noexcept(noexcept(t.doSomething())) {\n    t.doSomething();\n}\n"})}),"\n",(0,d.jsx)(e.h3,{id:"nodiscard-c17",children:"[[nodiscard]] (C++17)"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:"// \u8b66\u544a\u8c03\u7528\u8005\u4e0d\u8981\u5ffd\u7565\u8fd4\u56de\u503c\n[[nodiscard]] int computeValue() {\n    return 42;\n}\n\nint main() {\n    computeValue();  // \u7f16\u8bd1\u8b66\u544a\uff1a\u5ffd\u7565\u4e86\u8fd4\u56de\u503c\n    int v = computeValue();  // OK\n    return 0;\n}\n"})}),"\n",(0,d.jsx)(e.h3,{id:"deprecated-c14",children:"[[deprecated]] (C++14)"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'// \u6807\u8bb0\u51fd\u6570\u5df2\u5f03\u7528\n[[deprecated("Use newFunction() instead")]]\nvoid oldFunction() {\n    // ...\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u5b9e\u7528\u6280\u5de7",children:"\ud83d\udd27 \u5b9e\u7528\u6280\u5de7"}),"\n",(0,d.jsx)(e.h3,{id:"\u53ef\u53d8\u53c2\u6570\u6a21\u677f",children:"\u53ef\u53d8\u53c2\u6570\u6a21\u677f"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\n// \u9012\u5f52\u7ec8\u6b62\nvoid print() {\n    std::cout << std::endl;\n}\n\n// \u53ef\u53d8\u53c2\u6570\u6a21\u677f\ntemplate<typename T, typename... Args>\nvoid print(T first, Args... rest) {\n    std::cout << first << " ";\n    print(rest...);\n}\n\nint main() {\n    print(1, 2.5, "hello", \'c\');  // 1 2.5 hello c\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h3,{id:"\u6298\u53e0\u8868\u8fbe\u5f0f-c17",children:"\u6298\u53e0\u8868\u8fbe\u5f0f (C++17)"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n\ntemplate<typename... Args>\nauto sum(Args... args) {\n    return (args + ...);  // \u53f3\u6298\u53e0\n}\n\ntemplate<typename... Args>\nvoid printAll(Args... args) {\n    ((std::cout << args << " "), ...);  // \u9017\u53f7\u6298\u53e0\n    std::cout << std::endl;\n}\n\nint main() {\n    std::cout << sum(1, 2, 3, 4, 5) << std::endl;  // 15\n    printAll(1, 2.5, "hello");  // 1 2.5 hello\n    return 0;\n}\n'})}),"\n",(0,d.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\u26a1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsxs)(e.ol,{children:["\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u4f18\u5148\u4f7f\u7528 const \u5f15\u7528"})," - \u907f\u514d\u4e0d\u5fc5\u8981\u7684\u62f7\u8d1d"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u51fd\u6570\u804c\u8d23\u5355\u4e00"})," - \u4e00\u4e2a\u51fd\u6570\u53ea\u505a\u4e00\u4ef6\u4e8b"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u907f\u514d\u8fc7\u957f\u51fd\u6570"})," - \u4fdd\u6301\u51fd\u6570\u7b80\u77ed\u6613\u8bfb"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u4f7f\u7528 nodiscard"})," - \u91cd\u8981\u8fd4\u56de\u503c\u4e0d\u5e94\u88ab\u5ffd\u7565"]}),"\n",(0,d.jsxs)(e.li,{children:[(0,d.jsx)(e.strong,{children:"\u8c28\u614e\u4f7f\u7528\u51fd\u6570\u6307\u9488"})," - \u4f18\u5148\u8003\u8651 Lambda \u6216 std::function"]}),"\n"]}),"\n",(0,d.jsx)(e.p,{children:"\u638c\u63e1\u4e86\u51fd\u6570\u7279\u6027\uff0c\u4f60\u5df2\u8fc8\u5411 C++ \u8fdb\u9636\u4e4b\u8def\uff01\ud83d\ude80"})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(o,{...n})}):o(n)}}}]);