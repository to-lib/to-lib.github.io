"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[8955],{48885:(n,e,i)=>{i.d(e,{R:()=>d,x:()=>t});var r=i(99378);const s={},l=r.createContext(s);function d(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:d(n.components),r.createElement(l.Provider,{value:e},n.children)}},50380:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>o,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"dsa/prefix-sum-diff","title":"\u524d\u7f00\u548c\u4e0e\u5dee\u5206","description":"\u524d\u7f00\u548c\uff08Prefix Sum\uff09\u4e0e\u5dee\u5206\uff08Difference Array\uff09\u662f\u5904\u7406\u201c\u533a\u95f4\u7edf\u8ba1 / \u533a\u95f4\u66f4\u65b0\u201d\u95ee\u9898\u7684\u4e24\u5927\u57fa\u7840\u5de5\u5177\u3002","source":"@site/docs/dsa/prefix-sum-diff.md","sourceDirName":"dsa","slug":"/dsa/prefix-sum-diff","permalink":"/docs/dsa/prefix-sum-diff","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/dsa/prefix-sum-diff.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22,"title":"\u524d\u7f00\u548c\u4e0e\u5dee\u5206"},"sidebar":"dsa","previous":{"title":"\u6ed1\u52a8\u7a97\u53e3","permalink":"/docs/dsa/sliding-window"},"next":{"title":"\u4f4d\u8fd0\u7b97","permalink":"/docs/dsa/bit-manipulation"}}');var s=i(22714),l=i(48885);const d={sidebar_position:22,title:"\u524d\u7f00\u548c\u4e0e\u5dee\u5206"},t="\u524d\u7f00\u548c\u4e0e\u5dee\u5206",c={},a=[{value:"\ud83d\udccc \u524d\u7f00\u548c\uff08Prefix Sum\uff09",id:"-\u524d\u7f00\u548cprefix-sum",level:2},{value:"1) \u4e00\u7ef4\u524d\u7f00\u548c\uff1a\u533a\u95f4\u548c\u67e5\u8be2",id:"1-\u4e00\u7ef4\u524d\u7f00\u548c\u533a\u95f4\u548c\u67e5\u8be2",level:3},{value:"2) \u524d\u7f00\u548c + \u54c8\u5e0c\uff1a\u5b50\u6570\u7ec4\u548c\u7b49\u4e8e K",id:"2-\u524d\u7f00\u548c--\u54c8\u5e0c\u5b50\u6570\u7ec4\u548c\u7b49\u4e8e-k",level:3},{value:"\ud83d\udccc \u5dee\u5206\uff08Difference Array\uff09",id:"-\u5dee\u5206difference-array",level:2},{value:"1) \u4e00\u7ef4\u5dee\u5206\uff1a\u533a\u95f4\u52a0\u6cd5",id:"1-\u4e00\u7ef4\u5dee\u5206\u533a\u95f4\u52a0\u6cd5",level:3},{value:"\ud83c\udfaf \u9002\u7528\u573a\u666f\u603b\u7ed3",id:"-\u9002\u7528\u573a\u666f\u603b\u7ed3",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u524d\u7f00\u548c\u4e0e\u5dee\u5206",children:"\u524d\u7f00\u548c\u4e0e\u5dee\u5206"})}),"\n",(0,s.jsx)(e.p,{children:"\u524d\u7f00\u548c\uff08Prefix Sum\uff09\u4e0e\u5dee\u5206\uff08Difference Array\uff09\u662f\u5904\u7406\u201c\u533a\u95f4\u7edf\u8ba1 / \u533a\u95f4\u66f4\u65b0\u201d\u95ee\u9898\u7684\u4e24\u5927\u57fa\u7840\u5de5\u5177\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"-\u524d\u7f00\u548cprefix-sum",children:"\ud83d\udccc \u524d\u7f00\u548c\uff08Prefix Sum\uff09"}),"\n",(0,s.jsx)(e.h3,{id:"1-\u4e00\u7ef4\u524d\u7f00\u548c\u533a\u95f4\u548c\u67e5\u8be2",children:"1) \u4e00\u7ef4\u524d\u7f00\u548c\uff1a\u533a\u95f4\u548c\u67e5\u8be2"}),"\n",(0,s.jsx)(e.p,{children:"\u5b9a\u4e49\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"pre[i]"})," \u8868\u793a ",(0,s.jsx)(e.code,{children:"nums[0..i-1]"})," \u7684\u548c\uff08\u957f\u5ea6 i \u7684\u524d\u7f00\uff09"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5219\u533a\u95f4 ",(0,s.jsx)(e.code,{children:"[l, r]"}),"\uff08\u95ed\u533a\u95f4\uff09\u7684\u548c\u4e3a\uff1a",(0,s.jsx)(e.code,{children:"pre[r+1] - pre[l]"})]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"public int[] buildPrefixSum(int[] nums) {\n    int[] pre = new int[nums.length + 1];\n    for (int i = 0; i < nums.length; i++) {\n        pre[i + 1] = pre[i] + nums[i];\n    }\n    return pre;\n}\n\npublic int rangeSum(int[] pre, int l, int r) {\n    return pre[r + 1] - pre[l];\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"2-\u524d\u7f00\u548c--\u54c8\u5e0c\u5b50\u6570\u7ec4\u548c\u7b49\u4e8e-k",children:"2) \u524d\u7f00\u548c + \u54c8\u5e0c\uff1a\u5b50\u6570\u7ec4\u548c\u7b49\u4e8e K"}),"\n",(0,s.jsxs)(e.p,{children:["\u6838\u5fc3\uff1a\u5982\u679c ",(0,s.jsx)(e.code,{children:"pre[j] - pre[i] = k"}),"\uff0c\u5219 ",(0,s.jsx)(e.code,{children:"pre[i] = pre[j] - k"}),"\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"public int subarraySumEqualsK(int[] nums, int k) {\n    Map<Integer, Integer> freq = new HashMap<>();\n    freq.put(0, 1);\n\n    int pre = 0;\n    int ans = 0;\n    for (int x : nums) {\n        pre += x;\n        ans += freq.getOrDefault(pre - k, 0);\n        freq.put(pre, freq.getOrDefault(pre, 0) + 1);\n    }\n    return ans;\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u5dee\u5206difference-array",children:"\ud83d\udccc \u5dee\u5206\uff08Difference Array\uff09"}),"\n",(0,s.jsx)(e.p,{children:"\u5dee\u5206\u6570\u7ec4\u5e38\u7528\u4e8e\u201c\u591a\u6b21\u533a\u95f4\u52a0/\u51cf\u201d\u7684\u573a\u666f\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u901a\u8fc7\u5728\u533a\u95f4\u7aef\u70b9\u6253\u6807\u8bb0\uff0c\u628a\u4e00\u6b21\u533a\u95f4\u66f4\u65b0\u53d8\u4e3a O(1)"}),"\n",(0,s.jsx)(e.li,{children:"\u6700\u540e\u5bf9\u5dee\u5206\u6570\u7ec4\u505a\u4e00\u6b21\u524d\u7f00\u548c\u8fd8\u539f\u539f\u6570\u7ec4"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"1-\u4e00\u7ef4\u5dee\u5206\u533a\u95f4\u52a0\u6cd5",children:"1) \u4e00\u7ef4\u5dee\u5206\uff1a\u533a\u95f4\u52a0\u6cd5"}),"\n",(0,s.jsxs)(e.p,{children:["\u5bf9 ",(0,s.jsx)(e.code,{children:"[l, r]"})," \u533a\u95f4\u6bcf\u4e2a\u5143\u7d20\u52a0 ",(0,s.jsx)(e.code,{children:"delta"}),"\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"diff[l] += delta"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"diff[r + 1] -= delta"}),"\uff08\u82e5 ",(0,s.jsx)(e.code,{children:"r + 1"})," \u672a\u8d8a\u754c\uff09"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"public int[] rangeAdd(int n, int[][] updates) {\n    int[] diff = new int[n];\n\n    for (int[] u : updates) {\n        int l = u[0], r = u[1], delta = u[2];\n        diff[l] += delta;\n        if (r + 1 < n) diff[r + 1] -= delta;\n    }\n\n    int[] res = new int[n];\n    int cur = 0;\n    for (int i = 0; i < n; i++) {\n        cur += diff[i];\n        res[i] = cur;\n    }\n\n    return res;\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u9002\u7528\u573a\u666f\u603b\u7ed3",children:"\ud83c\udfaf \u9002\u7528\u573a\u666f\u603b\u7ed3"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u524d\u7f00\u548c"}),"\uff1a","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u533a\u95f4\u548c\u67e5\u8be2"}),"\n",(0,s.jsx)(e.li,{children:"\u5b50\u6570\u7ec4/\u5b50\u4e32\u7edf\u8ba1\uff08\u914d\u5408\u54c8\u5e0c\uff09"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u5dee\u5206"}),"\uff1a","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u591a\u6b21\u533a\u95f4\u66f4\u65b0"}),"\n",(0,s.jsx)(e.li,{children:"\u626b\u63cf\u7ebf\u7c7b\u95ee\u9898\uff08\u5dee\u5206 + \u524d\u7f00\u8fd8\u539f\uff09"}),"\n"]}),"\n"]}),"\n"]})]})}function o(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}}}]);