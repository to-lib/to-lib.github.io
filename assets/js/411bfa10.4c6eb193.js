"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[22355],{48885:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>d});var c=r(99378);const t={},i=c.createContext(t);function s(n){const e=c.useContext(i);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),c.createElement(i.Provider,{value:e},n.children)}},64675:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"docker/api","title":"Docker API","description":"Docker REST API \u4e0e SDK \u7f16\u7a0b\u6307\u5357","source":"@site/docs/docker/api.md","sourceDirName":"docker","slug":"/docker/api","permalink":"/docs/docker/api","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/docker/api.md","tags":[],"version":"current","sidebarPosition":28,"frontMatter":{"sidebar_position":28,"title":"Docker API","description":"Docker REST API \u4e0e SDK \u7f16\u7a0b\u6307\u5357"}}');var t=r(22714),i=r(48885);const s={sidebar_position:28,title:"Docker API",description:"Docker REST API \u4e0e SDK \u7f16\u7a0b\u6307\u5357"},d="Docker API",o={},l=[{value:"API \u6982\u8ff0",id:"api-\u6982\u8ff0",level:2},{value:"API \u7248\u672c",id:"api-\u7248\u672c",level:3},{value:"\u76f4\u63a5\u8c03\u7528 API",id:"\u76f4\u63a5\u8c03\u7528-api",level:2},{value:"\u4f7f\u7528 curl",id:"\u4f7f\u7528-curl",level:3},{value:"\u8fdc\u7a0b API\uff08\u5e26 TLS\uff09",id:"\u8fdc\u7a0b-api\u5e26-tls",level:3},{value:"\u5e38\u7528 API \u7aef\u70b9",id:"\u5e38\u7528-api-\u7aef\u70b9",level:2},{value:"\u5bb9\u5668\u64cd\u4f5c",id:"\u5bb9\u5668\u64cd\u4f5c",level:3},{value:"\u955c\u50cf\u64cd\u4f5c",id:"\u955c\u50cf\u64cd\u4f5c",level:3},{value:"Python SDK",id:"python-sdk",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:3},{value:"\u5bb9\u5668\u64cd\u4f5c",id:"\u5bb9\u5668\u64cd\u4f5c-1",level:3},{value:"\u955c\u50cf\u64cd\u4f5c",id:"\u955c\u50cf\u64cd\u4f5c-1",level:3},{value:"\u7f51\u7edc\u548c\u5377",id:"\u7f51\u7edc\u548c\u5377",level:3},{value:"Go SDK",id:"go-sdk",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5-1",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-1",level:3},{value:"\u521b\u5efa\u548c\u8fd0\u884c\u5bb9\u5668",id:"\u521b\u5efa\u548c\u8fd0\u884c\u5bb9\u5668",level:3},{value:"Node.js SDK",id:"nodejs-sdk",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5-2",level:3},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528-2",level:3},{value:"\u4e8b\u4ef6\u76d1\u542c",id:"\u4e8b\u4ef6\u76d1\u542c",level:2},{value:"Python",id:"python",level:3},{value:"Go",id:"go",level:3},{value:"\u5b89\u5168\u6ce8\u610f\u4e8b\u9879",id:"\u5b89\u5168\u6ce8\u610f\u4e8b\u9879",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"docker-api",children:"Docker API"})}),"\n",(0,t.jsx)(e.p,{children:"Docker \u63d0\u4f9b REST API \u7528\u4e8e\u7a0b\u5e8f\u5316\u7ba1\u7406\u5bb9\u5668\u3001\u955c\u50cf\u3001\u7f51\u7edc\u7b49\u8d44\u6e90\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"api-\u6982\u8ff0",children:"API \u6982\u8ff0"}),"\n",(0,t.jsx)(e.p,{children:"Docker API \u901a\u8fc7 Unix socket \u6216 TCP \u7aef\u53e3\u66b4\u9732\uff1a"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u672c\u5730\uff1a",(0,t.jsx)(e.code,{children:"/var/run/docker.sock"})]}),"\n",(0,t.jsxs)(e.li,{children:["\u8fdc\u7a0b\uff1a",(0,t.jsx)(e.code,{children:"tcp://host:2376"}),"\uff08\u5e26 TLS\uff09"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"api-\u7248\u672c",children:"API \u7248\u672c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u67e5\u770b API \u7248\u672c\ndocker version --format '{{.Server.APIVersion}}'\n\n# API \u7aef\u70b9\u5e26\u7248\u672c\u524d\u7f00\n# /v1.44/containers/json\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u76f4\u63a5\u8c03\u7528-api",children:"\u76f4\u63a5\u8c03\u7528 API"}),"\n",(0,t.jsx)(e.h3,{id:"\u4f7f\u7528-curl",children:"\u4f7f\u7528 curl"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# \u901a\u8fc7 Unix socket\ncurl --unix-socket /var/run/docker.sock http://localhost/version\n\n# \u5217\u51fa\u5bb9\u5668\ncurl --unix-socket /var/run/docker.sock http://localhost/containers/json\n\n# \u5217\u51fa\u955c\u50cf\ncurl --unix-socket /var/run/docker.sock http://localhost/images/json\n\n# \u521b\u5efa\u5bb9\u5668\ncurl --unix-socket /var/run/docker.sock \\\n  -H "Content-Type: application/json" \\\n  -d \'{"Image": "nginx", "ExposedPorts": {"80/tcp": {}}}\' \\\n  http://localhost/containers/create?name=mynginx\n\n# \u542f\u52a8\u5bb9\u5668\ncurl --unix-socket /var/run/docker.sock \\\n  -X POST \\\n  http://localhost/containers/mynginx/start\n\n# \u505c\u6b62\u5bb9\u5668\ncurl --unix-socket /var/run/docker.sock \\\n  -X POST \\\n  http://localhost/containers/mynginx/stop\n\n# \u5220\u9664\u5bb9\u5668\ncurl --unix-socket /var/run/docker.sock \\\n  -X DELETE \\\n  http://localhost/containers/mynginx\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u8fdc\u7a0b-api\u5e26-tls",children:"\u8fdc\u7a0b API\uff08\u5e26 TLS\uff09"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"curl --cacert ca.pem --cert cert.pem --key key.pem \\\n  https://docker-host:2376/version\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5e38\u7528-api-\u7aef\u70b9",children:"\u5e38\u7528 API \u7aef\u70b9"}),"\n",(0,t.jsx)(e.h3,{id:"\u5bb9\u5668\u64cd\u4f5c",children:"\u5bb9\u5668\u64cd\u4f5c"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u65b9\u6cd5"}),(0,t.jsx)(e.th,{children:"\u7aef\u70b9"}),(0,t.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"GET"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/json"})}),(0,t.jsx)(e.td,{children:"\u5217\u51fa\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/create"})}),(0,t.jsx)(e.td,{children:"\u521b\u5efa\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/start"})}),(0,t.jsx)(e.td,{children:"\u542f\u52a8\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/stop"})}),(0,t.jsx)(e.td,{children:"\u505c\u6b62\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/restart"})}),(0,t.jsx)(e.td,{children:"\u91cd\u542f\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DELETE"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id"})}),(0,t.jsx)(e.td,{children:"\u5220\u9664\u5bb9\u5668"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"GET"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/logs"})}),(0,t.jsx)(e.td,{children:"\u83b7\u53d6\u65e5\u5fd7"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"GET"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/stats"})}),(0,t.jsx)(e.td,{children:"\u83b7\u53d6\u7edf\u8ba1"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/containers/:id/exec"})}),(0,t.jsx)(e.td,{children:"\u521b\u5efa exec"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"\u955c\u50cf\u64cd\u4f5c",children:"\u955c\u50cf\u64cd\u4f5c"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u65b9\u6cd5"}),(0,t.jsx)(e.th,{children:"\u7aef\u70b9"}),(0,t.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"GET"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/images/json"})}),(0,t.jsx)(e.td,{children:"\u5217\u51fa\u955c\u50cf"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/images/create"})}),(0,t.jsx)(e.td,{children:"\u62c9\u53d6\u955c\u50cf"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/build"})}),(0,t.jsx)(e.td,{children:"\u6784\u5efa\u955c\u50cf"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DELETE"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/images/:name"})}),(0,t.jsx)(e.td,{children:"\u5220\u9664\u955c\u50cf"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"POST"}),(0,t.jsx)(e.td,{children:(0,t.jsx)(e.code,{children:"/images/:name/push"})}),(0,t.jsx)(e.td,{children:"\u63a8\u9001\u955c\u50cf"})]})]})]}),"\n",(0,t.jsx)(e.h2,{id:"python-sdk",children:"Python SDK"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"pip install docker\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"import docker\n\n# \u8fde\u63a5\u672c\u5730 Docker\nclient = docker.from_env()\n\n# \u6216\u6307\u5b9a\u8fde\u63a5\nclient = docker.DockerClient(base_url='unix://var/run/docker.sock')\n# client = docker.DockerClient(base_url='tcp://192.168.1.100:2376')\n\n# \u67e5\u770b\u7248\u672c\nprint(client.version())\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u5bb9\u5668\u64cd\u4f5c-1",children:"\u5bb9\u5668\u64cd\u4f5c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'import docker\nclient = docker.from_env()\n\n# \u8fd0\u884c\u5bb9\u5668\ncontainer = client.containers.run(\n    "nginx",\n    detach=True,\n    ports={\'80/tcp\': 8080},\n    name="my-nginx"\n)\n\n# \u5217\u51fa\u5bb9\u5668\nfor c in client.containers.list():\n    print(f"{c.name}: {c.status}")\n\n# \u83b7\u53d6\u5bb9\u5668\ncontainer = client.containers.get("my-nginx")\n\n# \u5bb9\u5668\u64cd\u4f5c\ncontainer.stop()\ncontainer.start()\ncontainer.restart()\ncontainer.remove()\n\n# \u6267\u884c\u547d\u4ee4\nresult = container.exec_run("ls -la")\nprint(result.output.decode())\n\n# \u67e5\u770b\u65e5\u5fd7\nlogs = container.logs()\nprint(logs.decode())\n\n# \u6d41\u5f0f\u65e5\u5fd7\nfor log in container.logs(stream=True):\n    print(log.decode(), end=\'\')\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u955c\u50cf\u64cd\u4f5c-1",children:"\u955c\u50cf\u64cd\u4f5c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# \u62c9\u53d6\u955c\u50cf\nimage = client.images.pull("nginx:latest")\n\n# \u5217\u51fa\u955c\u50cf\nfor img in client.images.list():\n    print(img.tags)\n\n# \u6784\u5efa\u955c\u50cf\nimage, logs = client.images.build(\n    path=".",\n    tag="myapp:v1",\n    rm=True\n)\nfor log in logs:\n    print(log)\n\n# \u63a8\u9001\u955c\u50cf\nclient.images.push("myregistry/myapp:v1")\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u7f51\u7edc\u548c\u5377",children:"\u7f51\u7edc\u548c\u5377"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# \u521b\u5efa\u7f51\u7edc\nnetwork = client.networks.create("mynet", driver="bridge")\n\n# \u521b\u5efa\u5377\nvolume = client.volumes.create("mydata")\n\n# \u8fd0\u884c\u5bb9\u5668\u5e76\u8fde\u63a5\ncontainer = client.containers.run(\n    "nginx",\n    detach=True,\n    network="mynet",\n    volumes={"mydata": {"bind": "/data", "mode": "rw"}}\n)\n'})}),"\n",(0,t.jsx)(e.h2,{id:"go-sdk",children:"Go SDK"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b89\u88c5-1",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"go get github.com/docker/docker/client\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u4f7f\u7528-1",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "fmt"\n    "github.com/docker/docker/api/types"\n    "github.com/docker/docker/api/types/container"\n    "github.com/docker/docker/client"\n)\n\nfunc main() {\n    ctx := context.Background()\n    cli, err := client.NewClientWithOpts(client.FromEnv)\n    if err != nil {\n        panic(err)\n    }\n    defer cli.Close()\n\n    // \u5217\u51fa\u5bb9\u5668\n    containers, err := cli.ContainerList(ctx, container.ListOptions{})\n    if err != nil {\n        panic(err)\n    }\n\n    for _, c := range containers {\n        fmt.Printf("%s: %s\\n", c.Names[0], c.State)\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u521b\u5efa\u548c\u8fd0\u884c\u5bb9\u5668",children:"\u521b\u5efa\u548c\u8fd0\u884c\u5bb9\u5668"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/docker/docker/api/types/container"\n    "github.com/docker/docker/api/types/image"\n    "github.com/docker/docker/client"\n    "github.com/docker/go-connections/nat"\n    "io"\n    "os"\n)\n\nfunc main() {\n    ctx := context.Background()\n    cli, _ := client.NewClientWithOpts(client.FromEnv)\n\n    // \u62c9\u53d6\u955c\u50cf\n    reader, _ := cli.ImagePull(ctx, "nginx:latest", image.PullOptions{})\n    io.Copy(os.Stdout, reader)\n\n    // \u521b\u5efa\u5bb9\u5668\n    resp, _ := cli.ContainerCreate(ctx,\n        &container.Config{\n            Image: "nginx",\n            ExposedPorts: nat.PortSet{\n                "80/tcp": struct{}{},\n            },\n        },\n        &container.HostConfig{\n            PortBindings: nat.PortMap{\n                "80/tcp": []nat.PortBinding{\n                    {HostIP: "0.0.0.0", HostPort: "8080"},\n                },\n            },\n        },\n        nil, nil, "my-nginx")\n\n    // \u542f\u52a8\u5bb9\u5668\n    cli.ContainerStart(ctx, resp.ID, container.StartOptions{})\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"nodejs-sdk",children:"Node.js SDK"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b89\u88c5-2",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"npm install dockerode\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u57fa\u672c\u4f7f\u7528-2",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'const Docker = require("dockerode");\nconst docker = new Docker({ socketPath: "/var/run/docker.sock" });\n\n// \u5217\u51fa\u5bb9\u5668\nasync function listContainers() {\n  const containers = await docker.listContainers();\n  containers.forEach((c) => {\n    console.log(`${c.Names[0]}: ${c.State}`);\n  });\n}\n\n// \u8fd0\u884c\u5bb9\u5668\nasync function runContainer() {\n  const container = await docker.createContainer({\n    Image: "nginx",\n    name: "my-nginx",\n    ExposedPorts: { "80/tcp": {} },\n    HostConfig: {\n      PortBindings: { "80/tcp": [{ HostPort: "8080" }] },\n    },\n  });\n  await container.start();\n  return container;\n}\n\n// \u6267\u884c\u547d\u4ee4\nasync function execCommand(containerId, cmd) {\n  const container = docker.getContainer(containerId);\n  const exec = await container.exec({\n    Cmd: cmd,\n    AttachStdout: true,\n    AttachStderr: true,\n  });\n  const stream = await exec.start();\n  stream.pipe(process.stdout);\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u4e8b\u4ef6\u76d1\u542c",children:"\u4e8b\u4ef6\u76d1\u542c"}),"\n",(0,t.jsx)(e.h3,{id:"python",children:"Python"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# \u76d1\u542c Docker \u4e8b\u4ef6\nfor event in client.events(decode=True):\n    print(f\"{event['Type']}: {event['Action']} - {event.get('Actor', {}).get('Attributes', {}).get('name', '')}\")\n"})}),"\n",(0,t.jsx)(e.h3,{id:"go",children:"Go"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'events, errs := cli.Events(ctx, types.EventsOptions{})\nfor {\n    select {\n    case event := <-events:\n        fmt.Printf("%s: %s\\n", event.Type, event.Action)\n    case err := <-errs:\n        fmt.Println(err)\n        return\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u5b89\u5168\u6ce8\u610f\u4e8b\u9879",children:"\u5b89\u5168\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u4e0d\u8981\u5c06 Docker socket \u66b4\u9732\u7ed9\u4e0d\u4fe1\u4efb\u7684\u5bb9\u5668\n# \u8fd9\u76f8\u5f53\u4e8e\u7ed9\u4e88 root \u6743\u9650\n\n# \u274c \u5371\u9669\ndocker run -v /var/run/docker.sock:/var/run/docker.sock untrusted-image\n\n# \u2705 \u4f7f\u7528 API \u4ee3\u7406\u9650\u5236\u6743\u9650\n# \u5982 Tecnativa/docker-socket-proxy\ndocker run -d \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  -e CONTAINERS=1 \\\n  -e IMAGES=1 \\\n  -p 2375:2375 \\\n  tecnativa/docker-socket-proxy\n"})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}}}]);