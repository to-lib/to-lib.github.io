"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[88326],{21994:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>p,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"kubernetes/deployments","title":"Deployment \u4e0e ReplicaSet","description":"\u5de5\u4f5c\u8d1f\u8f7d\u63a7\u5236\u5668\u8be6\u89e3","source":"@site/docs/kubernetes/deployments.md","sourceDirName":"kubernetes","slug":"/kubernetes/deployments","permalink":"/docs/kubernetes/deployments","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/kubernetes/deployments.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Deployment \u4e0e ReplicaSet","description":"\u5de5\u4f5c\u8d1f\u8f7d\u63a7\u5236\u5668\u8be6\u89e3"},"sidebar":"kubernetes","previous":{"title":"Pod \u8be6\u89e3","permalink":"/docs/kubernetes/pods"},"next":{"title":"Service \u670d\u52a1\u53d1\u73b0","permalink":"/docs/kubernetes/services"}}');var i=a(22714),t=a(48885);const s={sidebar_position:5,title:"Deployment \u4e0e ReplicaSet",description:"\u5de5\u4f5c\u8d1f\u8f7d\u63a7\u5236\u5668\u8be6\u89e3"},p="Deployment \u4e0e ReplicaSet",r={},c=[{value:"Deployment \u6982\u8ff0",id:"deployment-\u6982\u8ff0",level:2},{value:"\u57fa\u672c Deployment",id:"\u57fa\u672c-deployment",level:2},{value:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b",id:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b",level:2},{value:"\u66f4\u65b0\u7b56\u7565",id:"\u66f4\u65b0\u7b56\u7565",level:2},{value:"RollingUpdate\uff08\u6eda\u52a8\u66f4\u65b0\uff09",id:"rollingupdate\u6eda\u52a8\u66f4\u65b0",level:3},{value:"Recreate\uff08\u91cd\u5efa\uff09",id:"recreate\u91cd\u5efa",level:3},{value:"Deployment \u64cd\u4f5c",id:"deployment-\u64cd\u4f5c",level:2},{value:"\u521b\u5efa\u4e0e\u67e5\u770b",id:"\u521b\u5efa\u4e0e\u67e5\u770b",level:3},{value:"\u6269\u7f29\u5bb9",id:"\u6269\u7f29\u5bb9",level:3},{value:"\u66f4\u65b0\u955c\u50cf",id:"\u66f4\u65b0\u955c\u50cf",level:3},{value:"\u67e5\u770b\u66f4\u65b0\u72b6\u6001",id:"\u67e5\u770b\u66f4\u65b0\u72b6\u6001",level:3},{value:"\u56de\u6eda",id:"\u56de\u6eda",level:3},{value:"ReplicaSet",id:"replicaset",level:2},{value:"\u6807\u7b7e\u9009\u62e9\u5668",id:"\u6807\u7b7e\u9009\u62e9\u5668",level:3},{value:"\u84dd\u7eff\u90e8\u7f72",id:"\u84dd\u7eff\u90e8\u7f72",level:2},{value:"\u91d1\u4e1d\u96c0\u53d1\u5e03",id:"\u91d1\u4e1d\u96c0\u53d1\u5e03",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u8bbe\u7f6e\u8d44\u6e90\u9650\u5236",id:"1-\u8bbe\u7f6e\u8d44\u6e90\u9650\u5236",level:3},{value:"2. \u914d\u7f6e\u5065\u5eb7\u68c0\u67e5",id:"2-\u914d\u7f6e\u5065\u5eb7\u68c0\u67e5",level:3},{value:"3. \u4f7f\u7528 Pod Disruption Budget",id:"3-\u4f7f\u7528-pod-disruption-budget",level:3},{value:"4. \u914d\u7f6e\u53cd\u4eb2\u548c\u6027",id:"4-\u914d\u7f6e\u53cd\u4eb2\u548c\u6027",level:3},{value:"5. \u8bbe\u7f6e\u4f18\u96c5\u7ec8\u6b62",id:"5-\u8bbe\u7f6e\u4f18\u96c5\u7ec8\u6b62",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"deployment-\u4e0e-replicaset",children:"Deployment \u4e0e ReplicaSet"})}),"\n",(0,i.jsx)(n.h2,{id:"deployment-\u6982\u8ff0",children:"Deployment \u6982\u8ff0"}),"\n",(0,i.jsx)(n.p,{children:"Deployment \u662f\u7ba1\u7406\u65e0\u72b6\u6001\u5e94\u7528\u7684\u63a8\u8350\u65b9\u5f0f\uff0c\u63d0\u4f9b\u58f0\u660e\u5f0f\u66f4\u65b0\u3001\u6eda\u52a8\u53d1\u5e03\u3001\u56de\u6eda\u7b49\u529f\u80fd\u3002"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TB\n    D[Deployment] --\x3e RS1[ReplicaSet v1]\n    D --\x3e RS2[ReplicaSet v2]\n    RS1 --\x3e P1[Pod]\n    RS1 --\x3e P2[Pod]\n    RS2 --\x3e P3[Pod]\n    RS2 --\x3e P4[Pod]\n    RS2 --\x3e P5[Pod]"}),"\n",(0,i.jsx)(n.h2,{id:"\u57fa\u672c-deployment",children:"\u57fa\u672c Deployment"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n        - name: nginx\n          image: nginx:1.24\n          ports:\n            - containerPort: 80\n          resources:\n            requests:\n              memory: "64Mi"\n              cpu: "250m"\n            limits:\n              memory: "128Mi"\n              cpu: "500m"\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b",children:"\u5b8c\u6574\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app\n  namespace: production\n  labels:\n    app: web\n    version: v1.0.0\n  annotations:\n    kubernetes.io/change-cause: "Update to version 1.0.0"\nspec:\n  replicas: 5\n  revisionHistoryLimit: 10 # \u4fdd\u7559\u7684\u5386\u53f2\u7248\u672c\u6570\n  progressDeadlineSeconds: 600 # \u90e8\u7f72\u8d85\u65f6\u65f6\u95f4\n\n  selector:\n    matchLabels:\n      app: web\n\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 25% # \u6700\u5927\u989d\u5916 Pod \u6570\n      maxUnavailable: 25% # \u6700\u5927\u4e0d\u53ef\u7528 Pod \u6570\n\n  template:\n    metadata:\n      labels:\n        app: web\n        version: v1.0.0\n    spec:\n      containers:\n        - name: web\n          image: my-web-app:1.0.0\n          ports:\n            - name: http\n              containerPort: 8080\n\n          env:\n            - name: APP_ENV\n              value: "production"\n\n          resources:\n            requests:\n              memory: "256Mi"\n              cpu: "500m"\n            limits:\n              memory: "512Mi"\n              cpu: "1000m"\n\n          livenessProbe:\n            httpGet:\n              path: /healthz\n              port: 8080\n            initialDelaySeconds: 30\n            periodSeconds: 10\n\n          readinessProbe:\n            httpGet:\n              path: /ready\n              port: 8080\n            initialDelaySeconds: 5\n            periodSeconds: 5\n\n      # \u4f18\u96c5\u7ec8\u6b62\u65f6\u95f4\n      terminationGracePeriodSeconds: 60\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u66f4\u65b0\u7b56\u7565",children:"\u66f4\u65b0\u7b56\u7565"}),"\n",(0,i.jsx)(n.h3,{id:"rollingupdate\u6eda\u52a8\u66f4\u65b0",children:"RollingUpdate\uff08\u6eda\u52a8\u66f4\u65b0\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 1 # \u989d\u5916\u521b\u5efa 1 \u4e2a Pod\n      maxUnavailable: 0 # \u4e0d\u5141\u8bb8\u4e0d\u53ef\u7528\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u66f4\u65b0\u8fc7\u7a0b"}),"\uff1a"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u521b\u5efa\u65b0\u7684 ReplicaSet"}),"\n",(0,i.jsx)(n.li,{children:"\u9010\u6b65\u589e\u52a0\u65b0 ReplicaSet \u7684\u526f\u672c"}),"\n",(0,i.jsx)(n.li,{children:"\u9010\u6b65\u51cf\u5c11\u65e7 ReplicaSet \u7684\u526f\u672c"}),"\n",(0,i.jsx)(n.li,{children:"\u76f4\u5230\u5168\u90e8\u66f4\u65b0\u5b8c\u6210"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"recreate\u91cd\u5efa",children:"Recreate\uff08\u91cd\u5efa\uff09"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  strategy:\n    type: Recreate\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u66f4\u65b0\u8fc7\u7a0b"}),"\uff1a"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5220\u9664\u6240\u6709\u65e7 Pod"}),"\n",(0,i.jsx)(n.li,{children:"\u521b\u5efa\u6240\u6709\u65b0 Pod"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u9002\u7528\u4e8e\uff1a\u4e0d\u5141\u8bb8\u591a\u7248\u672c\u540c\u65f6\u8fd0\u884c\u7684\u5e94\u7528"}),"\n",(0,i.jsx)(n.h2,{id:"deployment-\u64cd\u4f5c",children:"Deployment \u64cd\u4f5c"}),"\n",(0,i.jsx)(n.h3,{id:"\u521b\u5efa\u4e0e\u67e5\u770b",children:"\u521b\u5efa\u4e0e\u67e5\u770b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa Deployment\nkubectl apply -f deployment.yaml\n\n# \u5feb\u901f\u521b\u5efa\nkubectl create deployment nginx --image=nginx:1.24 --replicas=3\n\n# \u67e5\u770b Deployment\nkubectl get deployments\nkubectl get deploy nginx -o wide\n\n# \u67e5\u770b\u8be6\u60c5\nkubectl describe deployment nginx\n\n# \u67e5\u770b\u5173\u8054\u7684 ReplicaSet\nkubectl get rs -l app=nginx\n\n# \u67e5\u770b\u5173\u8054\u7684 Pod\nkubectl get pods -l app=nginx\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6269\u7f29\u5bb9",children:"\u6269\u7f29\u5bb9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u6269\u7f29\u5bb9\nkubectl scale deployment nginx --replicas=5\n\n# \u81ea\u52a8\u6269\u7f29\u5bb9\nkubectl autoscale deployment nginx --min=2 --max=10 --cpu-percent=80\n\n# \u67e5\u770b HPA\nkubectl get hpa\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u66f4\u65b0\u955c\u50cf",children:"\u66f4\u65b0\u955c\u50cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# \u66f4\u65b0\u955c\u50cf\nkubectl set image deployment/nginx nginx=nginx:1.25\n\n# \u66f4\u65b0\u591a\u4e2a\u5bb9\u5668\nkubectl set image deployment/web web=app:v2 sidecar=sidecar:v2\n\n# \u7f16\u8f91 Deployment\nkubectl edit deployment nginx\n\n# \u8bb0\u5f55\u66f4\u65b0\u539f\u56e0\nkubectl annotate deployment nginx kubernetes.io/change-cause="Update to 1.25"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u67e5\u770b\u66f4\u65b0\u72b6\u6001",children:"\u67e5\u770b\u66f4\u65b0\u72b6\u6001"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u6eda\u52a8\u66f4\u65b0\u72b6\u6001\nkubectl rollout status deployment/nginx\n\n# \u67e5\u770b\u66f4\u65b0\u5386\u53f2\nkubectl rollout history deployment/nginx\n\n# \u67e5\u770b\u7279\u5b9a\u7248\u672c\nkubectl rollout history deployment/nginx --revision=2\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u56de\u6eda",children:"\u56de\u6eda"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# \u56de\u6eda\u5230\u4e0a\u4e00\u7248\u672c\nkubectl rollout undo deployment/nginx\n\n# \u56de\u6eda\u5230\u6307\u5b9a\u7248\u672c\nkubectl rollout undo deployment/nginx --to-revision=2\n\n# \u6682\u505c\u66f4\u65b0\nkubectl rollout pause deployment/nginx\n\n# \u6062\u590d\u66f4\u65b0\nkubectl rollout resume deployment/nginx\n\n# \u91cd\u542f Deployment\nkubectl rollout restart deployment/nginx\n"})}),"\n",(0,i.jsx)(n.h2,{id:"replicaset",children:"ReplicaSet"}),"\n",(0,i.jsx)(n.p,{children:"ReplicaSet \u786e\u4fdd\u6307\u5b9a\u6570\u91cf\u7684 Pod \u526f\u672c\u8fd0\u884c\u3002\u901a\u5e38\u7531 Deployment \u81ea\u52a8\u7ba1\u7406\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  name: nginx-rs\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n        - name: nginx\n          image: nginx:1.24\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u6807\u7b7e\u9009\u62e9\u5668",children:"\u6807\u7b7e\u9009\u62e9\u5668"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  selector:\n    # \u7b49\u503c\u9009\u62e9\n    matchLabels:\n      app: nginx\n      env: production\n\n    # \u96c6\u5408\u9009\u62e9\n    matchExpressions:\n      - key: tier\n        operator: In\n        values:\n          - frontend\n          - backend\n      - key: environment\n        operator: NotIn\n        values:\n          - dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u64cd\u4f5c\u7b26\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"In"}),"\uff1a\u6807\u7b7e\u503c\u5728\u5217\u8868\u4e2d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NotIn"}),"\uff1a\u6807\u7b7e\u503c\u4e0d\u5728\u5217\u8868\u4e2d"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Exists"}),"\uff1a\u6807\u7b7e\u5b58\u5728"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DoesNotExist"}),"\uff1a\u6807\u7b7e\u4e0d\u5b58\u5728"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u84dd\u7eff\u90e8\u7f72",children:"\u84dd\u7eff\u90e8\u7f72"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# Blue Deployment\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-blue\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n      version: blue\n  template:\n    metadata:\n      labels:\n        app: myapp\n        version: blue\n    spec:\n      containers:\n        - name: app\n          image: myapp:1.0\n\n---\n# Green Deployment\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-green\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: myapp\n      version: green\n  template:\n    metadata:\n      labels:\n        app: myapp\n        version: green\n    spec:\n      containers:\n        - name: app\n          image: myapp:2.0\n\n---\n# Service\uff08\u5207\u6362 selector \u5b9e\u73b0\u84dd\u7eff\u5207\u6362\uff09\napiVersion: v1\nkind: Service\nmetadata:\n  name: app-service\nspec:\n  selector:\n    app: myapp\n    version: blue # \u5207\u6362\u4e3a green \u5b9e\u73b0\u84dd\u7eff\u5207\u6362\n  ports:\n    - port: 80\n      targetPort: 8080\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u91d1\u4e1d\u96c0\u53d1\u5e03",children:"\u91d1\u4e1d\u96c0\u53d1\u5e03"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"# \u7a33\u5b9a\u7248\u672c\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-stable\nspec:\n  replicas: 9 # 90% \u6d41\u91cf\n  selector:\n    matchLabels:\n      app: myapp\n      track: stable\n  template:\n    metadata:\n      labels:\n        app: myapp\n        track: stable\n    spec:\n      containers:\n        - name: app\n          image: myapp:1.0\n\n---\n# \u91d1\u4e1d\u96c0\u7248\u672c\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-canary\nspec:\n  replicas: 1 # 10% \u6d41\u91cf\n  selector:\n    matchLabels:\n      app: myapp\n      track: canary\n  template:\n    metadata:\n      labels:\n        app: myapp\n        track: canary\n    spec:\n      containers:\n        - name: app\n          image: myapp:2.0\n\n---\n# Service\uff08\u540c\u65f6\u9009\u62e9\u4e24\u4e2a\u7248\u672c\uff09\napiVersion: v1\nkind: Service\nmetadata:\n  name: app-service\nspec:\n  selector:\n    app: myapp # \u4e0d\u5305\u542b track \u6807\u7b7e\uff0c\u540c\u65f6\u9009\u62e9\u4e24\u4e2a\u7248\u672c\n  ports:\n    - port: 80\n      targetPort: 8080\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,i.jsx)(n.h3,{id:"1-\u8bbe\u7f6e\u8d44\u6e90\u9650\u5236",children:"1. \u8bbe\u7f6e\u8d44\u6e90\u9650\u5236"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'resources:\n  requests:\n    memory: "128Mi"\n    cpu: "100m"\n  limits:\n    memory: "256Mi"\n    cpu: "200m"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-\u914d\u7f6e\u5065\u5eb7\u68c0\u67e5",children:"2. \u914d\u7f6e\u5065\u5eb7\u68c0\u67e5"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"livenessProbe:\n  httpGet:\n    path: /healthz\n    port: 8080\n  initialDelaySeconds: 30\n  periodSeconds: 10\n\nreadinessProbe:\n  httpGet:\n    path: /ready\n    port: 8080\n  initialDelaySeconds: 5\n  periodSeconds: 5\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-\u4f7f\u7528-pod-disruption-budget",children:"3. \u4f7f\u7528 Pod Disruption Budget"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"apiVersion: policy/v1\nkind: PodDisruptionBudget\nmetadata:\n  name: app-pdb\nspec:\n  minAvailable: 2 # \u6216 maxUnavailable: 1\n  selector:\n    matchLabels:\n      app: myapp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-\u914d\u7f6e\u53cd\u4eb2\u548c\u6027",children:"4. \u914d\u7f6e\u53cd\u4eb2\u548c\u6027"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"spec:\n  affinity:\n    podAntiAffinity:\n      preferredDuringSchedulingIgnoredDuringExecution:\n        - weight: 100\n          podAffinityTerm:\n            labelSelector:\n              matchLabels:\n                app: myapp\n            topologyKey: kubernetes.io/hostname\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-\u8bbe\u7f6e\u4f18\u96c5\u7ec8\u6b62",children:"5. \u8bbe\u7f6e\u4f18\u96c5\u7ec8\u6b62"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'spec:\n  terminationGracePeriodSeconds: 60\n  containers:\n    - name: app\n      lifecycle:\n        preStop:\n          exec:\n            command: ["/bin/sh", "-c", "sleep 10"]\n'})})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},48885:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>p});var l=a(99378);const i={},t=l.createContext(i);function s(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function p(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);