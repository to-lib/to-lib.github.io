"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[3048],{1266:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>a});var r=i(9378);const s={},l=r.createContext(s);function t(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),r.createElement(l.Provider,{value:e},n.children)}},6276:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"spring/faq","title":"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54","description":"1. \u4f9d\u8d56\u6ce8\u5165\u76f8\u5173","source":"@site/docs/spring/faq.md","sourceDirName":"spring","slug":"/spring/faq","permalink":"/docs/spring/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/spring/faq.md","tags":[],"version":"current","sidebarPosition":97,"frontMatter":{"id":"faq","title":"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54","sidebar_label":"\u5e38\u89c1\u95ee\u9898","sidebar_position":97},"sidebar":"docsSidebar","previous":{"title":"Spring MVC","permalink":"/docs/spring/spring-mvc"},"next":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/spring/best-practices"}}');var s=i(2714),l=i(1266);const t={id:"faq",title:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",sidebar_label:"\u5e38\u89c1\u95ee\u9898",sidebar_position:97},a="Spring Framework \u5e38\u89c1\u95ee\u9898\u89e3\u7b54",o={},c=[{value:"1. \u4f9d\u8d56\u6ce8\u5165\u76f8\u5173",id:"1-\u4f9d\u8d56\u6ce8\u5165\u76f8\u5173",level:2},{value:"Q1: \u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528@Autowired\uff1f",id:"q1-\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528autowired",level:3},{value:"Q2: \u5982\u4f55\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u95ee\u9898\uff1f",id:"q2-\u5982\u4f55\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u95ee\u9898",level:3},{value:"Q3: \u5982\u4f55\u5904\u7406Bean\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff1f",id:"q3-\u5982\u4f55\u5904\u7406bean\u4e0d\u5b58\u5728\u7684\u60c5\u51b5",level:3},{value:"Q4: \u591a\u4e2aBean\u5b9e\u73b0\u540c\u4e00\u63a5\u53e3\u600e\u4e48\u529e\uff1f",id:"q4-\u591a\u4e2abean\u5b9e\u73b0\u540c\u4e00\u63a5\u53e3\u600e\u4e48\u529e",level:3},{value:"2. Bean\u751f\u547d\u5468\u671f\u76f8\u5173",id:"2-bean\u751f\u547d\u5468\u671f\u76f8\u5173",level:2},{value:"Q5: Bean\u7684\u521d\u59cb\u5316\u987a\u5e8f\u662f\u4ec0\u4e48\uff1f",id:"q5-bean\u7684\u521d\u59cb\u5316\u987a\u5e8f\u662f\u4ec0\u4e48",level:3},{value:"Q6: \u5982\u4f55\u5728Bean\u521d\u59cb\u5316\u540e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\uff1f",id:"q6-\u5982\u4f55\u5728bean\u521d\u59cb\u5316\u540e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c",level:3},{value:"3. \u914d\u7f6e\u76f8\u5173",id:"3-\u914d\u7f6e\u76f8\u5173",level:2},{value:"Q7: \u5982\u4f55\u5207\u6362\u4e0d\u540c\u7684\u914d\u7f6e\uff1f",id:"q7-\u5982\u4f55\u5207\u6362\u4e0d\u540c\u7684\u914d\u7f6e",level:3},{value:"Q8: \u5982\u4f55\u6ce8\u5165\u914d\u7f6e\u503c\uff1f",id:"q8-\u5982\u4f55\u6ce8\u5165\u914d\u7f6e\u503c",level:3},{value:"4. \u4e8b\u52a1\u76f8\u5173",id:"4-\u4e8b\u52a1\u76f8\u5173",level:2},{value:"Q9: @Transactional\u4e0d\u751f\u6548\u600e\u4e48\u529e\uff1f",id:"q9-transactional\u4e0d\u751f\u6548\u600e\u4e48\u529e",level:3},{value:"Q10: \u4e8b\u52a1\u56de\u6eda\u4e0d\u8d77\u4f5c\u7528\uff1f",id:"q10-\u4e8b\u52a1\u56de\u6eda\u4e0d\u8d77\u4f5c\u7528",level:3},{value:"5. Web\u76f8\u5173",id:"5-web\u76f8\u5173",level:2},{value:"Q11: \u5982\u4f55\u5904\u7406CORS\u95ee\u9898\uff1f",id:"q11-\u5982\u4f55\u5904\u7406cors\u95ee\u9898",level:3},{value:"Q12: \u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u53c2\u6570\uff1f",id:"q12-\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u53c2\u6570",level:3},{value:"Q13: \u5982\u4f55\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790\uff1f",id:"q13-\u5982\u4f55\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790",level:3},{value:"6. AOP\u76f8\u5173",id:"6-aop\u76f8\u5173",level:2},{value:"Q14: \u4e3a\u4ec0\u4e48AOP\u4e0d\u751f\u6548\uff1f",id:"q14-\u4e3a\u4ec0\u4e48aop\u4e0d\u751f\u6548",level:3},{value:"Q15: \u5982\u4f55\u5728AOP\u4e2d\u83b7\u53d6\u65b9\u6cd5\u53c2\u6570\uff1f",id:"q15-\u5982\u4f55\u5728aop\u4e2d\u83b7\u53d6\u65b9\u6cd5\u53c2\u6570",level:3},{value:"7. \u5176\u4ed6\u95ee\u9898",id:"7-\u5176\u4ed6\u95ee\u9898",level:2},{value:"Q16: \u5982\u4f55\u8bbf\u95eeApplicationContext\uff1f",id:"q16-\u5982\u4f55\u8bbf\u95eeapplicationcontext",level:3},{value:"Q17: \u5982\u4f55\u5ef6\u8fdf\u521d\u59cb\u5316Bean\uff1f",id:"q17-\u5982\u4f55\u5ef6\u8fdf\u521d\u59cb\u5316bean",level:3},{value:"Q18: \u5982\u4f55\u6761\u4ef6\u5316\u521b\u5efaBean\uff1f",id:"q18-\u5982\u4f55\u6761\u4ef6\u5316\u521b\u5efabean",level:3},{value:"Q19: \u5982\u4f55\u907f\u514dNullPointerException\uff1f",id:"q19-\u5982\u4f55\u907f\u514dnullpointerexception",level:3},{value:"Q20: Spring\u548cSpring Boot\u7684\u533a\u522b\uff1f",id:"q20-spring\u548cspring-boot\u7684\u533a\u522b",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"spring-framework-\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",children:"Spring Framework \u5e38\u89c1\u95ee\u9898\u89e3\u7b54"})}),"\n",(0,s.jsx)(e.h2,{id:"1-\u4f9d\u8d56\u6ce8\u5165\u76f8\u5173",children:"1. \u4f9d\u8d56\u6ce8\u5165\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q1-\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528autowired",children:"Q1: \u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4f7f\u7528@Autowired\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u5728Spring\u7ba1\u7406\u7684Bean\u4e2d\u6ce8\u5165\u5176\u4ed6Bean\u65f6\u4f7f\u7528\u3002\u4f46\u6700\u597d\u7684\u5b9e\u8df5\u662f\u4f7f\u7528\u6784\u9020\u51fd\u6570\u6ce8\u5165\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u2705 \u6700\u4f73\u5b9e\u8df5\n@Component\npublic class MyService {\n    private final MyDependency dependency;\n    \n    public MyService(MyDependency dependency) {\n        this.dependency = dependency;\n    }\n}\n\n// \u6b21\u9009\n@Component\npublic class MyService {\n    @Autowired\n    public void setDependency(MyDependency dependency) {\n        this.dependency = dependency;\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q2-\u5982\u4f55\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u95ee\u9898",children:"Q2: \u5982\u4f55\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u95ee\u9898\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u91cd\u6784\u8bbe\u8ba1\uff0c\u63d0\u53d6\u516c\u5171\u903b\u8f91\u5230\u7b2c\u4e09\u4e2a\u7c7b\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u274c \u95ee\u9898\uff1a\u5faa\u73af\u4f9d\u8d56\n@Component\npublic class ServiceA {\n    @Autowired\n    private ServiceB serviceB;\n}\n\n@Component\npublic class ServiceB {\n    @Autowired\n    private ServiceA serviceA;\n}\n\n// \u2705 \u89e3\u51b3\n@Component\npublic class CommonService {\n    // \u516c\u5171\u903b\u8f91\n}\n\n@Component\npublic class ServiceA {\n    @Autowired\n    private CommonService common;\n}\n\n@Component\npublic class ServiceB {\n    @Autowired\n    private CommonService common;\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q3-\u5982\u4f55\u5904\u7406bean\u4e0d\u5b58\u5728\u7684\u60c5\u51b5",children:"Q3: \u5982\u4f55\u5904\u7406Bean\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528Optional\u6216ObjectProvider\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u65b9\u5f0f1\uff1a\u4f7f\u7528Optional\n@Component\npublic class MyService {\n    @Autowired\n    private Optional<OptionalDependency> dependency;\n    \n    public void process() {\n        dependency.ifPresent(dep -> dep.execute());\n    }\n}\n\n// \u65b9\u5f0f2\uff1a\u4f7f\u7528ObjectProvider\n@Component\npublic class MyService {\n    @Autowired\n    private ObjectProvider<OptionalDependency> dependency;\n    \n    public void process() {\n        ObjectProvider<OptionalDependency> dep = dependency.getIfAvailable();\n        if (dep != null) {\n            dep.execute();\n        }\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q4-\u591a\u4e2abean\u5b9e\u73b0\u540c\u4e00\u63a5\u53e3\u600e\u4e48\u529e",children:"Q4: \u591a\u4e2aBean\u5b9e\u73b0\u540c\u4e00\u63a5\u53e3\u600e\u4e48\u529e\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528@Qualifier\u6216@Primary\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Component\n@Qualifier("mysql")\npublic class MysqlRepository implements UserRepository {\n}\n\n@Component\n@Primary  // \u8bbe\u7f6e\u4e3a\u9996\u9009\npublic class MongoRepository implements UserRepository {\n}\n\n@Component\npublic class UserService {\n    // \u65b9\u5f0f1\uff1a\u4f7f\u7528@Qualifier\n    @Autowired\n    @Qualifier("mysql")\n    private UserRepository repo1;\n    \n    // \u65b9\u5f0f2\uff1a\u4f7f\u7528@Primary\n    @Autowired\n    private UserRepository repo2;  // \u9ed8\u8ba4\u6ce8\u5165MongoRepository\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"2-bean\u751f\u547d\u5468\u671f\u76f8\u5173",children:"2. Bean\u751f\u547d\u5468\u671f\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q5-bean\u7684\u521d\u59cb\u5316\u987a\u5e8f\u662f\u4ec0\u4e48",children:"Q5: Bean\u7684\u521d\u59cb\u5316\u987a\u5e8f\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"A:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5b9e\u4f8b\u5316"}),"\n",(0,s.jsx)(e.li,{children:"\u8bbe\u7f6e\u5c5e\u6027"}),"\n",(0,s.jsx)(e.li,{children:"@PostConstruct"}),"\n",(0,s.jsx)(e.li,{children:"InitializingBean.afterPropertiesSet()"}),"\n",(0,s.jsx)(e.li,{children:"\u81ea\u5b9a\u4e49init-method"}),"\n",(0,s.jsx)(e.li,{children:"\u4f7f\u7528\u4e2d"}),"\n",(0,s.jsx)(e.li,{children:"@PreDestroy"}),"\n",(0,s.jsx)(e.li,{children:"DisposableBean.destroy()"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Component\npublic class MyBean implements InitializingBean, DisposableBean {\n    \n    @PostConstruct\n    public void init1() {\n        System.out.println("1. @PostConstruct");\n    }\n    \n    @Override\n    public void afterPropertiesSet() {\n        System.out.println("2. afterPropertiesSet");\n    }\n    \n    public void init2() {\n        System.out.println("3. init-method");\n    }\n    \n    @PreDestroy\n    public void destroy1() {\n        System.out.println("4. @PreDestroy");\n    }\n    \n    @Override\n    public void destroy() {\n        System.out.println("5. destroy");\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q6-\u5982\u4f55\u5728bean\u521d\u59cb\u5316\u540e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c",children:"Q6: \u5982\u4f55\u5728Bean\u521d\u59cb\u5316\u540e\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528@PostConstruct\u6ce8\u89e3\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Component\npublic class DatabaseInitializer {\n    \n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    \n    @PostConstruct\n    public void init() {\n        // \u5728Bean\u521b\u5efa\u540e\u6267\u884c\n        jdbcTemplate.update("CREATE TABLE IF NOT EXISTS ...");\n        System.out.println("Database initialized");\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"3-\u914d\u7f6e\u76f8\u5173",children:"3. \u914d\u7f6e\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q7-\u5982\u4f55\u5207\u6362\u4e0d\u540c\u7684\u914d\u7f6e",children:"Q7: \u5982\u4f55\u5207\u6362\u4e0d\u540c\u7684\u914d\u7f6e\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528Spring Profiles\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# application.yml\nspring:\n  profiles:\n    active: dev\n\n---\n# application-dev.yml\nspring:\n  profiles: dev\n  datasource:\n    url: jdbc:mysql://localhost:3306/mydb_dev\n\n---\n# application-prod.yml\nspring:\n  profiles: prod\n  datasource:\n    url: jdbc:mysql://prod-server:3306/mydb_prod\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u8fd0\u884c\u65f6\u6307\u5b9a\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"java -jar app.jar --spring.profiles.active=prod\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q8-\u5982\u4f55\u6ce8\u5165\u914d\u7f6e\u503c",children:"Q8: \u5982\u4f55\u6ce8\u5165\u914d\u7f6e\u503c\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528@Value\u6216@ConfigurationProperties\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u65b9\u5f0f1\uff1a@Value\n@Component\npublic class AppConfig {\n    @Value("${app.name:Default}")\n    private String appName;\n    \n    @Value("${app.version}")\n    private String appVersion;\n}\n\n// \u65b9\u5f0f2\uff1a@ConfigurationProperties\uff08\u63a8\u8350\uff09\n@Configuration\n@ConfigurationProperties(prefix = "app")\n@Data\npublic class AppProperties {\n    private String name;\n    private String version;\n}\n\n@Component\npublic class MyService {\n    @Autowired\n    private AppProperties appProperties;\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"4-\u4e8b\u52a1\u76f8\u5173",children:"4. \u4e8b\u52a1\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q9-transactional\u4e0d\u751f\u6548\u600e\u4e48\u529e",children:"Q9: @Transactional\u4e0d\u751f\u6548\u600e\u4e48\u529e\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u68c0\u67e5\u4ee5\u4e0b\u51e0\u70b9\uff1a"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u65b9\u6cd5\u5fc5\u987b\u662fpublic"}),"\n",(0,s.jsx)(e.li,{children:"\u5fc5\u987b\u901a\u8fc7Spring\u5bb9\u5668\u8c03\u7528"}),"\n",(0,s.jsx)(e.li,{children:"\u786e\u4fdd\u542f\u7528\u4e86\u4e8b\u52a1\u7ba1\u7406"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u274c \u4e0d\u751f\u6548\uff1aprivate\u65b9\u6cd5\n@Service\npublic class UserService {\n    @Transactional\n    private void saveUser(User user) {  // private\u4e0d\u751f\u6548\n    }\n}\n\n// \u2705 \u6539\u4e3apublic\n@Service\npublic class UserService {\n    @Transactional\n    public void saveUser(User user) {\n    }\n}\n\n// \u274c \u4e0d\u751f\u6548\uff1aself-invocation\n@Service\npublic class UserService {\n    @Transactional\n    public void save(User user) {\n    }\n    \n    public void register(User user) {\n        save(user);  // \u4e8b\u52a1\u4e0d\u751f\u6548\uff0c\u5e94\u8be5\u7528\u4ee3\u7406\u8c03\u7528\n    }\n}\n\n// \u2705 \u89e3\u51b3\uff1a\u6ce8\u5165\u81ea\u5df1\n@Service\npublic class UserService {\n    @Autowired\n    private UserService self;\n    \n    @Transactional\n    public void save(User user) {\n    }\n    \n    public void register(User user) {\n        self.save(user);  // \u901a\u8fc7\u4ee3\u7406\u8c03\u7528\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q10-\u4e8b\u52a1\u56de\u6eda\u4e0d\u8d77\u4f5c\u7528",children:"Q10: \u4e8b\u52a1\u56de\u6eda\u4e0d\u8d77\u4f5c\u7528\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u68c0\u67e5\u5f02\u5e38\u7c7b\u578b\u548c\u914d\u7f6e\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u9ed8\u8ba4\u53ea\u5bf9RuntimeException\u56de\u6eda\n@Transactional\npublic void saveUser(User user) throws Exception {\n    userRepository.save(user);\n    throw new Exception("Error");  // \u4e0d\u4f1a\u56de\u6eda\n}\n\n// \u89e3\u51b3\uff1a\u6307\u5b9a\u56de\u6eda\u5f02\u5e38\n@Transactional(rollbackFor = Exception.class)\npublic void saveUser(User user) throws Exception {\n    userRepository.save(user);\n    throw new Exception("Error");  // \u4f1a\u56de\u6eda\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"5-web\u76f8\u5173",children:"5. Web\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q11-\u5982\u4f55\u5904\u7406cors\u95ee\u9898",children:"Q11: \u5982\u4f55\u5904\u7406CORS\u95ee\u9898\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u914d\u7f6eCORS\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u5168\u5c40CORS\u914d\u7f6e\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n    \n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping("/api/**")\n            .allowedOrigins("http://localhost:3000", "http://localhost:4200")\n            .allowedMethods("GET", "POST", "PUT", "DELETE")\n            .allowedHeaders("*")\n            .allowCredentials(true)\n            .maxAge(3600);\n    }\n}\n\n// \u6216\u5728Controller\u4e0a\n@RestController\n@RequestMapping("/api/users")\n@CrossOrigin(origins = "http://localhost:3000")\npublic class UserController {\n}\n\n// \u6216\u5728\u65b9\u6cd5\u4e0a\n@GetMapping("/{id}")\n@CrossOrigin\npublic User getUser(@PathVariable Long id) {\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q12-\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u53c2\u6570",children:"Q12: \u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u53c2\u6570\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528Bean Validation\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Data\npublic class UserDTO {\n    @NotNull(message = "ID\u4e0d\u80fd\u4e3a\u7a7a")\n    private Long id;\n    \n    @NotBlank(message = "\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")\n    private String name;\n    \n    @Email(message = "\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e")\n    private String email;\n}\n\n@RestController\n@RequestMapping("/api/users")\npublic class UserController {\n    \n    @PostMapping\n    public ResponseEntity<User> createUser(@Valid @RequestBody UserDTO userDTO) {\n        // \u5982\u679c\u9a8c\u8bc1\u5931\u8d25\uff0c\u81ea\u52a8\u8fd4\u56de400\n        return ResponseEntity.ok(new User(userDTO));\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q13-\u5982\u4f55\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790",children:"Q13: \u5982\u4f55\u81ea\u5b9a\u4e49\u53c2\u6570\u89e3\u6790\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u5b9e\u73b0Converter\u6216\u4f7f\u7528@RequestParam\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u81ea\u5b9a\u4e49Converter\n@Component\npublic class StringToLocalDateConverter implements Converter<String, LocalDate> {\n    @Override\n    public LocalDate convert(String source) {\n        return LocalDate.parse(source, DateTimeFormatter.ISO_LOCAL_DATE);\n    }\n}\n\n// \u6ce8\u518cConverter\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    \n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToLocalDateConverter());\n    }\n}\n\n// \u4f7f\u7528\n@GetMapping("/search")\npublic String search(\n    @RequestParam String keyword,\n    @RequestParam LocalDate startDate) {\n    \n    return String.format("Search: %s from %s", keyword, startDate);\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"6-aop\u76f8\u5173",children:"6. AOP\u76f8\u5173"}),"\n",(0,s.jsx)(e.h3,{id:"q14-\u4e3a\u4ec0\u4e48aop\u4e0d\u751f\u6548",children:"Q14: \u4e3a\u4ec0\u4e48AOP\u4e0d\u751f\u6548\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u68c0\u67e5\u4ee5\u4e0b\u51e0\u70b9\uff1a"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u88ab\u4ee3\u7406\u5bf9\u8c61\u5fc5\u987b\u662fSpring Bean"}),"\n",(0,s.jsx)(e.li,{children:"\u65b9\u6cd5\u5fc5\u987b\u662fpublic"}),"\n",(0,s.jsx)(e.li,{children:"\u4e0d\u80fd\u662fstatic\u65b9\u6cd5"}),"\n",(0,s.jsx)(e.li,{children:"\u786e\u4fddaspect\u5df2\u542f\u7528"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u274c \u95ee\u9898\uff1astatic\u65b9\u6cd5\u4e0d\u88abAOP\u5904\u7406\n@Component\npublic class MyService {\n    @Transactional\n    public static void staticMethod() {\n    }\n}\n\n// \u2705 \u6539\u4e3a\u975estatic\n@Component\npublic class MyService {\n    @Transactional\n    public void publicMethod() {\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q15-\u5982\u4f55\u5728aop\u4e2d\u83b7\u53d6\u65b9\u6cd5\u53c2\u6570",children:"Q15: \u5982\u4f55\u5728AOP\u4e2d\u83b7\u53d6\u65b9\u6cd5\u53c2\u6570\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528JoinPoint\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Aspect\n@Component\npublic class LoggingAspect {\n    \n    @Before("execution(* com.example.service.*.*(..))")\n    public void before(JoinPoint joinPoint) {\n        String methodName = joinPoint.getSignature().getName();\n        Object[] args = joinPoint.getArgs();\n        \n        System.out.println(String.format(\n            "Calling %s with args: %s",\n            methodName,\n            Arrays.toString(args)\n        ));\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"7-\u5176\u4ed6\u95ee\u9898",children:"7. \u5176\u4ed6\u95ee\u9898"}),"\n",(0,s.jsx)(e.h3,{id:"q16-\u5982\u4f55\u8bbf\u95eeapplicationcontext",children:"Q16: \u5982\u4f55\u8bbf\u95eeApplicationContext\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u6ce8\u5165\u6216\u5b9e\u73b0ApplicationContextAware\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"// \u65b9\u5f0f1\uff1a\u76f4\u63a5\u6ce8\u5165\n@Component\npublic class MyComponent {\n    @Autowired\n    private ApplicationContext applicationContext;\n    \n    public void getBean() {\n        MyBean bean = applicationContext.getBean(MyBean.class);\n    }\n}\n\n// \u65b9\u5f0f2\uff1a\u5b9e\u73b0Aware\u63a5\u53e3\n@Component\npublic class MyComponent implements ApplicationContextAware {\n    \n    private ApplicationContext applicationContext;\n    \n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"q17-\u5982\u4f55\u5ef6\u8fdf\u521d\u59cb\u5316bean",children:"Q17: \u5982\u4f55\u5ef6\u8fdf\u521d\u59cb\u5316Bean\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528@Lazy\u6ce8\u89e3\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'@Component\n@Lazy\npublic class ExpensiveService {\n    \n    public ExpensiveService() {\n        System.out.println("ExpensiveService created");\n    }\n}\n\n@Component\npublic class MyService {\n    \n    @Autowired\n    @Lazy\n    private ExpensiveService expensiveService;\n    \n    public void process() {\n        // \u7b2c\u4e00\u6b21\u4f7f\u7528\u65f6\u624d\u521b\u5efaBean\n        expensiveService.execute();\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q18-\u5982\u4f55\u6761\u4ef6\u5316\u521b\u5efabean",children:"Q18: \u5982\u4f55\u6761\u4ef6\u5316\u521b\u5efaBean\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528@Conditional\u6216Spring Boot\u6761\u4ef6\u6ce8\u89e3\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u81ea\u5b9a\u4e49\u6761\u4ef6\npublic class RedisEnabledCondition implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return context.getEnvironment().containsProperty("redis.enabled");\n    }\n}\n\n// \u4f7f\u7528\u6761\u4ef6\n@Configuration\npublic class CacheConfig {\n    \n    @Bean\n    @Conditional(RedisEnabledCondition.class)\n    public CacheManager redisCacheManager() {\n        return new RedisCacheManager();\n    }\n    \n    @Bean\n    @ConditionalOnMissingBean\n    public CacheManager defaultCacheManager() {\n        return new SimpleCacheManager();\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q19-\u5982\u4f55\u907f\u514dnullpointerexception",children:"Q19: \u5982\u4f55\u907f\u514dNullPointerException\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," \u4f7f\u7528Optional\u6216\u8fdb\u884cnull\u68c0\u67e5\u3002"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'// \u574f\u7684\u505a\u6cd5\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository repository;  // \u53ef\u80fd\u4e3anull\n    \n    public User getUser(Long id) {\n        return repository.findById(id).orElse(null);\n    }\n}\n\n// \u597d\u7684\u505a\u6cd5\n@Service\npublic class UserService {\n    \n    private final UserRepository repository;\n    \n    public UserService(UserRepository repository) {\n        this.repository = Objects.requireNonNull(repository, "repository cannot be null");\n    }\n    \n    public User getUser(Long id) {\n        return repository.findById(id).orElse(null);\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"q20-spring\u548cspring-boot\u7684\u533a\u522b",children:"Q20: Spring\u548cSpring Boot\u7684\u533a\u522b\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"A:"})," Spring Boot\u662fSpring\u7684\u5feb\u901f\u5f00\u53d1\u6846\u67b6\u3002"]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u7279\u6027"}),(0,s.jsx)(e.th,{children:"Spring"}),(0,s.jsx)(e.th,{children:"Spring Boot"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u914d\u7f6e"}),(0,s.jsx)(e.td,{children:"XML\u6216JavaConfig"}),(0,s.jsx)(e.td,{children:"\u81ea\u52a8\u914d\u7f6e"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u4f9d\u8d56"}),(0,s.jsx)(e.td,{children:"\u9700\u8981\u624b\u52a8\u6dfb\u52a0"}),(0,s.jsx)(e.td,{children:"starter\u81ea\u52a8\u7ba1\u7406"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u670d\u52a1\u5668"}),(0,s.jsx)(e.td,{children:"\u9700\u8981\u5916\u90e8\u670d\u52a1\u5668"}),(0,s.jsx)(e.td,{children:"\u5185\u5d4c\u670d\u52a1\u5668"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u90e8\u7f72"}),(0,s.jsx)(e.td,{children:"WAR\u6587\u4ef6"}),(0,s.jsx)(e.td,{children:"JAR\u6587\u4ef6"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u5f00\u53d1\u6548\u7387"}),(0,s.jsx)(e.td,{children:"\u8f83\u4f4e"}),(0,s.jsx)(e.td,{children:"\u9ad8"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,s.jsx)(e.p,{children:"\u5e38\u89c1\u95ee\u9898\u901a\u5e38\u4e0e\u4ee5\u4e0b\u65b9\u9762\u6709\u5173\uff1a"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4f9d\u8d56\u6ce8\u5165"})," - \u9009\u62e9\u6b63\u786e\u7684\u6ce8\u5165\u65b9\u5f0f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Bean\u751f\u547d\u5468\u671f"})," - \u7406\u89e3\u521d\u59cb\u5316\u548c\u9500\u6bc1\u987a\u5e8f"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4e8b\u52a1\u7ba1\u7406"})," - \u6ce8\u610f@Transactional\u7684\u9650\u5236"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"AOP"})," - \u7406\u89e3\u4ee3\u7406\u7684\u5de5\u4f5c\u539f\u7406"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Web\u5f00\u53d1"})," - \u6b63\u786e\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u914d\u7f6e"})," - \u5408\u7406\u7ba1\u7406\u914d\u7f6e\u6587\u4ef6"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5efa\u8bae"}),"\uff1a"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u719f\u6089Spring\u7684\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,s.jsx)(e.li,{children:"\u9605\u8bfb\u76f8\u5173\u6587\u6863\u548c\u6e90\u7801"}),"\n",(0,s.jsx)(e.li,{children:"\u5b9e\u8df5\u5e38\u89c1\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848"}),"\n",(0,s.jsx)(e.li,{children:"\u9075\u5faa\u6700\u4f73\u5b9e\u8df5"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u76f8\u5173\u6587\u6863"}),"\uff1a"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/docs/spring/core-concepts",children:"\u6838\u5fc3\u6982\u5ff5"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/docs/spring/dependency-injection",children:"\u4f9d\u8d56\u6ce8\u5165"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"/docs/spring/best-practices",children:"\u6700\u4f73\u5b9e\u8df5"})}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);