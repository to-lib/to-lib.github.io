"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[13648],{48885:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(99378);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},82366:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>f,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"ffmpeg/ffprobe","title":"ffprobe \u5206\u6790","description":"\u4f7f\u7528 ffprobe \u89e3\u6790\u5a92\u4f53\u6d41\u3001\u63d0\u53d6\u5143\u4fe1\u606f\u4e0e\u6392\u67e5\u7f16\u7801\u95ee\u9898","source":"@site/docs/ffmpeg/ffprobe.md","sourceDirName":"ffmpeg","slug":"/ffmpeg/ffprobe","permalink":"/docs/ffmpeg/ffprobe","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ffmpeg/ffprobe.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"ffprobe \u5206\u6790","description":"\u4f7f\u7528 ffprobe \u89e3\u6790\u5a92\u4f53\u6d41\u3001\u63d0\u53d6\u5143\u4fe1\u606f\u4e0e\u6392\u67e5\u7f16\u7801\u95ee\u9898"},"sidebar":"ffmpeg","previous":{"title":"\u57fa\u7840\u547d\u4ee4","permalink":"/docs/ffmpeg/basic-commands"},"next":{"title":"\u89c6\u9891\u5904\u7406","permalink":"/docs/ffmpeg/video-processing"}}');var t=r(22714),i=r(48885);const o={sidebar_position:12,title:"ffprobe \u5206\u6790",description:"\u4f7f\u7528 ffprobe \u89e3\u6790\u5a92\u4f53\u6d41\u3001\u63d0\u53d6\u5143\u4fe1\u606f\u4e0e\u6392\u67e5\u7f16\u7801\u95ee\u9898"},a="ffprobe \u5206\u6790",l={},c=[{value:"\u5e38\u7528\u53c2\u6570",id:"\u5e38\u7528\u53c2\u6570",level:2},{value:"\u67e5\u770b\u5bb9\u5668\u4e0e\u8f68\u9053\u4fe1\u606f",id:"\u67e5\u770b\u5bb9\u5668\u4e0e\u8f68\u9053\u4fe1\u606f",level:2},{value:"\u4ee5 JSON \u8f93\u51fa\uff08\u63a8\u8350\u7528\u4e8e\u811a\u672c\uff09",id:"\u4ee5-json-\u8f93\u51fa\u63a8\u8350\u7528\u4e8e\u811a\u672c",level:3},{value:"\u7cbe\u786e\u9009\u62e9\u6d41\uff08select_streams\uff09",id:"\u7cbe\u786e\u9009\u62e9\u6d41select_streams",level:2},{value:"\u63d0\u53d6\u5173\u952e\u5b57\u6bb5\uff08show_entries\uff09",id:"\u63d0\u53d6\u5173\u952e\u5b57\u6bb5show_entries",level:2},{value:"\u8f93\u51fa\u4e3a CSV / TSV",id:"\u8f93\u51fa\u4e3a-csv--tsv",level:3},{value:"GOP / \u5173\u952e\u5e27\u5206\u6790",id:"gop--\u5173\u952e\u5e27\u5206\u6790",level:2},{value:"\u65cb\u8f6c\u4fe1\u606f\uff08\u624b\u673a\u89c6\u9891\u5e38\u89c1\uff09",id:"\u65cb\u8f6c\u4fe1\u606f\u624b\u673a\u89c6\u9891\u5e38\u89c1",level:2},{value:"\u5e38\u89c1\u6392\u969c\u7528\u6cd5",id:"\u5e38\u89c1\u6392\u969c\u7528\u6cd5",level:2},{value:"1) \u64ad\u653e\u5668\u65e0\u6cd5\u64ad\u653e / \u517c\u5bb9\u6027\u95ee\u9898",id:"1-\u64ad\u653e\u5668\u65e0\u6cd5\u64ad\u653e--\u517c\u5bb9\u6027\u95ee\u9898",level:3},{value:"2) \u591a\u97f3\u8f68 / \u591a\u5b57\u5e55\u8f68\uff0c\u786e\u8ba4\u8f68\u9053\u8bed\u8a00",id:"2-\u591a\u97f3\u8f68--\u591a\u5b57\u5e55\u8f68\u786e\u8ba4\u8f68\u9053\u8bed\u8a00",level:3},{value:"\u4e0e ffmpeg \u7684\u8854\u63a5",id:"\u4e0e-ffmpeg-\u7684\u8854\u63a5",level:2}];function p(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ffprobe-\u5206\u6790",children:"ffprobe \u5206\u6790"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ffprobe"})," \u662f FFmpeg \u5957\u4ef6\u4e2d\u7684\u5a92\u4f53\u5206\u6790\u5de5\u5177\uff0c\u7528\u4e8e\u8bfb\u53d6\u5bb9\u5668/\u7801\u6d41\u4fe1\u606f\u3001\u5217\u51fa\u97f3\u89c6\u9891/\u5b57\u5e55\u8f68\u9053\u3001\u6253\u5370\u5173\u952e\u5143\u6570\u636e\uff0c\u9002\u5408\u7528\u4e8e\u6392\u969c\u548c\u5199\u81ea\u52a8\u5316\u811a\u672c\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5e38\u7528\u53c2\u6570",children:"\u5e38\u7528\u53c2\u6570"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u9690\u85cf banner\uff0c\u51cf\u5c11\u566a\u97f3\nffprobe -hide_banner input.mp4\n\n# \u66f4\u5b89\u9759\u7684\u8f93\u51fa\uff08\u53ea\u5728\u51fa\u9519\u65f6\u8f93\u51fa\uff09\nffprobe -v error input.mp4\n\n# \u5e2e\u52a9\nffprobe -h\nffprobe -h full\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u67e5\u770b\u5bb9\u5668\u4e0e\u8f68\u9053\u4fe1\u606f",children:"\u67e5\u770b\u5bb9\u5668\u4e0e\u8f68\u9053\u4fe1\u606f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u5c55\u793a format + streams\nffprobe -hide_banner -show_format -show_streams input.mp4\n\n# \u53ea\u5c55\u793a streams\nffprobe -hide_banner -show_streams input.mp4\n\n# \u53ea\u5c55\u793a format\nffprobe -hide_banner -show_format input.mp4\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u4ee5-json-\u8f93\u51fa\u63a8\u8350\u7528\u4e8e\u811a\u672c",children:"\u4ee5 JSON \u8f93\u51fa\uff08\u63a8\u8350\u7528\u4e8e\u811a\u672c\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ffprobe -v error \\\n  -print_format json \\\n  -show_format -show_streams \\\n  input.mp4\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u7cbe\u786e\u9009\u62e9\u6d41select_streams",children:"\u7cbe\u786e\u9009\u62e9\u6d41\uff08select_streams\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u9009\u62e9\u7b2c 1 \u8def\u89c6\u9891\u6d41\nffprobe -v error -select_streams v:0 -show_streams input.mp4\n\n# \u9009\u62e9\u6240\u6709\u97f3\u9891\u6d41\nffprobe -v error -select_streams a -show_streams input.mkv\n\n# \u9009\u62e9\u5b57\u5e55\u6d41\nffprobe -v error -select_streams s -show_streams input.mkv\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u63d0\u53d6\u5173\u952e\u5b57\u6bb5show_entries",children:"\u63d0\u53d6\u5173\u952e\u5b57\u6bb5\uff08show_entries\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u53ea\u8981\u5bbd\u9ad8\u3001\u5e27\u7387\u3001\u50cf\u7d20\u683c\u5f0f\nffprobe -v error -select_streams v:0 \\\n  -show_entries stream=codec_name,width,height,r_frame_rate,avg_frame_rate,pix_fmt,profile,level \\\n  -of default=noprint_wrappers=1 input.mp4\n\n# \u53ea\u8981\u65f6\u957f\u4e0e\u7801\u7387\nffprobe -v error \\\n  -show_entries format=duration,bit_rate,size,format_name \\\n  -of default=noprint_wrappers=1 input.mp4\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8f93\u51fa\u4e3a-csv--tsv",children:"\u8f93\u51fa\u4e3a CSV / TSV"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# CSV\nffprobe -v error -select_streams v:0 \\\n  -show_entries stream=width,height,codec_name \\\n  -of csv=p=0 input.mp4\n\n# TSV\nffprobe -v error -select_streams a:0 \\\n  -show_entries stream=sample_rate,channels,codec_name \\\n  -of tsv=p=0 input.mp4\n"})}),"\n",(0,t.jsx)(n.h2,{id:"gop--\u5173\u952e\u5e27\u5206\u6790",children:"GOP / \u5173\u952e\u5e27\u5206\u6790"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# \u5217\u51fa\u5173\u952e\u5e27\u65f6\u95f4\u6233\uff08CSV\uff09\nffprobe -v error -select_streams v:0 \\\n  -show_frames \\\n  -show_entries frame=pkt_pts_time,pict_type,key_frame \\\n  -of csv=p=0 input.mp4 | grep ",I,"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u65cb\u8f6c\u4fe1\u606f\u624b\u673a\u89c6\u9891\u5e38\u89c1",children:"\u65cb\u8f6c\u4fe1\u606f\uff08\u624b\u673a\u89c6\u9891\u5e38\u89c1\uff09"}),"\n",(0,t.jsx)(n.p,{children:"\u67d0\u4e9b\u624b\u673a\u89c6\u9891\u662f\u901a\u8fc7 metadata \u6807\u8bb0\u65cb\u8f6c\u89d2\u5ea6\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ffprobe -v error -select_streams v:0 \\\n  -show_entries stream_tags=rotate \\\n  -of default=nw=1 input.mp4\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5e38\u89c1\u6392\u969c\u7528\u6cd5",children:"\u5e38\u89c1\u6392\u969c\u7528\u6cd5"}),"\n",(0,t.jsx)(n.h3,{id:"1-\u64ad\u653e\u5668\u65e0\u6cd5\u64ad\u653e--\u517c\u5bb9\u6027\u95ee\u9898",children:"1) \u64ad\u653e\u5668\u65e0\u6cd5\u64ad\u653e / \u517c\u5bb9\u6027\u95ee\u9898"}),"\n",(0,t.jsx)(n.p,{children:"\u4f18\u5148\u786e\u8ba4\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5bb9\u5668\uff1a",(0,t.jsx)(n.code,{children:"format_name"})]}),"\n",(0,t.jsxs)(n.li,{children:["\u89c6\u9891\u7f16\u7801\uff1a",(0,t.jsx)(n.code,{children:"codec_name"})]}),"\n",(0,t.jsxs)(n.li,{children:["\u97f3\u9891\u7f16\u7801\uff1a",(0,t.jsx)(n.code,{children:"codec_name"})]}),"\n",(0,t.jsxs)(n.li,{children:["\u50cf\u7d20\u683c\u5f0f\uff1a",(0,t.jsx)(n.code,{children:"pix_fmt"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ffprobe -v error -show_entries format=format_name -of default=nw=1 input.mp4\nffprobe -v error -select_streams v:0 -show_entries stream=codec_name,pix_fmt,profile -of default=nw=1 input.mp4\nffprobe -v error -select_streams a:0 -show_entries stream=codec_name,channels,sample_rate -of default=nw=1 input.mp4\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-\u591a\u97f3\u8f68--\u591a\u5b57\u5e55\u8f68\u786e\u8ba4\u8f68\u9053\u8bed\u8a00",children:"2) \u591a\u97f3\u8f68 / \u591a\u5b57\u5e55\u8f68\uff0c\u786e\u8ba4\u8f68\u9053\u8bed\u8a00"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ffprobe -v error -show_entries stream=index,codec_type,codec_name:stream_tags=language,title \\\n  -of default=nw=1 input.mkv\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4e0e-ffmpeg-\u7684\u8854\u63a5",children:"\u4e0e ffmpeg \u7684\u8854\u63a5"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u5148\u7528 ",(0,t.jsx)(n.code,{children:"ffprobe"})," \u786e\u5b9a\u6d41\u5e8f\u53f7\uff08index\uff09\u548c\u8f68\u9053\u7c7b\u578b"]}),"\n",(0,t.jsxs)(n.li,{children:["\u518d\u7528 ",(0,t.jsx)(n.code,{children:"ffmpeg -map"})," \u7cbe\u786e\u9009\u62e9\u8f93\u51fa"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u53ea\u5bfc\u51fa\u7b2c 1 \u8def\u89c6\u9891 + \u7b2c 2 \u8def\u97f3\u9891\nffmpeg -i input.mkv -map 0:v:0 -map 0:a:1 -c copy out.mkv\n"})})]})}function f(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);