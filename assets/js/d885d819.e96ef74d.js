"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[21148],{48885:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var r=s(99378);const d={},c=r.createContext(d);function l(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),r.createElement(c.Provider,{value:n},e.children)}},66454:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>i,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"rocketmq/quick-reference","title":"\u5feb\u901f\u53c2\u8003","description":"RocketMQ \u5e38\u7528 API \u548c\u547d\u4ee4\u901f\u67e5","source":"@site/docs/rocketmq/quick-reference.md","sourceDirName":"rocketmq","slug":"/rocketmq/quick-reference","permalink":"/docs/rocketmq/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/rocketmq/quick-reference.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"\u5feb\u901f\u53c2\u8003","description":"RocketMQ \u5e38\u7528 API \u548c\u547d\u4ee4\u901f\u67e5"},"sidebar":"rocketmq","previous":{"title":"\u6700\u4f73\u5b9e\u8df5","permalink":"/docs/rocketmq/best-practices"},"next":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/docs/rocketmq/faq"}}');var d=s(22714),c=s(48885);const l={sidebar_position:8,title:"\u5feb\u901f\u53c2\u8003",description:"RocketMQ \u5e38\u7528 API \u548c\u547d\u4ee4\u901f\u67e5"},i="RocketMQ \u5feb\u901f\u53c2\u8003",t={},h=[{value:"\u5e38\u7528\u4f9d\u8d56",id:"\u5e38\u7528\u4f9d\u8d56",level:2},{value:"Maven",id:"maven",level:3},{value:"\u751f\u4ea7\u8005 API",id:"\u751f\u4ea7\u8005-api",level:2},{value:"\u521b\u5efa\u751f\u4ea7\u8005",id:"\u521b\u5efa\u751f\u4ea7\u8005",level:3},{value:"\u53d1\u9001\u6d88\u606f",id:"\u53d1\u9001\u6d88\u606f",level:3},{value:"\u5e38\u7528\u914d\u7f6e",id:"\u5e38\u7528\u914d\u7f6e",level:3},{value:"\u6d88\u8d39\u8005 API",id:"\u6d88\u8d39\u8005-api",level:2},{value:"Push \u6d88\u8d39\u8005",id:"push-\u6d88\u8d39\u8005",level:3},{value:"Pull \u6d88\u8d39\u8005",id:"pull-\u6d88\u8d39\u8005",level:3},{value:"\u8ba2\u9605\u65b9\u5f0f",id:"\u8ba2\u9605\u65b9\u5f0f",level:3},{value:"\u5e38\u7528\u914d\u7f6e",id:"\u5e38\u7528\u914d\u7f6e-1",level:3},{value:"\u6d88\u606f\u5bf9\u8c61",id:"\u6d88\u606f\u5bf9\u8c61",level:2},{value:"\u521b\u5efa\u6d88\u606f",id:"\u521b\u5efa\u6d88\u606f",level:3},{value:"\u6d88\u606f\u5c5e\u6027",id:"\u6d88\u606f\u5c5e\u6027",level:3},{value:"\u5ef6\u8fdf\u7ea7\u522b",id:"\u5ef6\u8fdf\u7ea7\u522b",level:2},{value:"Spring Boot \u914d\u7f6e",id:"spring-boot-\u914d\u7f6e",level:2},{value:"application.yml",id:"applicationyml",level:3},{value:"\u751f\u4ea7\u8005",id:"\u751f\u4ea7\u8005",level:3},{value:"\u6d88\u8d39\u8005",id:"\u6d88\u8d39\u8005",level:3},{value:"\u7ba1\u7406\u547d\u4ee4",id:"\u7ba1\u7406\u547d\u4ee4",level:2},{value:"\u670d\u52a1\u7ba1\u7406",id:"\u670d\u52a1\u7ba1\u7406",level:3},{value:"Topic \u7ba1\u7406",id:"topic-\u7ba1\u7406",level:3},{value:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",id:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",level:3},{value:"\u6d88\u606f\u67e5\u8be2",id:"\u6d88\u606f\u67e5\u8be2",level:3},{value:"\u7aef\u53e3\u8bf4\u660e",id:"\u7aef\u53e3\u8bf4\u660e",level:2},{value:"\u5e38\u89c1\u72b6\u6001\u7801",id:"\u5e38\u89c1\u72b6\u6001\u7801",level:2},{value:"\u53d1\u9001\u72b6\u6001",id:"\u53d1\u9001\u72b6\u6001",level:3},{value:"\u6d88\u8d39\u72b6\u6001",id:"\u6d88\u8d39\u72b6\u6001",level:3},{value:"\u4e8b\u52a1\u72b6\u6001",id:"\u4e8b\u52a1\u72b6\u6001",level:3},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"rocketmq-\u5feb\u901f\u53c2\u8003",children:"RocketMQ \u5feb\u901f\u53c2\u8003"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5e38\u7528\u4f9d\u8d56",children:"\u5e38\u7528\u4f9d\u8d56"}),"\n",(0,d.jsx)(n.h3,{id:"maven",children:"Maven"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-xml",children:"\x3c!-- RocketMQ \u5ba2\u6237\u7aef --\x3e\n<dependency>\n    <groupId>org.apache.rocketmq</groupId>\n    <artifactId>rocketmq-client</artifactId>\n    <version>5.1.4</version>\n</dependency>\n\n\x3c!-- Spring Boot Starter --\x3e\n<dependency>\n    <groupId>org.apache.rocketmq</groupId>\n    <artifactId>rocketmq-spring-boot-starter</artifactId>\n    <version>2.2.3</version>\n</dependency>\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u751f\u4ea7\u8005-api",children:"\u751f\u4ea7\u8005 API"}),"\n",(0,d.jsx)(n.h3,{id:"\u521b\u5efa\u751f\u4ea7\u8005",children:"\u521b\u5efa\u751f\u4ea7\u8005"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// \u666e\u901a\u751f\u4ea7\u8005\nDefaultMQProducer producer = new DefaultMQProducer("ProducerGroup");\nproducer.setNamesrvAddr("localhost:9876");\nproducer.start();\n\n// \u4e8b\u52a1\u751f\u4ea7\u8005\nTransactionMQProducer txProducer = new TransactionMQProducer("TxGroup");\ntxProducer.setTransactionListener(listener);\ntxProducer.start();\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u53d1\u9001\u6d88\u606f",children:"\u53d1\u9001\u6d88\u606f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"// \u540c\u6b65\u53d1\u9001\nSendResult result = producer.send(msg);\n\n// \u5f02\u6b65\u53d1\u9001\nproducer.send(msg, new SendCallback() {\n    public void onSuccess(SendResult result) {}\n    public void onException(Throwable e) {}\n});\n\n// \u5355\u5411\u53d1\u9001\nproducer.sendOneway(msg);\n\n// \u987a\u5e8f\u53d1\u9001\nproducer.send(msg, selector, arg);\n\n// \u5ef6\u8fdf\u53d1\u9001\nmsg.setDelayTimeLevel(3);  // 10\u79d2\nproducer.send(msg);\n\n// \u6279\u91cf\u53d1\u9001\nproducer.send(List.of(msg1, msg2, msg3));\n\n// \u4e8b\u52a1\u53d1\u9001\ntxProducer.sendMessageInTransaction(msg, arg);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5e38\u7528\u914d\u7f6e",children:"\u5e38\u7528\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u914d\u7f6e"}),(0,d.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"NameServer"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setNamesrvAddr()"})}),(0,d.jsx)(n.td,{children:"-"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u53d1\u9001\u8d85\u65f6"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setSendMsgTimeout()"})}),(0,d.jsx)(n.td,{children:"3000ms"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u540c\u6b65\u91cd\u8bd5"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setRetryTimesWhenSendFailed()"})}),(0,d.jsx)(n.td,{children:"2"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u5f02\u6b65\u91cd\u8bd5"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setRetryTimesWhenSendAsyncFailed()"})}),(0,d.jsx)(n.td,{children:"2"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6700\u5927\u6d88\u606f"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setMaxMessageSize()"})}),(0,d.jsx)(n.td,{children:"4MB"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u6d88\u8d39\u8005-api",children:"\u6d88\u8d39\u8005 API"}),"\n",(0,d.jsx)(n.h3,{id:"push-\u6d88\u8d39\u8005",children:"Push \u6d88\u8d39\u8005"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'DefaultMQPushConsumer consumer = new DefaultMQPushConsumer("ConsumerGroup");\nconsumer.setNamesrvAddr("localhost:9876");\nconsumer.subscribe("TopicTest", "*");\n\n// \u5e76\u53d1\u6d88\u8d39\nconsumer.registerMessageListener((MessageListenerConcurrently) (msgs, ctx) -> {\n    return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\n});\n\n// \u987a\u5e8f\u6d88\u8d39\nconsumer.registerMessageListener((MessageListenerOrderly) (msgs, ctx) -> {\n    return ConsumeOrderlyStatus.SUCCESS;\n});\n\nconsumer.start();\n'})}),"\n",(0,d.jsx)(n.h3,{id:"pull-\u6d88\u8d39\u8005",children:"Pull \u6d88\u8d39\u8005"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'DefaultLitePullConsumer consumer = new DefaultLitePullConsumer("ConsumerGroup");\nconsumer.subscribe("TopicTest", "*");\nconsumer.start();\n\nwhile (true) {\n    List<MessageExt> msgs = consumer.poll(3000);\n    // \u5904\u7406\u6d88\u606f\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u8ba2\u9605\u65b9\u5f0f",children:"\u8ba2\u9605\u65b9\u5f0f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// \u8ba2\u9605\u6240\u6709\nconsumer.subscribe("Topic", "*");\n\n// \u8ba2\u9605\u5355\u4e2a Tag\nconsumer.subscribe("Topic", "TagA");\n\n// \u8ba2\u9605\u591a\u4e2a Tag\nconsumer.subscribe("Topic", "TagA || TagB");\n\n// SQL92 \u8fc7\u6ee4\nconsumer.subscribe("Topic", MessageSelector.bySql("age > 18"));\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u5e38\u7528\u914d\u7f6e-1",children:"\u5e38\u7528\u914d\u7f6e"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u914d\u7f6e"}),(0,d.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6d88\u8d39\u6a21\u5f0f"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setMessageModel()"})}),(0,d.jsx)(n.td,{children:"CLUSTERING"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u8d77\u59cb\u4f4d\u7f6e"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setConsumeFromWhere()"})}),(0,d.jsx)(n.td,{children:"LAST_OFFSET"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6700\u5c0f\u7ebf\u7a0b"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setConsumeThreadMin()"})}),(0,d.jsx)(n.td,{children:"20"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6700\u5927\u7ebf\u7a0b"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setConsumeThreadMax()"})}),(0,d.jsx)(n.td,{children:"64"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6279\u91cf\u6570\u91cf"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setConsumeMessageBatchMaxSize()"})}),(0,d.jsx)(n.td,{children:"1"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u6700\u5927\u91cd\u8bd5"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"setMaxReconsumeTimes()"})}),(0,d.jsx)(n.td,{children:"16"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u6d88\u606f\u5bf9\u8c61",children:"\u6d88\u606f\u5bf9\u8c61"}),"\n",(0,d.jsx)(n.h3,{id:"\u521b\u5efa\u6d88\u606f",children:"\u521b\u5efa\u6d88\u606f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'// \u57fa\u672c\u6d88\u606f\nMessage msg = new Message("Topic", "Body".getBytes());\n\n// \u5e26 Tag\nMessage msg = new Message("Topic", "Tag", "Body".getBytes());\n\n// \u5e26 Key\nMessage msg = new Message("Topic", "Tag", "Key", "Body".getBytes());\n\n// \u8bbe\u7f6e\u5c5e\u6027\nmsg.putUserProperty("key", "value");\n\n// \u8bbe\u7f6e\u5ef6\u8fdf\nmsg.setDelayTimeLevel(3);\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u6d88\u606f\u5c5e\u6027",children:"\u6d88\u606f\u5c5e\u6027"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u65b9\u6cd5"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getTopic()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6 Topic"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getTags()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6 Tag"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getKeys()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6 Key"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getBody()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u6d88\u606f\u4f53"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getMsgId()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u6d88\u606f ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getQueueId()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u961f\u5217 ID"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getReconsumeTimes()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u91cd\u8bd5\u6b21\u6570"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getBornTimestamp()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u53d1\u9001\u65f6\u95f4"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"getUserProperty()"})}),(0,d.jsx)(n.td,{children:"\u83b7\u53d6\u81ea\u5b9a\u4e49\u5c5e\u6027"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u5ef6\u8fdf\u7ea7\u522b",children:"\u5ef6\u8fdf\u7ea7\u522b"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7ea7\u522b"}),(0,d.jsx)(n.th,{children:"\u65f6\u95f4"}),(0,d.jsx)(n.th,{children:"\u7ea7\u522b"}),(0,d.jsx)(n.th,{children:"\u65f6\u95f4"}),(0,d.jsx)(n.th,{children:"\u7ea7\u522b"}),(0,d.jsx)(n.th,{children:"\u65f6\u95f4"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"1"}),(0,d.jsx)(n.td,{children:"1s"}),(0,d.jsx)(n.td,{children:"7"}),(0,d.jsx)(n.td,{children:"3m"}),(0,d.jsx)(n.td,{children:"13"}),(0,d.jsx)(n.td,{children:"9m"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"2"}),(0,d.jsx)(n.td,{children:"5s"}),(0,d.jsx)(n.td,{children:"8"}),(0,d.jsx)(n.td,{children:"4m"}),(0,d.jsx)(n.td,{children:"14"}),(0,d.jsx)(n.td,{children:"10m"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"3"}),(0,d.jsx)(n.td,{children:"10s"}),(0,d.jsx)(n.td,{children:"9"}),(0,d.jsx)(n.td,{children:"5m"}),(0,d.jsx)(n.td,{children:"15"}),(0,d.jsx)(n.td,{children:"20m"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"4"}),(0,d.jsx)(n.td,{children:"30s"}),(0,d.jsx)(n.td,{children:"10"}),(0,d.jsx)(n.td,{children:"6m"}),(0,d.jsx)(n.td,{children:"16"}),(0,d.jsx)(n.td,{children:"30m"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"5"}),(0,d.jsx)(n.td,{children:"1m"}),(0,d.jsx)(n.td,{children:"11"}),(0,d.jsx)(n.td,{children:"7m"}),(0,d.jsx)(n.td,{children:"17"}),(0,d.jsx)(n.td,{children:"1h"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"6"}),(0,d.jsx)(n.td,{children:"2m"}),(0,d.jsx)(n.td,{children:"12"}),(0,d.jsx)(n.td,{children:"8m"}),(0,d.jsx)(n.td,{children:"18"}),(0,d.jsx)(n.td,{children:"2h"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"spring-boot-\u914d\u7f6e",children:"Spring Boot \u914d\u7f6e"}),"\n",(0,d.jsx)(n.h3,{id:"applicationyml",children:"application.yml"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"rocketmq:\n  name-server: localhost:9876\n  producer:\n    group: producer-group\n    send-message-timeout: 3000\n    retry-times-when-send-failed: 2\n    retry-times-when-send-async-failed: 2\n  consumer:\n    group: consumer-group\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u751f\u4ea7\u8005",children:"\u751f\u4ea7\u8005"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'@Autowired\nprivate RocketMQTemplate rocketMQTemplate;\n\n// \u540c\u6b65\u53d1\u9001\nrocketMQTemplate.syncSend("topic", message);\nrocketMQTemplate.syncSend("topic:tag", message);\n\n// \u5f02\u6b65\u53d1\u9001\nrocketMQTemplate.asyncSend("topic", message, callback);\n\n// \u5355\u5411\u53d1\u9001\nrocketMQTemplate.sendOneWay("topic", message);\n\n// \u987a\u5e8f\u53d1\u9001\nrocketMQTemplate.syncSendOrderly("topic", message, hashKey);\n\n// \u5ef6\u8fdf\u53d1\u9001\nrocketMQTemplate.syncSend("topic", message, timeout, delayLevel);\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u6d88\u8d39\u8005",children:"\u6d88\u8d39\u8005"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:'@Service\n@RocketMQMessageListener(\n    topic = "topic",\n    consumerGroup = "consumer-group",\n    selectorExpression = "TagA || TagB"\n)\npublic class Consumer implements RocketMQListener<String> {\n    @Override\n    public void onMessage(String message) {\n        // \u5904\u7406\u6d88\u606f\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u7ba1\u7406\u547d\u4ee4",children:"\u7ba1\u7406\u547d\u4ee4"}),"\n",(0,d.jsx)(n.h3,{id:"\u670d\u52a1\u7ba1\u7406",children:"\u670d\u52a1\u7ba1\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u542f\u52a8 NameServer\nnohup sh bin/mqnamesrv &\n\n# \u542f\u52a8 Broker\nnohup sh bin/mqbroker -n localhost:9876 &\n\n# \u5173\u95ed\u670d\u52a1\nsh bin/mqshutdown broker\nsh bin/mqshutdown namesrv\n"})}),"\n",(0,d.jsx)(n.h3,{id:"topic-\u7ba1\u7406",children:"Topic \u7ba1\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u521b\u5efa Topic\nsh bin/mqadmin updateTopic -n localhost:9876 -b localhost:10911 -t TopicTest\n\n# \u67e5\u770b Topic \u5217\u8868\nsh bin/mqadmin topicList -n localhost:9876\n\n# \u67e5\u770b Topic \u72b6\u6001\nsh bin/mqadmin topicStatus -n localhost:9876 -t TopicTest\n\n# \u5220\u9664 Topic\nsh bin/mqadmin deleteTopic -n localhost:9876 -c DefaultCluster -t TopicTest\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406",children:"\u6d88\u8d39\u8005\u7ec4\u7ba1\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u6d88\u8d39\u8fdb\u5ea6\nsh bin/mqadmin consumerProgress -n localhost:9876 -g ConsumerGroup\n\n# \u91cd\u7f6e\u6d88\u8d39\u4f4d\u70b9\nsh bin/mqadmin resetOffsetByTime -n localhost:9876 \\\n    -g ConsumerGroup -t TopicTest -s now\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6d88\u606f\u67e5\u8be2",children:"\u6d88\u606f\u67e5\u8be2"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u6839\u636e MsgId \u67e5\u8be2\nsh bin/mqadmin queryMsgById -n localhost:9876 -i <msgId>\n\n# \u6839\u636e Key \u67e5\u8be2\nsh bin/mqadmin queryMsgByKey -n localhost:9876 -t TopicTest -k <key>\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u7aef\u53e3\u8bf4\u660e",children:"\u7aef\u53e3\u8bf4\u660e"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7ec4\u4ef6"}),(0,d.jsx)(n.th,{children:"\u7aef\u53e3"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"NameServer"}),(0,d.jsx)(n.td,{children:"9876"}),(0,d.jsx)(n.td,{children:"\u8def\u7531\u670d\u52a1"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Broker"}),(0,d.jsx)(n.td,{children:"10911"}),(0,d.jsx)(n.td,{children:"\u6d88\u606f\u670d\u52a1"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Broker"}),(0,d.jsx)(n.td,{children:"10909"}),(0,d.jsx)(n.td,{children:"VIP \u901a\u9053"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Dashboard"}),(0,d.jsx)(n.td,{children:"8080"}),(0,d.jsx)(n.td,{children:"\u7ba1\u7406\u63a7\u5236\u53f0"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u5e38\u89c1\u72b6\u6001\u7801",children:"\u5e38\u89c1\u72b6\u6001\u7801"}),"\n",(0,d.jsx)(n.h3,{id:"\u53d1\u9001\u72b6\u6001",children:"\u53d1\u9001\u72b6\u6001"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u72b6\u6001"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"SEND_OK"})}),(0,d.jsx)(n.td,{children:"\u53d1\u9001\u6210\u529f"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FLUSH_DISK_TIMEOUT"})}),(0,d.jsx)(n.td,{children:"\u5237\u76d8\u8d85\u65f6"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FLUSH_SLAVE_TIMEOUT"})}),(0,d.jsx)(n.td,{children:"\u540c\u6b65 Slave \u8d85\u65f6"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"SLAVE_NOT_AVAILABLE"})}),(0,d.jsx)(n.td,{children:"Slave \u4e0d\u53ef\u7528"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u6d88\u8d39\u72b6\u6001",children:"\u6d88\u8d39\u72b6\u6001"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"// \u5e76\u53d1\u6d88\u8d39\nConsumeConcurrentlyStatus.CONSUME_SUCCESS    // \u6210\u529f\nConsumeConcurrentlyStatus.RECONSUME_LATER    // \u7a0d\u540e\u91cd\u8bd5\n\n// \u987a\u5e8f\u6d88\u8d39\nConsumeOrderlyStatus.SUCCESS                 // \u6210\u529f\nConsumeOrderlyStatus.SUSPEND_CURRENT_QUEUE_A_MOMENT  // \u6682\u505c\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u4e8b\u52a1\u72b6\u6001",children:"\u4e8b\u52a1\u72b6\u6001"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-java",children:"LocalTransactionState.COMMIT_MESSAGE    // \u63d0\u4ea4\nLocalTransactionState.ROLLBACK_MESSAGE  // \u56de\u6eda\nLocalTransactionState.UNKNOW            // \u672a\u77e5\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://rocketmq.apache.org/docs/",children:"RocketMQ \u5b98\u65b9\u6587\u6863"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://github.com/apache/rocketmq",children:"RocketMQ GitHub"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);