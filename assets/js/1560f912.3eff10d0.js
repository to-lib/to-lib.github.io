"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[1321],{1266:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(9378);const r={},a=i.createContext(r);function l(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(a.Provider,{value:n},e.children)}},4809:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"java/io-streams","title":"IO \u6d41","description":"Java IO\uff08Input/Output\uff09\u7528\u4e8e\u5904\u7406\u8f93\u5165\u548c\u8f93\u51fa\u64cd\u4f5c\u3002\u672c\u6587\u4ecb\u7ecd\u5b57\u8282\u6d41\u3001\u5b57\u7b26\u6d41\u3001\u7f13\u51b2\u6d41\u548c NIO \u7b49\u5185\u5bb9\u3002","source":"@site/docs/java/io-streams.md","sourceDirName":"java","slug":"/java/io-streams","permalink":"/docs/java/io-streams","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/java/io-streams.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"IO \u6d41"},"sidebar":"java","previous":{"title":"\u591a\u7ebf\u7a0b\u7f16\u7a0b","permalink":"/docs/java/multithreading"},"next":{"title":"\u6cdb\u578b\u7f16\u7a0b","permalink":"/docs/java/generics"}}');var r=t(2714),a=t(1266);const l={sidebar_position:7,title:"IO \u6d41"},s="IO \u6d41",d={},c=[{value:"IO \u6d41\u6982\u8ff0",id:"io-\u6d41\u6982\u8ff0",level:2},{value:"\u6d41\u7684\u5206\u7c7b",id:"\u6d41\u7684\u5206\u7c7b",level:3},{value:"\u6d41\u7684\u4f53\u7cfb\u7ed3\u6784",id:"\u6d41\u7684\u4f53\u7cfb\u7ed3\u6784",level:3},{value:"\u5b57\u8282\u6d41",id:"\u5b57\u8282\u6d41",level:2},{value:"FileInputStream \u548c FileOutputStream",id:"fileinputstream-\u548c-fileoutputstream",level:3},{value:"BufferedInputStream \u548c BufferedOutputStream",id:"bufferedinputstream-\u548c-bufferedoutputstream",level:3},{value:"\u5b57\u7b26\u6d41",id:"\u5b57\u7b26\u6d41",level:2},{value:"FileReader \u548c FileWriter",id:"filereader-\u548c-filewriter",level:3},{value:"BufferedReader \u548c BufferedWriter",id:"bufferedreader-\u548c-bufferedwriter",level:3},{value:"\u8f6c\u6362\u6d41",id:"\u8f6c\u6362\u6d41",level:2},{value:"InputStreamReader \u548c OutputStreamWriter",id:"inputstreamreader-\u548c-outputstreamwriter",level:3},{value:"\u5bf9\u8c61\u6d41",id:"\u5bf9\u8c61\u6d41",level:2},{value:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",id:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",level:3},{value:"\u6570\u636e\u6d41",id:"\u6570\u636e\u6d41",level:2},{value:"DataInputStream \u548c DataOutputStream",id:"datainputstream-\u548c-dataoutputstream",level:3},{value:"\u6253\u5370\u6d41",id:"\u6253\u5370\u6d41",level:2},{value:"PrintStream \u548c PrintWriter",id:"printstream-\u548c-printwriter",level:3},{value:"File \u7c7b",id:"file-\u7c7b",level:2},{value:"\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c",id:"\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c",level:3},{value:"\u9012\u5f52\u904d\u5386\u76ee\u5f55",id:"\u9012\u5f52\u904d\u5386\u76ee\u5f55",level:3},{value:"NIO (New IO)",id:"nio-new-io",level:2},{value:"Path \u548c Files",id:"path-\u548c-files",level:3},{value:"\u904d\u5386\u76ee\u5f55\u6811",id:"\u904d\u5386\u76ee\u5f55\u6811",level:3},{value:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316",id:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u4f7f\u7528 try-with-resources",id:"1-\u4f7f\u7528-try-with-resources",level:3},{value:"2. \u4f7f\u7528\u7f13\u51b2\u6d41\u63d0\u9ad8\u6027\u80fd",id:"2-\u4f7f\u7528\u7f13\u51b2\u6d41\u63d0\u9ad8\u6027\u80fd",level:3},{value:"3. \u9009\u62e9\u5408\u9002\u7684\u6d41",id:"3-\u9009\u62e9\u5408\u9002\u7684\u6d41",level:3},{value:"4. \u5904\u7406\u6587\u4ef6\u7f16\u7801",id:"4-\u5904\u7406\u6587\u4ef6\u7f16\u7801",level:3},{value:"5. \u5927\u6587\u4ef6\u5904\u7406",id:"5-\u5927\u6587\u4ef6\u5904\u7406",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"io-\u6d41",children:"IO \u6d41"})}),"\n",(0,r.jsx)(n.p,{children:"Java IO\uff08Input/Output\uff09\u7528\u4e8e\u5904\u7406\u8f93\u5165\u548c\u8f93\u51fa\u64cd\u4f5c\u3002\u672c\u6587\u4ecb\u7ecd\u5b57\u8282\u6d41\u3001\u5b57\u7b26\u6d41\u3001\u7f13\u51b2\u6d41\u548c NIO \u7b49\u5185\u5bb9\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"io-\u6d41\u6982\u8ff0",children:"IO \u6d41\u6982\u8ff0"}),"\n",(0,r.jsx)(n.h3,{id:"\u6d41\u7684\u5206\u7c7b",children:"\u6d41\u7684\u5206\u7c7b"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph TD\n    A[Java IO \u6d41] --\x3e B[\u6309\u65b9\u5411\u5206]\n    A --\x3e C[\u6309\u6570\u636e\u5355\u4f4d\u5206]\n    A --\x3e D[\u6309\u529f\u80fd\u5206]\n    \n    B --\x3e E[\u8f93\u5165\u6d41 InputStream/Reader]\n    B --\x3e F[\u8f93\u51fa\u6d41 OutputStream/Writer]\n    \n    C --\x3e G[\u5b57\u8282\u6d41 8bit]\n    C --\x3e H[\u5b57\u7b26\u6d41 16bit]\n    \n    D --\x3e I[\u8282\u70b9\u6d41]\n    D --\x3e J[\u5904\u7406\u6d41]"}),"\n",(0,r.jsx)(n.h3,{id:"\u6d41\u7684\u4f53\u7cfb\u7ed3\u6784",children:"\u6d41\u7684\u4f53\u7cfb\u7ed3\u6784"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5206\u7c7b"}),(0,r.jsx)(n.th,{children:"\u5b57\u8282\u8f93\u5165\u6d41"}),(0,r.jsx)(n.th,{children:"\u5b57\u8282\u8f93\u51fa\u6d41"}),(0,r.jsx)(n.th,{children:"\u5b57\u7b26\u8f93\u5165\u6d41"}),(0,r.jsx)(n.th,{children:"\u5b57\u7b26\u8f93\u51fa\u6d41"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u62bd\u8c61\u57fa\u7c7b"}),(0,r.jsx)(n.td,{children:"InputStream"}),(0,r.jsx)(n.td,{children:"OutputStream"}),(0,r.jsx)(n.td,{children:"Reader"}),(0,r.jsx)(n.td,{children:"Writer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6587\u4ef6"}),(0,r.jsx)(n.td,{children:"FileInputStream"}),(0,r.jsx)(n.td,{children:"FileOutputStream"}),(0,r.jsx)(n.td,{children:"FileReader"}),(0,r.jsx)(n.td,{children:"FileWriter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6570\u7ec4"}),(0,r.jsx)(n.td,{children:"ByteArrayInputStream"}),(0,r.jsx)(n.td,{children:"ByteArrayOutputStream"}),(0,r.jsx)(n.td,{children:"CharArrayReader"}),(0,r.jsx)(n.td,{children:"CharArrayWriter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7f13\u51b2"}),(0,r.jsx)(n.td,{children:"BufferedInputStream"}),(0,r.jsx)(n.td,{children:"BufferedOutputStream"}),(0,r.jsx)(n.td,{children:"BufferedReader"}),(0,r.jsx)(n.td,{children:"BufferedWriter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u8f6c\u6362"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"InputStreamReader"}),(0,r.jsx)(n.td,{children:"OutputStreamWriter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u5bf9\u8c61"}),(0,r.jsx)(n.td,{children:"ObjectInputStream"}),(0,r.jsx)(n.td,{children:"ObjectOutputStream"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6253\u5370"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"PrintStream"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"PrintWriter"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u6570\u636e"}),(0,r.jsx)(n.td,{children:"DataInputStream"}),(0,r.jsx)(n.td,{children:"DataOutputStream"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b57\u8282\u6d41",children:"\u5b57\u8282\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"fileinputstream-\u548c-fileoutputstream",children:"FileInputStream \u548c FileOutputStream"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class FileStreamExample {\n    // \u8bfb\u53d6\u6587\u4ef6\n    public static void readFile(String filename) {\n        FileInputStream fis = null;\n        try {\n            fis = new FileInputStream(filename);\n            int data;\n            while ((data = fis.read()) != -1) {\n                System.out.print((char) data);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fis != null) {\n                try {\n                    fis.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    \n    // \u5199\u5165\u6587\u4ef6\n    public static void writeFile(String filename, String content) {\n        try (FileOutputStream fos = new FileOutputStream(filename)) {\n            fos.write(content.getBytes());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // \u590d\u5236\u6587\u4ef6\n    public static void copyFile(String src, String dest) {\n        try (FileInputStream fis = new FileInputStream(src);\n             FileOutputStream fos = new FileOutputStream(dest)) {\n            \n            byte[] buffer = new byte[1024];\n            int length;\n            while ((length = fis.read(buffer)) != -1) {\n                fos.write(buffer, 0, length);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        writeFile("test.txt", "Hello, Java IO!");\n        readFile("test.txt");\n        copyFile("test.txt", "copy.txt");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"bufferedinputstream-\u548c-bufferedoutputstream",children:"BufferedInputStream \u548c BufferedOutputStream"}),"\n",(0,r.jsx)(n.p,{children:"\u4f7f\u7528\u7f13\u51b2\u533a\u63d0\u9ad8\u8bfb\u5199\u6548\u7387\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class BufferedStreamExample {\n    public static void copyFileWithBuffer(String src, String dest) {\n        try (BufferedInputStream bis = new BufferedInputStream(\n                new FileInputStream(src));\n             BufferedOutputStream bos = new BufferedOutputStream(\n                new FileOutputStream(dest))) {\n            \n            byte[] buffer = new byte[8192];  // 8KB \u7f13\u51b2\u533a\n            int length;\n            while ((length = bis.read(buffer)) != -1) {\n                bos.write(buffer, 0, length);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        long start = System.currentTimeMillis();\n        copyFileWithBuffer("large file.dat", "copy.dat");\n        long end = System.currentTimeMillis();\n        System.out.println("\u8017\u65f6: " + (end - start) + "ms");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5b57\u7b26\u6d41",children:"\u5b57\u7b26\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"filereader-\u548c-filewriter",children:"FileReader \u548c FileWriter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class FileReaderWriterExample {\n    // \u8bfb\u53d6\u6587\u672c\u6587\u4ef6\n    public static void readTextFile(String filename) {\n        try (FileReader reader = new FileReader(filename)) {\n            int data;\n            while ((data = reader.read()) != -1) {\n                System.out.print((char) data);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // \u5199\u5165\u6587\u672c\u6587\u4ef6\n    public static void writeTextFile(String filename, String content) {\n        try (FileWriter writer = new FileWriter(filename)) {\n            writer.write(content);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // \u8ffd\u52a0\u5185\u5bb9\n    public static void appendToFile(String filename, String content) {\n        try (FileWriter writer = new FileWriter(filename, true)) {  // true \u8868\u793a\u8ffd\u52a0\n            writer.write(content);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        writeTextFile("text.txt", "\u7b2c\u4e00\u884c\u5185\u5bb9\\n");\n        appendToFile("text.txt", "\u7b2c\u4e8c\u884c\u5185\u5bb9\\n");\n        readTextFile("text.txt");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"bufferedreader-\u548c-bufferedwriter",children:"BufferedReader \u548c BufferedWriter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class BufferedReaderWriterExample {\n    // \u6309\u884c\u8bfb\u53d6\n    public static void readLines(String filename) {\n        try (BufferedReader reader = new BufferedReader(\n                new FileReader(filename))) {\n            String line;\n            int lineNumber = 1;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(lineNumber + ": " + line);\n                lineNumber++;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // \u6309\u884c\u5199\u5165\n    public static void writeLines(String filename, String[] lines) {\n        try (BufferedWriter writer = new BufferedWriter(\n                new FileWriter(filename))) {\n            for (String line : lines) {\n                writer.write(line);\n                writer.newLine();  // \u5199\u5165\u6362\u884c\u7b26\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        String[] lines = {"\u7b2c\u4e00\u884c", "\u7b2c\u4e8c\u884c", "\u7b2c\u4e09\u884c"};\n        writeLines("lines.txt", lines);\n        readLines("lines.txt");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u8f6c\u6362\u6d41",children:"\u8f6c\u6362\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"inputstreamreader-\u548c-outputstreamwriter",children:"InputStreamReader \u548c OutputStreamWriter"}),"\n",(0,r.jsx)(n.p,{children:"\u5b57\u8282\u6d41\u548c\u5b57\u7b26\u6d41\u4e4b\u95f4\u7684\u6865\u6881\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\nimport java.nio.charset.StandardCharsets;\n\npublic class ConversionStreamExample {\n    public static void main(String[] args) {\n        // \u5b57\u8282\u6d41\u8f6c\u5b57\u7b26\u6d41\uff08\u6307\u5b9a\u7f16\u7801\uff09\n        try (InputStreamReader reader = new InputStreamReader(\n                new FileInputStream("utf8.txt"), StandardCharsets.UTF_8);\n             BufferedReader br = new BufferedReader(reader)) {\n            \n            String line;\n            while ((line = br.readLine()) != null) {\n                System.out.println(line);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // \u5b57\u7b26\u6d41\u8f6c\u5b57\u8282\u6d41\n        try (OutputStreamWriter writer = new OutputStreamWriter(\n                new FileOutputStream("output.txt"), StandardCharsets.UTF_8);\n             BufferedWriter bw = new BufferedWriter(writer)) {\n            \n            bw.write("\u4e2d\u6587\u5185\u5bb9");\n            bw.newLine();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5bf9\u8c61\u6d41",children:"\u5bf9\u8c61\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316",children:"\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\n// \u5b9e\u73b0 Serializable \u63a5\u53e3\nclass Person implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    private String name;\n    private int age;\n    private transient String password;  // transient \u5b57\u6bb5\u4e0d\u4f1a\u88ab\u5e8f\u5217\u5316\n    \n    public Person(String name, int age, String password) {\n        this.name = name;\n        this.age = age;\n        this.password = password;\n    }\n    \n    @Override\n    public String toString() {\n        return "Person{name=\'" + name + "\', age=" + age + \n               ", password=\'" + password + "\'}";\n    }\n}\n\npublic class ObjectStreamExample {\n    // \u5e8f\u5217\u5316\uff08\u5bf9\u8c61 \u2192 \u6587\u4ef6\uff09\n    public static void serializeObject(String filename, Object obj) {\n        try (ObjectOutputStream oos = new ObjectOutputStream(\n                new FileOutputStream(filename))) {\n            oos.writeObject(obj);\n            System.out.println("\u5bf9\u8c61\u5df2\u5e8f\u5217\u5316");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // \u53cd\u5e8f\u5217\u5316\uff08\u6587\u4ef6 \u2192 \u5bf9\u8c61\uff09\n    public static Object deserializeObject(String filename) {\n        try (ObjectInputStream ois = new ObjectInputStream(\n                new FileInputStream(filename))) {\n            Object obj = ois.readObject();\n            System.out.println("\u5bf9\u8c61\u5df2\u53cd\u5e8f\u5217\u5316");\n            return obj;\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n    \n    public static void main(String[] args) {\n        Person person = new Person("\u5f20\u4e09", 25, "secret123");\n        System.out.println("\u539f\u5bf9\u8c61: " + person);\n        \n        // \u5e8f\u5217\u5316\n        serializeObject("person.ser", person);\n        \n        // \u53cd\u5e8f\u5217\u5316\n        Person loadedPerson = (Person) deserializeObject("person.ser");\n        System.out.println("\u53cd\u5e8f\u5217\u5316\u5bf9\u8c61: " + loadedPerson);\n        // \u6ce8\u610f\uff1apassword \u4e3a null\uff08transient \u5b57\u6bb5\uff09\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6570\u636e\u6d41",children:"\u6570\u636e\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"datainputstream-\u548c-dataoutputstream",children:"DataInputStream \u548c DataOutputStream"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class DataStreamExample {\n    public static void main(String[] args) {\n        String filename = "data.dat";\n        \n        // \u5199\u5165\u57fa\u672c\u6570\u636e\u7c7b\u578b\n        try (DataOutputStream dos = new DataOutputStream(\n                new FileOutputStream(filename))) {\n            dos.writeInt(100);\n            dos.writeDouble(3.14);\n            dos.writeBoolean(true);\n            dos.writeUTF("Hello");\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // \u8bfb\u53d6\u57fa\u672c\u6570\u636e\u7c7b\u578b\n        try (DataInputStream dis = new DataInputStream(\n                new FileInputStream(filename))) {\n            int i = dis.readInt();\n            double d = dis.readDouble();\n            boolean b = dis.readBoolean();\n            String s = dis.readUTF();\n            \n            System.out.println("int: " + i);\n            System.out.println("double: " + d);\n            System.out.println("boolean: " + b);\n            System.out.println("String: " + s);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6253\u5370\u6d41",children:"\u6253\u5370\u6d41"}),"\n",(0,r.jsx)(n.h3,{id:"printstream-\u548c-printwriter",children:"PrintStream \u548c PrintWriter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.*;\n\npublic class PrintStreamExample {\n    public static void main(String[] args) {\n        // PrintStream\n        try (PrintStream ps = new PrintStream("print.txt")) {\n            ps.println("\u8fd9\u662f\u4e00\u884c\u6587\u672c");\n            ps.printf("\u683c\u5f0f\u5316\u8f93\u51fa: %s, %d%n", "Java", 2024);\n            ps.print("\u4e0d\u6362\u884c");\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        \n        // PrintWriter\n        try (PrintWriter pw = new PrintWriter(\n                new FileWriter("writer.txt"))) {\n            pw.println("PrintWriter \u8f93\u51fa");\n            pw.printf("\u6570\u5b57: %d, \u6d6e\u70b9: %.2f%n", 100, 3.14159);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // \u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa\n        try {\n            PrintStream ps = new PrintStream("console.txt");\n            System.setOut(ps);\n            System.out.println("\u8fd9\u4f1a\u8f93\u51fa\u5230\u6587\u4ef6");\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"file-\u7c7b",children:"File \u7c7b"}),"\n",(0,r.jsx)(n.h3,{id:"\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c",children:"\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.File;\nimport java.io.IOException;\n\npublic class FileExample {\n    public static void main(String[] args) {\n        // \u521b\u5efa File \u5bf9\u8c61\n        File file = new File("test.txt");\n        File dir = new File("mydir");\n        \n        // \u5224\u65ad\u662f\u5426\u5b58\u5728\n        System.out.println("\u6587\u4ef6\u5b58\u5728: " + file.exists());\n        \n        // \u521b\u5efa\u6587\u4ef6\n        try {\n            if (file.createNewFile()) {\n                System.out.println("\u6587\u4ef6\u521b\u5efa\u6210\u529f");\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // \u521b\u5efa\u76ee\u5f55\n        if (dir.mkdir()) {\n            System.out.println("\u76ee\u5f55\u521b\u5efa\u6210\u529f");\n        }\n        \n        // \u521b\u5efa\u591a\u7ea7\u76ee\u5f55\n        File multiDir = new File("parent/child");\n        if (multiDir.mkdirs()) {\n            System.out.println("\u591a\u7ea7\u76ee\u5f55\u521b\u5efa\u6210\u529f");\n        }\n        \n        // \u6587\u4ef6\u5c5e\u6027\n        System.out.println("\u6587\u4ef6\u540d: " + file.getName());\n        System.out.println("\u7edd\u5bf9\u8def\u5f84: " + file.getAbsolutePath());\n        System.out.println("\u7236\u76ee\u5f55: " + file.getParent());\n        System.out.println("\u6587\u4ef6\u5927\u5c0f: " + file.length() + " \u5b57\u8282");\n        System.out.println("\u662f\u5426\u662f\u6587\u4ef6: " + file.isFile());\n        System.out.println("\u662f\u5426\u662f\u76ee\u5f55: " + file.isDirectory());\n        System.out.println("\u662f\u5426\u53ef\u8bfb: " + file.canRead());\n        System.out.println("\u662f\u5426\u53ef\u5199: " + file.canWrite());\n        System.out.println("\u662f\u5426\u53ef\u6267\u884c: " + file.canExecute());\n        System.out.println("\u662f\u5426\u9690\u85cf: " + file.isHidden());\n        System.out.println("\u6700\u540e\u4fee\u6539\u65f6\u95f4: " + file.lastModified());\n        \n        // \u5217\u51fa\u76ee\u5f55\u5185\u5bb9\n        File currentDir = new File(".");\n        String[] files = currentDir.list();\n        System.out.println("\\n\u5f53\u524d\u76ee\u5f55\u6587\u4ef6:");\n        for (String filename : files) {\n            System.out.println(filename);\n        }\n        \n        // \u904d\u5386\u76ee\u5f55\uff08\u5305\u542b File \u5bf9\u8c61\uff09\n        File[] fileObjects = currentDir.listFiles();\n        if (fileObjects != null) {\n            for (File f : fileObjects) {\n                System.out.println(f.getName() + " - " + \n                    (f.isDirectory() ? "\u76ee\u5f55" : "\u6587\u4ef6"));\n            }\n        }\n        \n        // \u5220\u9664\u6587\u4ef6\n        if (file.delete()) {\n            System.out.println("\u6587\u4ef6\u5220\u9664\u6210\u529f");\n        }\n        \n        // \u91cd\u547d\u540d\n        File newFile = new File("newname.txt");\n        if (file.renameTo(newFile)) {\n            System.out.println("\u91cd\u547d\u540d\u6210\u529f");\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u9012\u5f52\u904d\u5386\u76ee\u5f55",children:"\u9012\u5f52\u904d\u5386\u76ee\u5f55"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.File;\n\npublic class DirectoryTraversalExample {\n    public static void listAllFiles(File dir, int depth) {\n        if (!dir.exists() || !dir.isDirectory()) {\n            return;\n        }\n        \n        String indent = "  ".repeat(depth);\n        File[] files = dir.listFiles();\n        \n        if (files != null) {\n            for (File file : files) {\n                System.out.println(indent + file.getName());\n                if (file.isDirectory()) {\n                    listAllFiles(file, depth + 1);\n                }\n            }\n        }\n    }\n    \n    // \u8ba1\u7b97\u76ee\u5f55\u5927\u5c0f\n    public static long getDirectorySize(File dir) {\n        long size = 0;\n        if (dir.isDirectory()) {\n            File[] files = dir.listFiles();\n            if (files != null) {\n                for (File file : files) {\n                    if (file.isFile()) {\n                        size += file.length();\n                    } else {\n                        size += getDirectorySize(file);\n                    }\n                }\n            }\n        } else {\n            size = dir.length();\n        }\n        return size;\n    }\n    \n    public static void main(String[] args) {\n        File dir = new File(".");\n        System.out.println("\u76ee\u5f55\u7ed3\u6784:");\n        listAllFiles(dir, 0);\n        \n        System.out.println("\\n\u76ee\u5f55\u5927\u5c0f: " + getDirectorySize(dir) + " \u5b57\u8282");\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"nio-new-io",children:"NIO (New IO)"}),"\n",(0,r.jsx)(n.h3,{id:"path-\u548c-files",children:"Path \u548c Files"}),"\n",(0,r.jsx)(n.p,{children:"Java 7+ \u63d0\u4f9b\u7684\u65b0 IO API\u3002"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.IOException;\nimport java.nio.file.*;\nimport java.util.List;\n\npublic class NIOExample {\n    public static void main(String[] args) {\n        // \u521b\u5efa Path\n        Path path = Paths.get("nio.txt");\n        Path dirPath = Paths.get("niodir");\n        \n        try {\n            // \u5199\u5165\u6587\u4ef6\n            Files.write(path, "Hello NIO".getBytes());\n            \n            // \u8bfb\u53d6\u6587\u4ef6\n            byte[] bytes = Files.readAllBytes(path);\n            System.out.println(new String(bytes));\n            \n            // \u6309\u884c\u8bfb\u53d6\n            List<String> lines = Files.readAllLines(path);\n            for (String line : lines) {\n                System.out.println(line);\n            }\n            \n            // \u521b\u5efa\u76ee\u5f55\n            if (!Files.exists(dirPath)) {\n                Files.createDirectory(dirPath);\n            }\n            \n            // \u590d\u5236\u6587\u4ef6\n            Path dest = Paths.get("nio_copy.txt");\n            Files.copy(path, dest, StandardCopyOption.REPLACE_EXISTING);\n            \n            // \u79fb\u52a8\u6587\u4ef6\n            Path moved = Paths.get("nio_moved.txt");\n            Files.move(dest, moved, StandardCopyOption.REPLACE_EXISTING);\n            \n            // \u5220\u9664\u6587\u4ef6\n            Files.deleteIfExists(moved);\n            \n            // \u83b7\u53d6\u6587\u4ef6\u5c5e\u6027\n            System.out.println("\u6587\u4ef6\u5927\u5c0f: " + Files.size(path));\n            System.out.println("\u662f\u5426\u9690\u85cf: " + Files.isHidden(path));\n            System.out.println("\u6700\u540e\u4fee\u6539\u65f6\u95f4: " + Files.getLastModifiedTime(path));\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u904d\u5386\u76ee\u5f55\u6811",children:"\u904d\u5386\u76ee\u5f55\u6811"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.IOException;\nimport java.nio.file.*;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class FileVisitorExample {\n    public static void main(String[] args) {\n        Path startPath = Paths.get(".");\n        \n        try {\n            Files.walkFileTree(startPath, new SimpleFileVisitor<Path>() {\n                @Override\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) {\n                    System.out.println("\u6587\u4ef6: " + file);\n                    return FileVisitResult.CONTINUE;\n                }\n                \n                @Override\n                public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) {\n                    System.out.println("\u76ee\u5f55: " + dir);\n                    return FileVisitResult.CONTINUE;\n                }\n                \n                @Override\n                public FileVisitResult visitFileFailed(Path file, IOException exc) {\n                    System.err.println("\u8bbf\u95ee\u5931\u8d25: " + file);\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316",children:"\u76d1\u542c\u6587\u4ef6\u53d8\u5316"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'import java.io.IOException;\nimport java.nio.file.*;\n\npublic class WatchServiceExample {\n    public static void main(String[] args) {\n        try {\n            WatchService watchService = FileSystems.getDefault().newWatchService();\n            Path path = Paths.get(".");\n            \n            // \u6ce8\u518c\u76d1\u542c\u4e8b\u4ef6\n            path.register(watchService,\n                StandardWatchEventKinds.ENTRY_CREATE,\n                StandardWatchEventKinds.ENTRY_MODIFY,\n                StandardWatchEventKinds.ENTRY_DELETE);\n            \n            System.out.println("\u5f00\u59cb\u76d1\u542c\u76ee\u5f55\u53d8\u5316...");\n            \n            while (true) {\n                WatchKey key = watchService.take();\n                \n                for (WatchEvent<?> event : key.pollEvents()) {\n                    WatchEvent.Kind<?> kind = event.kind();\n                    Path filename = (Path) event.context();\n                    \n                    System.out.println(kind.name() + ": " + filename);\n                }\n                \n                if (!key.reset()) {\n                    break;\n                }\n            }\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,r.jsx)(n.h3,{id:"1-\u4f7f\u7528-try-with-resources",children:"1. \u4f7f\u7528 try-with-resources"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// \u597d\uff1a\u81ea\u52a8\u5173\u95ed\u8d44\u6e90\ntry (BufferedReader reader = new BufferedReader(new FileReader("file.txt"))) {\n    String line = reader.readLine();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u4f7f\u7528\u7f13\u51b2\u6d41\u63d0\u9ad8\u6027\u80fd",children:"2. \u4f7f\u7528\u7f13\u51b2\u6d41\u63d0\u9ad8\u6027\u80fd"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// \u4e0d\u597d\uff1a\u76f4\u63a5\u4f7f\u7528 FileInputStream\nFileInputStream fis = new FileInputStream("file.txt");\n\n// \u597d\uff1a\u4f7f\u7528 BufferedInputStream\nBufferedInputStream bis = new BufferedInputStream(new FileInputStream("file.txt"));\n'})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u9009\u62e9\u5408\u9002\u7684\u6d41",children:"3. \u9009\u62e9\u5408\u9002\u7684\u6d41"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// \u6587\u672c\u6587\u4ef6 \u2192 \u5b57\u7b26\u6d41\nBufferedReader reader = new BufferedReader(new FileReader("text.txt"));\n\n// \u4e8c\u8fdb\u5236\u6587\u4ef6 \u2192 \u5b57\u8282\u6d41\nBufferedInputStream bis = new BufferedInputStream(new FileInputStream("image.jpg"));\n'})}),"\n",(0,r.jsx)(n.h3,{id:"4-\u5904\u7406\u6587\u4ef6\u7f16\u7801",children:"4. \u5904\u7406\u6587\u4ef6\u7f16\u7801"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// \u6307\u5b9a\u7f16\u7801\u8bfb\u53d6\nBufferedReader reader = new BufferedReader(\n    new InputStreamReader(new FileInputStream("utf8.txt"), StandardCharsets.UTF_8)\n);\n\n// \u6307\u5b9a\u7f16\u7801\u5199\u5165\nBufferedWriter writer = new BufferedWriter(\n    new OutputStreamWriter(new FileOutputStream("utf8.txt"), StandardCharsets.UTF_8)\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"5-\u5927\u6587\u4ef6\u5904\u7406",children:"5. \u5927\u6587\u4ef6\u5904\u7406"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'// \u5206\u5757\u8bfb\u53d6\u5927\u6587\u4ef6\ntry (BufferedInputStream bis = new BufferedInputStream(new FileInputStream("large.file"))) {\n    byte[] buffer = new byte[8192];\n    int length;\n    while ((length = bis.read(buffer)) != -1) {\n        // \u5904\u7406\u6570\u636e\u5757\n        processChunk(buffer, length);\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u6587\u4ecb\u7ecd\u4e86 Java IO \u6d41\u7684\u6838\u5fc3\u5185\u5bb9\uff1a"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 \u5b57\u8282\u6d41\uff1aFileInputStream/FileOutputStream"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u5b57\u7b26\u6d41\uff1aFileReader/FileWriter"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u7f13\u51b2\u6d41\uff1aBufferedInputStream/BufferedReader"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u8f6c\u6362\u6d41\uff1aInputStreamReader/OutputStreamWriter"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 \u5bf9\u8c61\u6d41\uff1a\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 File \u7c7b\uff1a\u6587\u4ef6\u548c\u76ee\u5f55\u64cd\u4f5c"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 NIO\uff1aPath\u3001Files\u3001WatchService"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["\u638c\u63e1 IO \u6d41\u540e\uff0c\u7ee7\u7eed\u5b66\u4e60 ",(0,r.jsx)(n.a,{href:"./generics",children:"\u6cdb\u578b"})," \u548c ",(0,r.jsx)(n.a,{href:"./functional-programming",children:"\u51fd\u6570\u5f0f\u7f16\u7a0b"}),"\u3002"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);