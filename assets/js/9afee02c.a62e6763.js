"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[38380],{16677:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"docker/faq","title":"\u5e38\u89c1\u95ee\u9898","description":"Docker \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848","source":"@site/docs/docker/faq.md","sourceDirName":"docker","slug":"/docker/faq","permalink":"/docs/docker/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/docker/faq.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"\u5e38\u89c1\u95ee\u9898","description":"Docker \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"},"sidebar":"docker","previous":{"title":"\u5feb\u901f\u53c2\u8003","permalink":"/docs/docker/quick-reference"}}');var d=r(22714),c=r(48885);const i={sidebar_position:10,title:"\u5e38\u89c1\u95ee\u9898",description:"Docker \u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"},s="Docker \u5e38\u89c1\u95ee\u9898",o={},a=[{value:"\u5b89\u88c5\u4e0e\u914d\u7f6e",id:"\u5b89\u88c5\u4e0e\u914d\u7f6e",level:2},{value:"Docker \u670d\u52a1\u65e0\u6cd5\u542f\u52a8",id:"docker-\u670d\u52a1\u65e0\u6cd5\u542f\u52a8",level:3},{value:"\u6743\u9650\u4e0d\u8db3",id:"\u6743\u9650\u4e0d\u8db3",level:3},{value:"\u955c\u50cf\u62c9\u53d6\u6162",id:"\u955c\u50cf\u62c9\u53d6\u6162",level:3},{value:"\u5bb9\u5668\u95ee\u9898",id:"\u5bb9\u5668\u95ee\u9898",level:2},{value:"\u5bb9\u5668\u542f\u52a8\u540e\u7acb\u5373\u9000\u51fa",id:"\u5bb9\u5668\u542f\u52a8\u540e\u7acb\u5373\u9000\u51fa",level:3},{value:"\u65e0\u6cd5\u5220\u9664\u5bb9\u5668",id:"\u65e0\u6cd5\u5220\u9664\u5bb9\u5668",level:3},{value:"\u5bb9\u5668\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc",id:"\u5bb9\u5668\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc",level:3},{value:"\u955c\u50cf\u95ee\u9898",id:"\u955c\u50cf\u95ee\u9898",level:2},{value:"\u955c\u50cf\u8fc7\u5927",id:"\u955c\u50cf\u8fc7\u5927",level:3},{value:"\u6784\u5efa\u5931\u8d25",id:"\u6784\u5efa\u5931\u8d25",level:3},{value:"\u5b58\u50a8\u95ee\u9898",id:"\u5b58\u50a8\u95ee\u9898",level:2},{value:"\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3",id:"\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3",level:3},{value:"\u6570\u636e\u4e22\u5931",id:"\u6570\u636e\u4e22\u5931",level:3},{value:"\u7f51\u7edc\u95ee\u9898",id:"\u7f51\u7edc\u95ee\u9898",level:2},{value:"\u7aef\u53e3\u51b2\u7a81",id:"\u7aef\u53e3\u51b2\u7a81",level:3},{value:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",id:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",level:3}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"docker-\u5e38\u89c1\u95ee\u9898",children:"Docker \u5e38\u89c1\u95ee\u9898"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5b89\u88c5\u4e0e\u914d\u7f6e",children:"\u5b89\u88c5\u4e0e\u914d\u7f6e"}),"\n",(0,d.jsx)(n.h3,{id:"docker-\u670d\u52a1\u65e0\u6cd5\u542f\u52a8",children:"Docker \u670d\u52a1\u65e0\u6cd5\u542f\u52a8"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u72b6\u6001\nsudo systemctl status docker\n\n# \u67e5\u770b\u65e5\u5fd7\nsudo journalctl -xu docker\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6743\u9650\u4e0d\u8db3",children:"\u6743\u9650\u4e0d\u8db3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u6dfb\u52a0\u7528\u6237\u5230 docker \u7ec4\nsudo usermod -aG docker $USER\nnewgrp docker\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u955c\u50cf\u62c9\u53d6\u6162",children:"\u955c\u50cf\u62c9\u53d6\u6162"}),"\n",(0,d.jsxs)(n.p,{children:["\u914d\u7f6e\u955c\u50cf\u52a0\u901f\u5668 ",(0,d.jsx)(n.code,{children:"/etc/docker/daemon.json"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "registry-mirrors": ["https://mirror.ccs.tencentyun.com"]\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u5bb9\u5668\u95ee\u9898",children:"\u5bb9\u5668\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u542f\u52a8\u540e\u7acb\u5373\u9000\u51fa",children:"\u5bb9\u5668\u542f\u52a8\u540e\u7acb\u5373\u9000\u51fa"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u65e5\u5fd7\ndocker logs container_name\n\n# \u4ea4\u4e92\u5f0f\u8c03\u8bd5\ndocker run -it image_name sh\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u65e0\u6cd5\u5220\u9664\u5bb9\u5668",children:"\u65e0\u6cd5\u5220\u9664\u5bb9\u5668"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5f3a\u5236\u5220\u9664\ndocker rm -f container_name\n\n# \u5220\u9664\u6240\u6709\ndocker rm -f $(docker ps -aq)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc",children:"\u5bb9\u5668\u65e0\u6cd5\u8fde\u63a5\u7f51\u7edc"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u68c0\u67e5 DNS\ndocker run --rm busybox nslookup google.com\n\n# \u4f7f\u7528\u81ea\u5b9a\u4e49 DNS\ndocker run --dns 8.8.8.8 myimage\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u955c\u50cf\u95ee\u9898",children:"\u955c\u50cf\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u955c\u50cf\u8fc7\u5927",children:"\u955c\u50cf\u8fc7\u5927"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528 Alpine \u57fa\u7840\u955c\u50cf"}),"\n",(0,d.jsx)(n.li,{children:"\u591a\u9636\u6bb5\u6784\u5efa"}),"\n",(0,d.jsxs)(n.li,{children:["\u6e05\u7406\u7f13\u5b58\uff1a",(0,d.jsx)(n.code,{children:"rm -rf /var/lib/apt/lists/*"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u6784\u5efa\u5931\u8d25",children:"\u6784\u5efa\u5931\u8d25"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u8be6\u7ec6\u65e5\u5fd7\ndocker build --progress=plain .\n\n# \u4e0d\u4f7f\u7528\u7f13\u5b58\ndocker build --no-cache .\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5b58\u50a8\u95ee\u9898",children:"\u5b58\u50a8\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3",children:"\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u6e05\u7406\ndocker system prune -a --volumes\n\n# \u67e5\u770b\u4f7f\u7528\u60c5\u51b5\ndocker system df\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6570\u636e\u4e22\u5931",children:"\u6570\u636e\u4e22\u5931"}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528\u547d\u540d\u5377\u800c\u975e\u533f\u540d\u5377\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker run -v mydata:/data nginx\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u7f51\u7edc\u95ee\u9898",children:"\u7f51\u7edc\u95ee\u9898"}),"\n",(0,d.jsx)(n.h3,{id:"\u7aef\u53e3\u51b2\u7a81",children:"\u7aef\u53e3\u51b2\u7a81"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67e5\u770b\u7aef\u53e3\u5360\u7528\nlsof -i :80\n\n# \u4f7f\u7528\u5176\u4ed6\u7aef\u53e3\ndocker run -p 8080:80 nginx\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1",children:"\u5bb9\u5668\u95f4\u65e0\u6cd5\u901a\u4fe1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528\u540c\u4e00\u7f51\u7edc\ndocker network create mynet\ndocker run --network mynet --name app1 nginx\ndocker run --network mynet --name app2 alpine ping app1\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},48885:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>s});var l=r(99378);const d={},c=l.createContext(d);function i(e){const n=l.useContext(c);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);