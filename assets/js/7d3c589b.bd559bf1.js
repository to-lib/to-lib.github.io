"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[42138],{23440:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>i,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"mybatis/quick-reference","title":"MyBatis \u5feb\u901f\u53c2\u8003","description":"\u672c\u9875\u63d0\u4f9b MyBatis \u5e38\u7528\u914d\u7f6e\u3001\u6807\u7b7e\u548c\u6ce8\u89e3\u7684\u5feb\u901f\u53c2\u8003\u3002","source":"@site/docs/mybatis/quick-reference.md","sourceDirName":"mybatis","slug":"/mybatis/quick-reference","permalink":"/docs/mybatis/quick-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/mybatis/quick-reference.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"MyBatis \u5feb\u901f\u53c2\u8003"},"sidebar":"mybatis","previous":{"title":"MyBatis \u6700\u4f73\u5b9e\u8df5","permalink":"/docs/mybatis/best-practices"},"next":{"title":"MyBatis \u5e38\u89c1\u95ee\u9898","permalink":"/docs/mybatis/faq"}}');var r=s(22714),d=s(48885);const i={sidebar_position:11,title:"MyBatis \u5feb\u901f\u53c2\u8003"},t="MyBatis \u5feb\u901f\u53c2\u8003",c={},a=[{value:"\u914d\u7f6e\u9879\u901f\u67e5",id:"\u914d\u7f6e\u9879\u901f\u67e5",level:2},{value:"mybatis-config.xml \u7ed3\u6784",id:"mybatis-configxml-\u7ed3\u6784",level:3},{value:"\u5e38\u7528 settings",id:"\u5e38\u7528-settings",level:3},{value:"Spring Boot \u914d\u7f6e",id:"spring-boot-\u914d\u7f6e",level:3},{value:"XML \u6807\u7b7e\u901f\u67e5",id:"xml-\u6807\u7b7e\u901f\u67e5",level:2},{value:"CRUD \u6807\u7b7e",id:"crud-\u6807\u7b7e",level:3},{value:"select \u5c5e\u6027",id:"select-\u5c5e\u6027",level:3},{value:"insert \u5c5e\u6027",id:"insert-\u5c5e\u6027",level:3},{value:"resultMap \u7ed3\u6784",id:"resultmap-\u7ed3\u6784",level:3},{value:"\u5173\u8054\u6620\u5c04",id:"\u5173\u8054\u6620\u5c04",level:3},{value:"\u52a8\u6001 SQL \u901f\u67e5",id:"\u52a8\u6001-sql-\u901f\u67e5",level:2},{value:"\u6761\u4ef6\u6807\u7b7e",id:"\u6761\u4ef6\u6807\u7b7e",level:3},{value:"\u683c\u5f0f\u5316\u6807\u7b7e",id:"\u683c\u5f0f\u5316\u6807\u7b7e",level:3},{value:"foreach",id:"foreach",level:3},{value:"SQL \u7247\u6bb5",id:"sql-\u7247\u6bb5",level:3},{value:"bind \u53d8\u91cf",id:"bind-\u53d8\u91cf",level:3},{value:"\u6ce8\u89e3\u901f\u67e5",id:"\u6ce8\u89e3\u901f\u67e5",level:2},{value:"CRUD \u6ce8\u89e3",id:"crud-\u6ce8\u89e3",level:3},{value:"\u7ed3\u679c\u6620\u5c04\u6ce8\u89e3",id:"\u7ed3\u679c\u6620\u5c04\u6ce8\u89e3",level:3},{value:"Provider \u6ce8\u89e3",id:"provider-\u6ce8\u89e3",level:3},{value:"\u5176\u4ed6\u6ce8\u89e3",id:"\u5176\u4ed6\u6ce8\u89e3",level:3},{value:"\u5e38\u7528\u4ee3\u7801\u7247\u6bb5",id:"\u5e38\u7528\u4ee3\u7801\u7247\u6bb5",level:2},{value:"\u57fa\u7840 CRUD",id:"\u57fa\u7840-crud",level:3},{value:"\u52a8\u6001\u6761\u4ef6\u67e5\u8be2",id:"\u52a8\u6001\u6761\u4ef6\u67e5\u8be2",level:3},{value:"\u52a8\u6001\u66f4\u65b0",id:"\u52a8\u6001\u66f4\u65b0",level:3},{value:"\u6279\u91cf\u63d2\u5165",id:"\u6279\u91cf\u63d2\u5165",level:3},{value:"\u6279\u91cf\u5220\u9664",id:"\u6279\u91cf\u5220\u9664",level:3},{value:"\u5206\u9875\u67e5\u8be2",id:"\u5206\u9875\u67e5\u8be2",level:3},{value:"\u8054\u8868\u67e5\u8be2",id:"\u8054\u8868\u67e5\u8be2",level:3},{value:"\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e49",id:"\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e49",level:2},{value:"\u7c7b\u578b\u522b\u540d",id:"\u7c7b\u578b\u522b\u540d",level:2},{value:"\u76f8\u5173\u94fe\u63a5",id:"\u76f8\u5173\u94fe\u63a5",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"mybatis-\u5feb\u901f\u53c2\u8003",children:"MyBatis \u5feb\u901f\u53c2\u8003"})}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u9875\u63d0\u4f9b MyBatis \u5e38\u7528\u914d\u7f6e\u3001\u6807\u7b7e\u548c\u6ce8\u89e3\u7684\u5feb\u901f\u53c2\u8003\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u914d\u7f6e\u9879\u901f\u67e5",children:"\u914d\u7f6e\u9879\u901f\u67e5"}),"\n",(0,r.jsx)(n.h3,{id:"mybatis-configxml-\u7ed3\u6784",children:"mybatis-config.xml \u7ed3\u6784"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<configuration>\n    <properties/>      \x3c!-- \u5c5e\u6027 --\x3e\n    <settings/>        \x3c!-- \u8bbe\u7f6e --\x3e\n    <typeAliases/>     \x3c!-- \u7c7b\u578b\u522b\u540d --\x3e\n    <typeHandlers/>    \x3c!-- \u7c7b\u578b\u5904\u7406\u5668 --\x3e\n    <objectFactory/>   \x3c!-- \u5bf9\u8c61\u5de5\u5382 --\x3e\n    <plugins/>         \x3c!-- \u63d2\u4ef6 --\x3e\n    <environments/>    \x3c!-- \u73af\u5883 --\x3e\n    <databaseIdProvider/>  \x3c!-- \u6570\u636e\u5e93\u5382\u5546 --\x3e\n    <mappers/>         \x3c!-- \u6620\u5c04\u5668 --\x3e\n</configuration>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u5e38\u7528-settings",children:"\u5e38\u7528 settings"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u8bbe\u7f6e"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,r.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cacheEnabled"})}),(0,r.jsx)(n.td,{children:"\u4e8c\u7ea7\u7f13\u5b58\u5f00\u5173"}),(0,r.jsx)(n.td,{children:"true"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"lazyLoadingEnabled"})}),(0,r.jsx)(n.td,{children:"\u5ef6\u8fdf\u52a0\u8f7d"}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mapUnderscoreToCamelCase"})}),(0,r.jsx)(n.td,{children:"\u9a7c\u5cf0\u547d\u540d\u6620\u5c04"}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useGeneratedKeys"})}),(0,r.jsx)(n.td,{children:"\u81ea\u589e\u4e3b\u952e"}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"defaultExecutorType"})}),(0,r.jsx)(n.td,{children:"\u6267\u884c\u5668\u7c7b\u578b"}),(0,r.jsx)(n.td,{children:"SIMPLE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"defaultStatementTimeout"})}),(0,r.jsx)(n.td,{children:"SQL \u8d85\u65f6\uff08\u79d2\uff09"}),(0,r.jsx)(n.td,{children:"null"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"logImpl"})}),(0,r.jsx)(n.td,{children:"\u65e5\u5fd7\u5b9e\u73b0"}),(0,r.jsx)(n.td,{children:"\u672a\u8bbe\u7f6e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"localCacheScope"})}),(0,r.jsx)(n.td,{children:"\u4e00\u7ea7\u7f13\u5b58\u4f5c\u7528\u57df"}),(0,r.jsx)(n.td,{children:"SESSION"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"spring-boot-\u914d\u7f6e",children:"Spring Boot \u914d\u7f6e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"mybatis:\n  mapper-locations: classpath:mapper/*.xml\n  type-aliases-package: com.example.entity\n  configuration:\n    map-underscore-to-camel-case: true\n    cache-enabled: true\n    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl\n"})}),"\n",(0,r.jsx)(n.h2,{id:"xml-\u6807\u7b7e\u901f\u67e5",children:"XML \u6807\u7b7e\u901f\u67e5"}),"\n",(0,r.jsx)(n.h3,{id:"crud-\u6807\u7b7e",children:"CRUD \u6807\u7b7e"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6807\u7b7e"}),(0,r.jsx)(n.th,{children:"\u5c5e\u6027"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<select>"})}),(0,r.jsx)(n.td,{children:"id, parameterType, resultType, resultMap"}),(0,r.jsx)(n.td,{children:"\u67e5\u8be2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<insert>"})}),(0,r.jsx)(n.td,{children:"id, parameterType, useGeneratedKeys, keyProperty"}),(0,r.jsx)(n.td,{children:"\u63d2\u5165"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<update>"})}),(0,r.jsx)(n.td,{children:"id, parameterType"}),(0,r.jsx)(n.td,{children:"\u66f4\u65b0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<delete>"})}),(0,r.jsx)(n.td,{children:"id, parameterType"}),(0,r.jsx)(n.td,{children:"\u5220\u9664"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"select-\u5c5e\u6027",children:"select \u5c5e\u6027"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<select\n    id="selectById"\n    parameterType="long"\n    resultType="User"\n    resultMap="userResultMap"\n    useCache="true"\n    flushCache="false"\n    timeout="30"\n    fetchSize="100"\n    statementType="PREPARED">\n</select>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"insert-\u5c5e\u6027",children:"insert \u5c5e\u6027"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<insert\n    id="insert"\n    parameterType="User"\n    useGeneratedKeys="true"\n    keyProperty="id"\n    keyColumn="id"\n    timeout="30">\n</insert>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"resultmap-\u7ed3\u6784",children:"resultMap \u7ed3\u6784"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<resultMap id="userMap" type="User" autoMapping="true">\n    <constructor>\n        <idArg column="id" javaType="long"/>\n        <arg column="name" javaType="String"/>\n    </constructor>\n    <id property="id" column="id"/>\n    <result property="name" column="name"/>\n    <association property="dept" javaType="Dept"/>\n    <collection property="orders" ofType="Order"/>\n    <discriminator javaType="int" column="type">\n        <case value="1" resultType="Admin"/>\n    </discriminator>\n</resultMap>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5173\u8054\u6620\u5c04",children:"\u5173\u8054\u6620\u5c04"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u4e00\u5bf9\u4e00 --\x3e\n<association property="user" javaType="User"\n    column="user_id" select="selectUser"\n    fetchType="lazy"/>\n\n\x3c!-- \u4e00\u5bf9\u591a --\x3e\n<collection property="orders" ofType="Order"\n    column="id" select="selectOrders"\n    fetchType="lazy"/>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u52a8\u6001-sql-\u901f\u67e5",children:"\u52a8\u6001 SQL \u901f\u67e5"}),"\n",(0,r.jsx)(n.h3,{id:"\u6761\u4ef6\u6807\u7b7e",children:"\u6761\u4ef6\u6807\u7b7e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- if --\x3e\n<if test="name != null">AND name = #{name}</if>\n\n\x3c!-- choose/when/otherwise --\x3e\n<choose>\n    <when test="id != null">id = #{id}</when>\n    <when test="name != null">name = #{name}</when>\n    <otherwise>status = 1</otherwise>\n</choose>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u683c\u5f0f\u5316\u6807\u7b7e",children:"\u683c\u5f0f\u5316\u6807\u7b7e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- where\uff1a\u81ea\u52a8\u53bb\u9664\u5f00\u5934 AND/OR --\x3e\n<where>\n    <if test="name != null">AND name = #{name}</if>\n</where>\n\n\x3c!-- set\uff1a\u81ea\u52a8\u53bb\u9664\u672b\u5c3e\u9017\u53f7 --\x3e\n<set>\n    <if test="name != null">name = #{name},</if>\n</set>\n\n\x3c!-- trim\uff1a\u81ea\u5b9a\u4e49\u524d\u540e\u7f00 --\x3e\n<trim prefix="WHERE" prefixOverrides="AND |OR ">\n    ...\n</trim>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"foreach",children:"foreach"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<foreach\n    collection="list"\n    item="item"\n    index="index"\n    open="("\n    separator=","\n    close=")">\n    #{item}\n</foreach>\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"collection \u503c"}),(0,r.jsx)(n.th,{children:"\u53c2\u6570\u7c7b\u578b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"list"})}),(0,r.jsx)(n.td,{children:"List \u53c2\u6570"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})}),(0,r.jsx)(n.td,{children:"\u6570\u7ec4\u53c2\u6570"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"collection"})}),(0,r.jsx)(n.td,{children:"Collection \u53c2\u6570"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u81ea\u5b9a\u4e49\u540d"}),(0,r.jsx)(n.td,{children:"@Param \u6307\u5b9a"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"sql-\u7247\u6bb5",children:"SQL \u7247\u6bb5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u5b9a\u4e49 --\x3e\n<sql id="columns">id, name, email</sql>\n\n\x3c!-- \u5f15\u7528 --\x3e\n<include refid="columns"/>\n\n\x3c!-- \u5e26\u53c2\u6570 --\x3e\n<sql id="cols">${alias}.id, ${alias}.name</sql>\n<include refid="cols">\n    <property name="alias" value="u"/>\n</include>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"bind-\u53d8\u91cf",children:"bind \u53d8\u91cf"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<bind name=\"pattern\" value=\"'%' + name + '%'\"/>\nSELECT * FROM user WHERE name LIKE #{pattern}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6ce8\u89e3\u901f\u67e5",children:"\u6ce8\u89e3\u901f\u67e5"}),"\n",(0,r.jsx)(n.h3,{id:"crud-\u6ce8\u89e3",children:"CRUD \u6ce8\u89e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Select("SELECT * FROM user WHERE id = #{id}")\nUser selectById(Long id);\n\n@Insert("INSERT INTO user(name) VALUES(#{name})")\n@Options(useGeneratedKeys = true, keyProperty = "id")\nint insert(User user);\n\n@Update("UPDATE user SET name = #{name} WHERE id = #{id}")\nint update(User user);\n\n@Delete("DELETE FROM user WHERE id = #{id}")\nint deleteById(Long id);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u7ed3\u679c\u6620\u5c04\u6ce8\u89e3",children:"\u7ed3\u679c\u6620\u5c04\u6ce8\u89e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Results(id = "userMap", value = {\n    @Result(property = "id", column = "id", id = true),\n    @Result(property = "name", column = "user_name"),\n    @Result(property = "dept", column = "dept_id",\n            one = @One(select = "selectDept")),\n    @Result(property = "orders", column = "id",\n            many = @Many(select = "selectOrders"))\n})\n@Select("SELECT * FROM user WHERE id = #{id}")\nUser selectById(Long id);\n\n@ResultMap("userMap")\n@Select("SELECT * FROM user")\nList<User> selectAll();\n'})}),"\n",(0,r.jsx)(n.h3,{id:"provider-\u6ce8\u89e3",children:"Provider \u6ce8\u89e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@SelectProvider(type = UserSqlProvider.class, method = "selectByCondition")\nList<User> selectByCondition(UserQuery query);\n\n@InsertProvider(type = UserSqlProvider.class, method = "insert")\nint insert(User user);\n\n@UpdateProvider(type = UserSqlProvider.class, method = "update")\nint update(User user);\n\n@DeleteProvider(type = UserSqlProvider.class, method = "delete")\nint delete(Long id);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5176\u4ed6\u6ce8\u89e3",children:"\u5176\u4ed6\u6ce8\u89e3"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'@Param("name")           // \u53c2\u6570\u547d\u540d\n@MapKey("id")            // Map \u7ed3\u679c\u7684 key\n@Flush                   // \u5237\u65b0\u8bed\u53e5\n@CacheNamespace          // \u7f13\u5b58\u914d\u7f6e\n@CacheNamespaceRef       // \u7f13\u5b58\u5f15\u7528\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5e38\u7528\u4ee3\u7801\u7247\u6bb5",children:"\u5e38\u7528\u4ee3\u7801\u7247\u6bb5"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u7840-crud",children:"\u57fa\u7840 CRUD"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u67e5\u8be2 --\x3e\n<select id="selectById" resultType="User">\n    SELECT id, name, email, age, create_time\n    FROM user WHERE id = #{id}\n</select>\n\n\x3c!-- \u63d2\u5165 --\x3e\n<insert id="insert" useGeneratedKeys="true" keyProperty="id">\n    INSERT INTO user (name, email, age, create_time)\n    VALUES (#{name}, #{email}, #{age}, NOW())\n</insert>\n\n\x3c!-- \u66f4\u65b0 --\x3e\n<update id="update">\n    UPDATE user\n    SET name = #{name}, email = #{email}, update_time = NOW()\n    WHERE id = #{id}\n</update>\n\n\x3c!-- \u5220\u9664 --\x3e\n<delete id="deleteById">\n    DELETE FROM user WHERE id = #{id}\n</delete>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u52a8\u6001\u6761\u4ef6\u67e5\u8be2",children:"\u52a8\u6001\u6761\u4ef6\u67e5\u8be2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<select id="selectByCondition" resultType="User">\n    SELECT * FROM user\n    <where>\n        <if test="name != null and name != \'\'">\n            AND name LIKE CONCAT(\'%\', #{name}, \'%\')\n        </if>\n        <if test="email != null">\n            AND email = #{email}\n        </if>\n        <if test="minAge != null">\n            AND age >= #{minAge}\n        </if>\n        <if test="maxAge != null">\n            AND age &lt;= #{maxAge}\n        </if>\n        <if test="status != null">\n            AND status = #{status}\n        </if>\n    </where>\n    ORDER BY create_time DESC\n</select>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u52a8\u6001\u66f4\u65b0",children:"\u52a8\u6001\u66f4\u65b0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<update id="updateSelective">\n    UPDATE user\n    <set>\n        <if test="name != null">name = #{name},</if>\n        <if test="email != null">email = #{email},</if>\n        <if test="age != null">age = #{age},</if>\n        update_time = NOW(),\n    </set>\n    WHERE id = #{id}\n</update>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6279\u91cf\u63d2\u5165",children:"\u6279\u91cf\u63d2\u5165"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<insert id="batchInsert">\n    INSERT INTO user (name, email, age)\n    VALUES\n    <foreach collection="list" item="user" separator=",">\n        (#{user.name}, #{user.email}, #{user.age})\n    </foreach>\n</insert>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u6279\u91cf\u5220\u9664",children:"\u6279\u91cf\u5220\u9664"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<delete id="batchDelete">\n    DELETE FROM user\n    WHERE id IN\n    <foreach collection="ids" item="id" open="(" separator="," close=")">\n        #{id}\n    </foreach>\n</delete>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5206\u9875\u67e5\u8be2",children:"\u5206\u9875\u67e5\u8be2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<select id="selectPage" resultType="User">\n    SELECT * FROM user\n    <include refid="whereCondition"/>\n    ORDER BY create_time DESC\n    LIMIT #{offset}, #{pageSize}\n</select>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u8054\u8868\u67e5\u8be2",children:"\u8054\u8868\u67e5\u8be2"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<resultMap id="userWithOrders" type="User">\n    <id property="id" column="id"/>\n    <result property="name" column="name"/>\n    <collection property="orders" ofType="Order">\n        <id property="id" column="order_id"/>\n        <result property="orderNo" column="order_no"/>\n    </collection>\n</resultMap>\n\n<select id="selectWithOrders" resultMap="userWithOrders">\n    SELECT u.id, u.name, o.id as order_id, o.order_no\n    FROM user u\n    LEFT JOIN orders o ON u.id = o.user_id\n    WHERE u.id = #{id}\n</select>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e49",children:"\u7279\u6b8a\u5b57\u7b26\u8f6c\u4e49"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5b57\u7b26"}),(0,r.jsx)(n.th,{children:"\u8f6c\u4e49"}),(0,r.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&lt;"})}),(0,r.jsx)(n.td,{children:"\u5c0f\u4e8e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:">"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&gt;"})}),(0,r.jsx)(n.td,{children:"\u5927\u4e8e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&amp;"})}),(0,r.jsx)(n.td,{children:"\u4e0e"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&apos;"})}),(0,r.jsx)(n.td,{children:"\u5355\u5f15\u53f7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"'})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"&quot;"})}),(0,r.jsx)(n.td,{children:"\u53cc\u5f15\u53f7"})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'\x3c!-- \u4f7f\u7528\u8f6c\u4e49 --\x3e\n<if test="age &gt;= 18">...</if>\n\n\x3c!-- \u4f7f\u7528 CDATA --\x3e\n<![CDATA[AND age >= 18]]>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u7c7b\u578b\u522b\u540d",children:"\u7c7b\u578b\u522b\u540d"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u522b\u540d"}),(0,r.jsx)(n.th,{children:"Java \u7c7b\u578b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"int"}),"/",(0,r.jsx)(n.code,{children:"integer"})]}),(0,r.jsx)(n.td,{children:"Integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"long"})}),(0,r.jsx)(n.td,{children:"Long"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"double"})}),(0,r.jsx)(n.td,{children:"Double"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Boolean"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsx)(n.td,{children:"Date"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"map"})}),(0,r.jsx)(n.td,{children:"Map"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"list"})}),(0,r.jsx)(n.td,{children:"List"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"arraylist"})}),(0,r.jsx)(n.td,{children:"ArrayList"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hashmap"})}),(0,r.jsx)(n.td,{children:"HashMap"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u76f8\u5173\u94fe\u63a5",children:"\u76f8\u5173\u94fe\u63a5"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/mybatis/configuration",children:"\u914d\u7f6e\u8be6\u89e3"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/mybatis/xml-mapping",children:"XML \u6620\u5c04"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/mybatis/dynamic-sql",children:"\u52a8\u6001 SQL"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/mybatis/annotations",children:"\u6ce8\u89e3\u6620\u5c04"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6700\u540e\u66f4\u65b0"}),": 2025 \u5e74 12 \u6708"]})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},48885:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var l=s(99378);const r={},d=l.createContext(r);function i(e){const n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);