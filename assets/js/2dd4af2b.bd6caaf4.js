"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[65476],{14535:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"springcloud-alibaba/getting-started","title":"\u5feb\u901f\u5f00\u59cb\u6307\u5357","description":"[!TIP]","source":"@site/docs/springcloud-alibaba/getting-started.md","sourceDirName":"springcloud-alibaba","slug":"/springcloud-alibaba/getting-started","permalink":"/docs/springcloud-alibaba/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/springcloud-alibaba/getting-started.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"getting-started","title":"\u5feb\u901f\u5f00\u59cb\u6307\u5357","sidebar_label":"\u5feb\u901f\u5f00\u59cb","sidebar_position":3},"sidebar":"springcloudAlibaba","previous":{"title":"\u6982\u89c8","permalink":"/docs/springcloud-alibaba/"},"next":{"title":"\u6838\u5fc3\u6982\u5ff5","permalink":"/docs/springcloud-alibaba/core-concepts"}}');var s=r(22714),a=r(48885);const l={id:"getting-started",title:"\u5feb\u901f\u5f00\u59cb\u6307\u5357",sidebar_label:"\u5feb\u901f\u5f00\u59cb",sidebar_position:3},o="Spring Cloud Alibaba \u5feb\u901f\u5f00\u59cb",c={},d=[{value:"1. \u73af\u5883\u51c6\u5907",id:"1-\u73af\u5883\u51c6\u5907",level:2},{value:"\u5fc5\u9700\u8f6f\u4ef6",id:"\u5fc5\u9700\u8f6f\u4ef6",level:3},{value:"\u7248\u672c\u5bf9\u5e94\u5173\u7cfb",id:"\u7248\u672c\u5bf9\u5e94\u5173\u7cfb",level:3},{value:"2. \u542f\u52a8 Nacos Server",id:"2-\u542f\u52a8-nacos-server",level:2},{value:"\u4f7f\u7528 Docker (\u63a8\u8350)",id:"\u4f7f\u7528-docker-\u63a8\u8350",level:3},{value:"\u624b\u52a8\u4e0b\u8f7d\u542f\u52a8",id:"\u624b\u52a8\u4e0b\u8f7d\u542f\u52a8",level:3},{value:"3. \u521b\u5efa\u7236\u9879\u76ee",id:"3-\u521b\u5efa\u7236\u9879\u76ee",level:2},{value:"\u521b\u5efa\u9879\u76ee\u7ed3\u6784",id:"\u521b\u5efa\u9879\u76ee\u7ed3\u6784",level:3},{value:"\u7236 POM \u914d\u7f6e",id:"\u7236-pom-\u914d\u7f6e",level:3},{value:"4. \u521b\u5efa\u7528\u6237\u670d\u52a1 (Provider)",id:"4-\u521b\u5efa\u7528\u6237\u670d\u52a1-provider",level:2},{value:"\u6dfb\u52a0\u4f9d\u8d56",id:"\u6dfb\u52a0\u4f9d\u8d56",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"\u5b9e\u4f53\u7c7b",id:"\u5b9e\u4f53\u7c7b",level:3},{value:"Controller",id:"controller",level:3},{value:"\u542f\u52a8\u7c7b",id:"\u542f\u52a8\u7c7b",level:3},{value:"5. \u521b\u5efa\u8ba2\u5355\u670d\u52a1 (Consumer)",id:"5-\u521b\u5efa\u8ba2\u5355\u670d\u52a1-consumer",level:2},{value:"\u6dfb\u52a0\u4f9d\u8d56",id:"\u6dfb\u52a0\u4f9d\u8d56-1",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6-1",level:3},{value:"\u914d\u7f6e\u7c7b",id:"\u914d\u7f6e\u7c7b",level:3},{value:"\u5b9e\u4f53\u7c7b",id:"\u5b9e\u4f53\u7c7b-1",level:3},{value:"Controller",id:"controller-1",level:3},{value:"\u542f\u52a8\u7c7b",id:"\u542f\u52a8\u7c7b-1",level:3},{value:"6. \u8fd0\u884c\u548c\u6d4b\u8bd5",id:"6-\u8fd0\u884c\u548c\u6d4b\u8bd5",level:2},{value:"\u542f\u52a8\u670d\u52a1",id:"\u542f\u52a8\u670d\u52a1",level:3},{value:"\u9a8c\u8bc1\u670d\u52a1\u6ce8\u518c",id:"\u9a8c\u8bc1\u670d\u52a1\u6ce8\u518c",level:3},{value:"\u6d4b\u8bd5\u63a5\u53e3",id:"\u6d4b\u8bd5\u63a5\u53e3",level:3},{value:"7. \u6dfb\u52a0\u914d\u7f6e\u7ba1\u7406",id:"7-\u6dfb\u52a0\u914d\u7f6e\u7ba1\u7406",level:2},{value:"\u5728 Nacos \u4e2d\u521b\u5efa\u914d\u7f6e",id:"\u5728-nacos-\u4e2d\u521b\u5efa\u914d\u7f6e",level:3},{value:"\u4f7f\u7528\u914d\u7f6e",id:"\u4f7f\u7528\u914d\u7f6e",level:3},{value:"\u6d4b\u8bd5\u914d\u7f6e",id:"\u6d4b\u8bd5\u914d\u7f6e",level:3},{value:"8. \u9879\u76ee\u7ed3\u6784\u603b\u7ed3",id:"8-\u9879\u76ee\u7ed3\u6784\u603b\u7ed3",level:2},{value:"9. \u5e38\u89c1\u95ee\u9898",id:"9-\u5e38\u89c1\u95ee\u9898",level:2},{value:"\u670d\u52a1\u6ce8\u518c\u5931\u8d25",id:"\u670d\u52a1\u6ce8\u518c\u5931\u8d25",level:3},{value:"\u670d\u52a1\u8c03\u7528\u5931\u8d25",id:"\u670d\u52a1\u8c03\u7528\u5931\u8d25",level:3},{value:"\u914d\u7f6e\u4e0d\u751f\u6548",id:"\u914d\u7f6e\u4e0d\u751f\u6548",level:3},{value:"10. \u4e0b\u4e00\u6b65",id:"10-\u4e0b\u4e00\u6b65",level:2}];function t(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"spring-cloud-alibaba-\u5feb\u901f\u5f00\u59cb",children:"Spring Cloud Alibaba \u5feb\u901f\u5f00\u59cb"})}),"\n",(0,s.jsxs)(e.blockquote,{children:["\n",(0,s.jsxs)(e.p,{children:["[!TIP]\n",(0,s.jsx)(e.strong,{children:"\u52a8\u624b\u5b9e\u8df5"}),": \u901a\u8fc7\u672c\u6307\u5357,\u4f60\u5c06\u5728 30 \u5206\u949f\u5185\u642d\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684\u5fae\u670d\u52a1\u793a\u4f8b,\u5305\u62ec\u670d\u52a1\u6ce8\u518c\u3001\u914d\u7f6e\u7ba1\u7406\u548c\u670d\u52a1\u8c03\u7528\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"1-\u73af\u5883\u51c6\u5907",children:"1. \u73af\u5883\u51c6\u5907"}),"\n",(0,s.jsx)(e.h3,{id:"\u5fc5\u9700\u8f6f\u4ef6",children:"\u5fc5\u9700\u8f6f\u4ef6"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"JDK"}),": 17 \u6216\u66f4\u9ad8\u7248\u672c"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Maven"}),": 3.6.0 \u6216\u66f4\u9ad8\u7248\u672c"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"IDE"}),": IntelliJ IDEA \u6216 Eclipse"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Docker"}),": \u7528\u4e8e\u8fd0\u884c Nacos (\u53ef\u9009)"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u7248\u672c\u5bf9\u5e94\u5173\u7cfb",children:"\u7248\u672c\u5bf9\u5e94\u5173\u7cfb"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Spring Cloud Alibaba"}),(0,s.jsx)(e.th,{children:"Spring Cloud"}),(0,s.jsx)(e.th,{children:"Spring Boot"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2023.0.0.0"}),(0,s.jsx)(e.td,{children:"2023.0.x"}),(0,s.jsx)(e.td,{children:"3.2.x"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2022.0.0.0"}),(0,s.jsx)(e.td,{children:"2022.0.x"}),(0,s.jsx)(e.td,{children:"3.0.x"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"2021.0.5.0"}),(0,s.jsx)(e.td,{children:"2021.0.x"}),(0,s.jsx)(e.td,{children:"2.6.x"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"2-\u542f\u52a8-nacos-server",children:"2. \u542f\u52a8 Nacos Server"}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528-docker-\u63a8\u8350",children:"\u4f7f\u7528 Docker (\u63a8\u8350)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"docker run -d \\\n  --name nacos \\\n  -p 8848:8848 \\\n  -p 9848:9848 \\\n  -e MODE=standalone \\\n  nacos/nacos-server:v2.3.0\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u624b\u52a8\u4e0b\u8f7d\u542f\u52a8",children:"\u624b\u52a8\u4e0b\u8f7d\u542f\u52a8"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u4e0b\u8f7d\nwget https://github.com/alibaba/nacos/releases/download/2.3.0/nacos-server-2.3.0.zip\n\n# \u89e3\u538b\nunzip nacos-server-2.3.0.zip\n\n# \u542f\u52a8 (Linux/Mac)\ncd nacos/bin\nsh startup.sh -m standalone\n\n# \u542f\u52a8 (Windows)\ncd nacos\\bin\nstartup.cmd -m standalone\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u8bbf\u95ee\u63a7\u5236\u53f0: ",(0,s.jsx)(e.a,{href:"http://localhost:8848/nacos",children:"http://localhost:8848/nacos"})]}),"\n",(0,s.jsxs)(e.p,{children:["\u9ed8\u8ba4\u8d26\u53f7\u5bc6\u7801: ",(0,s.jsx)(e.code,{children:"nacos/nacos"})]}),"\n",(0,s.jsx)(e.h2,{id:"3-\u521b\u5efa\u7236\u9879\u76ee",children:"3. \u521b\u5efa\u7236\u9879\u76ee"}),"\n",(0,s.jsx)(e.h3,{id:"\u521b\u5efa\u9879\u76ee\u7ed3\u6784",children:"\u521b\u5efa\u9879\u76ee\u7ed3\u6784"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"springcloud-alibaba-demo\n\u251c\u2500\u2500 pom.xml\n\u251c\u2500\u2500 user-service (\u7528\u6237\u670d\u52a1)\n\u2514\u2500\u2500 order-service (\u8ba2\u5355\u670d\u52a1)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u7236-pom-\u914d\u7f6e",children:"\u7236 POM \u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",metastring:'title="pom.xml"',children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <groupId>com.example</groupId>\n    <artifactId>springcloud-alibaba-demo</artifactId>\n    <version>1.0.0</version>\n    <packaging>pom</packaging>\n\n    <modules>\n        <module>user-service</module>\n        <module>order-service</module>\n    </modules>\n\n    <properties>\n        <java.version>17</java.version>\n        <spring-boot.version>3.2.0</spring-boot.version>\n        <spring-cloud.version>2023.0.0</spring-cloud.version>\n        <spring-cloud-alibaba.version>2023.0.0.0</spring-cloud-alibaba.version>\n    </properties>\n\n    <dependencyManagement>\n        <dependencies>\n            \x3c!-- Spring Boot --\x3e\n            <dependency>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-dependencies</artifactId>\n                <version>${spring-boot.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n\n            \x3c!-- Spring Cloud --\x3e\n            <dependency>\n                <groupId>org.springframework.cloud</groupId>\n                <artifactId>spring-cloud-dependencies</artifactId>\n                <version>${spring-cloud.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n\n            \x3c!-- Spring Cloud Alibaba --\x3e\n            <dependency>\n                <groupId>com.alibaba.cloud</groupId>\n                <artifactId>spring-cloud-alibaba-dependencies</artifactId>\n                <version>${spring-cloud-alibaba.version}</version>\n                <type>pom</type>\n                <scope>import</scope>\n            </dependency>\n        </dependencies>\n    </dependencyManagement>\n\n    <build>\n        <plugins>\n            <plugin>\n                <groupId>org.springframework.boot</groupId>\n                <artifactId>spring-boot-maven-plugin</artifactId>\n                <version>${spring-boot.version}</version>\n            </plugin>\n        </plugins>\n    </build>\n</project>\n'})}),"\n",(0,s.jsx)(e.h2,{id:"4-\u521b\u5efa\u7528\u6237\u670d\u52a1-provider",children:"4. \u521b\u5efa\u7528\u6237\u670d\u52a1 (Provider)"}),"\n",(0,s.jsx)(e.h3,{id:"\u6dfb\u52a0\u4f9d\u8d56",children:"\u6dfb\u52a0\u4f9d\u8d56"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",metastring:'title="user-service/pom.xml"',children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.example</groupId>\n        <artifactId>springcloud-alibaba-demo</artifactId>\n        <version>1.0.0</version>\n    </parent>\n\n    <artifactId>user-service</artifactId>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        \x3c!-- Nacos \u670d\u52a1\u6ce8\u518c\u53d1\u73b0 --\x3e\n        <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n        </dependency>\n\n        \x3c!-- Nacos \u914d\u7f6e\u7ba1\u7406 --\x3e\n        <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-config</artifactId>\n        </dependency>\n\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-actuator</artifactId>\n        </dependency>\n    </dependencies>\n</project>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="user-service/src/main/resources/application.yml"',children:'server:\n  port: 8081\n\nspring:\n  application:\n    name: user-service\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n      config:\n        server-addr: localhost:8848\n        file-extension: yaml\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u5b9e\u4f53\u7c7b",children:"\u5b9e\u4f53\u7c7b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="User.java"',children:"package com.example.user.entity;\n\npublic class User {\n    private Long id;\n    private String name;\n    private String email;\n\n    public User() {}\n\n    public User(Long id, String name, String email) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n    }\n\n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n    public String getEmail() { return email; }\n    public void setEmail(String email) { this.email = email; }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"controller",children:"Controller"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="UserController.java"',children:'package com.example.user.controller;\n\nimport com.example.user.entity.User;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@RestController\n@RequestMapping("/users")\npublic class UserController {\n\n    private static final Map<Long, User> users = new HashMap<>();\n\n    static {\n        users.put(1L, new User(1L, "\u5f20\u4e09", "zhangsan@example.com"));\n        users.put(2L, new User(2L, "\u674e\u56db", "lisi@example.com"));\n        users.put(3L, new User(3L, "\u738b\u4e94", "wangwu@example.com"));\n    }\n\n    @GetMapping("/{id}")\n    public User getUser(@PathVariable Long id) {\n        return users.get(id);\n    }\n\n    @GetMapping\n    public Map<Long, User> getAllUsers() {\n        return users;\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u542f\u52a8\u7c7b",children:"\u542f\u52a8\u7c7b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="UserServiceApplication.java"',children:"package com.example.user;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class UserServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(UserServiceApplication.class, args);\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"5-\u521b\u5efa\u8ba2\u5355\u670d\u52a1-consumer",children:"5. \u521b\u5efa\u8ba2\u5355\u670d\u52a1 (Consumer)"}),"\n",(0,s.jsx)(e.h3,{id:"\u6dfb\u52a0\u4f9d\u8d56-1",children:"\u6dfb\u52a0\u4f9d\u8d56"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",metastring:'title="order-service/pom.xml"',children:'<?xml version="1.0" encoding="UTF-8"?>\n<project xmlns="http://maven.apache.org/POM/4.0.0"\n         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd">\n    <modelVersion>4.0.0</modelVersion>\n\n    <parent>\n        <groupId>com.example</groupId>\n        <artifactId>springcloud-alibaba-demo</artifactId>\n        <version>1.0.0</version>\n    </parent>\n\n    <artifactId>order-service</artifactId>\n\n    <dependencies>\n        <dependency>\n            <groupId>org.springframework.boot</groupId>\n            <artifactId>spring-boot-starter-web</artifactId>\n        </dependency>\n\n        \x3c!-- Nacos \u670d\u52a1\u6ce8\u518c\u53d1\u73b0 --\x3e\n        <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n        </dependency>\n\n        \x3c!-- LoadBalancer --\x3e\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-starter-loadbalancer</artifactId>\n        </dependency>\n    </dependencies>\n</project>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u914d\u7f6e\u6587\u4ef6-1",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",metastring:'title="order-service/src/main/resources/application.yml"',children:"server:\n  port: 8082\n\nspring:\n  application:\n    name: order-service\n  cloud:\n    nacos:\n      discovery:\n        server-addr: localhost:8848\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u914d\u7f6e\u7c7b",children:"\u914d\u7f6e\u7c7b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="RestTemplateConfig.java"',children:"package com.example.order.config;\n\nimport org.springframework.cloud.client.loadbalancer.LoadBalanced;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    @LoadBalanced\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5b9e\u4f53\u7c7b-1",children:"\u5b9e\u4f53\u7c7b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="Order.java"',children:"package com.example.order.entity;\n\npublic class Order {\n    private Long id;\n    private Long userId;\n    private String product;\n    private Object user;\n\n    public Order() {}\n\n    public Order(Long id, Long userId, String product) {\n        this.id = id;\n        this.userId = userId;\n        this.product = product;\n    }\n\n    // Getters and Setters\n    public Long getId() { return id; }\n    public void setId(Long id) { this.id = id; }\n    public Long getUserId() { return userId; }\n    public void setUserId(Long userId) { this.userId = userId; }\n    public String getProduct() { return product; }\n    public void setProduct(String product) { this.product = product; }\n    public Object getUser() { return user; }\n    public void setUser(Object user) { this.user = user; }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"controller-1",children:"Controller"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="OrderController.java"',children:'package com.example.order.controller;\n\nimport com.example.order.entity.Order;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\n@RequestMapping("/orders")\npublic class OrderController {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    @GetMapping("/{id}")\n    public Order getOrder(@PathVariable Long id) {\n        Order order = new Order(id, 1L, "MacBook Pro");\n        \n        // \u901a\u8fc7\u670d\u52a1\u540d\u8c03\u7528\u7528\u6237\u670d\u52a1\n        Object user = restTemplate.getForObject(\n            "http://user-service/users/" + order.getUserId(),\n            Object.class\n        );\n        \n        order.setUser(user);\n        return order;\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u542f\u52a8\u7c7b-1",children:"\u542f\u52a8\u7c7b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="OrderServiceApplication.java"',children:"package com.example.order;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class OrderServiceApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(OrderServiceApplication.class, args);\n    }\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"6-\u8fd0\u884c\u548c\u6d4b\u8bd5",children:"6. \u8fd0\u884c\u548c\u6d4b\u8bd5"}),"\n",(0,s.jsx)(e.h3,{id:"\u542f\u52a8\u670d\u52a1",children:"\u542f\u52a8\u670d\u52a1"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u542f\u52a8 Nacos Server"})," (\u5982\u679c\u8fd8\u6ca1\u542f\u52a8)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u542f\u52a8\u7528\u6237\u670d\u52a1"})," - \u8fd0\u884c ",(0,s.jsx)(e.code,{children:"UserServiceApplication"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u542f\u52a8\u8ba2\u5355\u670d\u52a1"})," - \u8fd0\u884c ",(0,s.jsx)(e.code,{children:"OrderServiceApplication"})]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u9a8c\u8bc1\u670d\u52a1\u6ce8\u518c",children:"\u9a8c\u8bc1\u670d\u52a1\u6ce8\u518c"}),"\n",(0,s.jsxs)(e.p,{children:["\u8bbf\u95ee Nacos \u63a7\u5236\u53f0: ",(0,s.jsx)(e.a,{href:"http://localhost:8848/nacos",children:"http://localhost:8848/nacos"})]}),"\n",(0,s.jsx)(e.p,{children:'\u5728"\u670d\u52a1\u7ba1\u7406" \u2192 "\u670d\u52a1\u5217\u8868"\u4e2d\u5e94\u8be5\u80fd\u770b\u5230:'}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"user-service"}),"\n",(0,s.jsx)(e.li,{children:"order-service"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u6d4b\u8bd5\u63a5\u53e3",children:"\u6d4b\u8bd5\u63a5\u53e3"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u7528\u6237\u670d\u52a1"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"curl http://localhost:8081/users/1\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u54cd\u5e94:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "id": 1,\n  "name": "\u5f20\u4e09",\n  "email": "zhangsan@example.com"\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8ba2\u5355\u670d\u52a1"})," (\u5305\u542b\u7528\u6237\u4fe1\u606f):"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"curl http://localhost:8082/orders/1\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u54cd\u5e94:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "id": 1,\n  "userId": 1,\n  "product": "MacBook Pro",\n  "user": {\n    "id": 1,\n    "name": "\u5f20\u4e09",\n    "email": "zhangsan@example.com"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"7-\u6dfb\u52a0\u914d\u7f6e\u7ba1\u7406",children:"7. \u6dfb\u52a0\u914d\u7f6e\u7ba1\u7406"}),"\n",(0,s.jsx)(e.h3,{id:"\u5728-nacos-\u4e2d\u521b\u5efa\u914d\u7f6e",children:"\u5728 Nacos \u4e2d\u521b\u5efa\u914d\u7f6e"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u767b\u5f55 Nacos \u63a7\u5236\u53f0"}),"\n",(0,s.jsx)(e.li,{children:'\u8fdb\u5165"\u914d\u7f6e\u7ba1\u7406" \u2192 "\u914d\u7f6e\u5217\u8868"'}),"\n",(0,s.jsx)(e.li,{children:'\u70b9\u51fb"+"\u521b\u5efa\u914d\u7f6e'}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u914d\u7f6e\u4fe1\u606f"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Data ID: ",(0,s.jsx)(e.code,{children:"user-service.yaml"})]}),"\n",(0,s.jsxs)(e.li,{children:["Group: ",(0,s.jsx)(e.code,{children:"DEFAULT_GROUP"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u914d\u7f6e\u683c\u5f0f: ",(0,s.jsx)(e.code,{children:"YAML"})]}),"\n",(0,s.jsx)(e.li,{children:"\u914d\u7f6e\u5185\u5bb9:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'app:\n  message: "Hello from Nacos Config!"\n  version: "1.0.0"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528\u914d\u7f6e",children:"\u4f7f\u7528\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",metastring:'title="ConfigController.java"',children:'package com.example.user.controller;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping("/config")\n@RefreshScope  // \u652f\u6301\u52a8\u6001\u5237\u65b0\npublic class ConfigController {\n\n    @Value("${app.message:\u9ed8\u8ba4\u6d88\u606f}")\n    private String message;\n\n    @Value("${app.version:1.0.0}")\n    private String version;\n\n    @GetMapping\n    public String getConfig() {\n        return "Message: " + message + ", Version: " + version;\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6d4b\u8bd5\u914d\u7f6e",children:"\u6d4b\u8bd5\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"curl http://localhost:8081/config\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u54cd\u5e94:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Message: Hello from Nacos Config!, Version: 1.0.0\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4fee\u6539 Nacos \u4e2d\u7684\u914d\u7f6e\u540e,\u914d\u7f6e\u4f1a\u81ea\u52a8\u5237\u65b0(\u65e0\u9700\u91cd\u542f\u670d\u52a1)\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"8-\u9879\u76ee\u7ed3\u6784\u603b\u7ed3",children:"8. \u9879\u76ee\u7ed3\u6784\u603b\u7ed3"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"springcloud-alibaba-demo\n\u251c\u2500\u2500 pom.xml\n\u251c\u2500\u2500 user-service\n\u2502   \u251c\u2500\u2500 pom.xml\n\u2502   \u2514\u2500\u2500 src\n\u2502       \u2514\u2500\u2500 main\n\u2502           \u251c\u2500\u2500 java\n\u2502           \u2502   \u2514\u2500\u2500 com.example.user\n\u2502           \u2502       \u251c\u2500\u2500 UserServiceApplication.java\n\u2502           \u2502       \u251c\u2500\u2500 controller\n\u2502           \u2502       \u2502   \u251c\u2500\u2500 UserController.java\n\u2502           \u2502       \u2502   \u2514\u2500\u2500 ConfigController.java\n\u2502           \u2502       \u2514\u2500\u2500 entity\n\u2502           \u2502           \u2514\u2500\u2500 User.java\n\u2502           \u2514\u2500\u2500 resources\n\u2502               \u2514\u2500\u2500 application.yml\n\u2514\u2500\u2500 order-service\n    \u251c\u2500\u2500 pom.xml\n    \u2514\u2500\u2500 src\n        \u2514\u2500\u2500 main\n            \u251c\u2500\u2500 java\n            \u2502   \u2514\u2500\u2500 com.example.order\n            \u2502       \u251c\u2500\u2500 OrderServiceApplication.java\n            \u2502       \u251c\u2500\u2500 config\n            \u2502       \u2502   \u2514\u2500\u2500 RestTemplateConfig.java\n            \u2502       \u251c\u2500\u2500 controller\n            \u2502       \u2502   \u2514\u2500\u2500 OrderController.java\n            \u2502       \u2514\u2500\u2500 entity\n            \u2502           \u2514\u2500\u2500 Order.java\n            \u2514\u2500\u2500 resources\n                \u2514\u2500\u2500 application.yml\n"})}),"\n",(0,s.jsx)(e.h2,{id:"9-\u5e38\u89c1\u95ee\u9898",children:"9. \u5e38\u89c1\u95ee\u9898"}),"\n",(0,s.jsx)(e.h3,{id:"\u670d\u52a1\u6ce8\u518c\u5931\u8d25",children:"\u670d\u52a1\u6ce8\u518c\u5931\u8d25"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u68c0\u67e5\u9879"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Nacos Server \u662f\u5426\u6b63\u5e38\u8fd0\u884c"}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"server-addr"})," \u914d\u7f6e\u662f\u5426\u6b63\u786e"]}),"\n",(0,s.jsx)(e.li,{children:"\u9632\u706b\u5899\u662f\u5426\u963b\u6b62\u4e86\u7aef\u53e3 8848"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u670d\u52a1\u8c03\u7528\u5931\u8d25",children:"\u670d\u52a1\u8c03\u7528\u5931\u8d25"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u68c0\u67e5\u9879"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u670d\u52a1\u540d\u662f\u5426\u6b63\u786e (",(0,s.jsx)(e.code,{children:"user-service"})," \u800c\u4e0d\u662f ",(0,s.jsx)(e.code,{children:"localhost:8081"}),")"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"@LoadBalanced"})," \u6ce8\u89e3\u662f\u5426\u6dfb\u52a0"]}),"\n",(0,s.jsxs)(e.li,{children:["\u662f\u5426\u5f15\u5165\u4e86 ",(0,s.jsx)(e.code,{children:"spring-cloud-starter-loadbalancer"})," \u4f9d\u8d56"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"\u914d\u7f6e\u4e0d\u751f\u6548",children:"\u914d\u7f6e\u4e0d\u751f\u6548"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u68c0\u67e5\u9879"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Data ID \u547d\u540d\u662f\u5426\u6b63\u786e (",(0,s.jsx)(e.code,{children:"${spring.application.name}.${file-extension}"}),")"]}),"\n",(0,s.jsx)(e.li,{children:"Group \u662f\u5426\u5339\u914d"}),"\n",(0,s.jsxs)(e.li,{children:["\u662f\u5426\u6dfb\u52a0\u4e86 ",(0,s.jsx)(e.code,{children:"@RefreshScope"})," \u6ce8\u89e3"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"10-\u4e0b\u4e00\u6b65",children:"10. \u4e0b\u4e00\u6b65"}),"\n",(0,s.jsx)(e.p,{children:"\u606d\u559c!\u4f60\u5df2\u7ecf\u6210\u529f\u642d\u5efa\u4e86\u4e00\u4e2a\u57fa\u7840\u7684 Spring Cloud Alibaba \u5fae\u670d\u52a1\u7cfb\u7edf\u3002"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u7ee7\u7eed\u5b66\u4e60"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/springcloud-alibaba/sentinel",children:"Sentinel \u6d41\u91cf\u63a7\u5236"})," - \u4fdd\u62a4\u670d\u52a1\u7a33\u5b9a\u6027"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/springcloud-alibaba/seata",children:"Seata \u5206\u5e03\u5f0f\u4e8b\u52a1"})," - \u89e3\u51b3\u6570\u636e\u4e00\u81f4\u6027"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/springcloud-alibaba/rocketmq",children:"RocketMQ \u6d88\u606f\u961f\u5217"})," - \u5f02\u6b65\u901a\u4fe1"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/docs/springcloud-alibaba/gateway",children:"Gateway \u7f51\u5173"})," - \u7edf\u4e00\u5165\u53e3"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5b8c\u6574\u4ee3\u7801"}),": ",(0,s.jsx)(e.a,{href:"https://github.com/alibaba/spring-cloud-alibaba/tree/2022.x/spring-cloud-alibaba-examples",children:"GitHub \u793a\u4f8b\u4ed3\u5e93"})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5173\u952e\u8981\u70b9"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Spring Cloud Alibaba \u4e0e Spring Boot \u5b8c\u7f8e\u96c6\u6210"}),"\n",(0,s.jsx)(e.li,{children:"Nacos \u540c\u65f6\u63d0\u4f9b\u670d\u52a1\u6ce8\u518c\u548c\u914d\u7f6e\u7ba1\u7406"}),"\n",(0,s.jsx)(e.li,{children:"\u670d\u52a1\u8c03\u7528\u901a\u8fc7\u670d\u52a1\u540d\u800c\u4e0d\u662f IP:\u7aef\u53e3"}),"\n",(0,s.jsx)(e.li,{children:"\u914d\u7f6e\u652f\u6301\u52a8\u6001\u5237\u65b0,\u65e0\u9700\u91cd\u542f\u670d\u52a1"}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(t,{...n})}):t(n)}},48885:(n,e,r)=>{r.d(e,{R:()=>l,x:()=>o});var i=r(99378);const s={},a=i.createContext(s);function l(n){const e=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);