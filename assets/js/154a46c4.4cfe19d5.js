"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[41695],{48885:(n,e,l)=>{l.d(e,{R:()=>i,x:()=>r});var s=l(99378);const t={},d=s.createContext(t);function i(n){const e=s.useContext(d);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:i(n.components),s.createElement(d.Provider,{value:e},n.children)}},88486:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"ml/mlops-tools","title":"\ud83d\udd27 MLOps \u5de5\u5177\u94fe","description":"MLOps \u5de5\u5177\u5e2e\u52a9\u7ba1\u7406\u673a\u5668\u5b66\u4e60\u5168\u751f\u547d\u5468\u671f\u3002","source":"@site/docs/ml/mlops-tools.md","sourceDirName":"ml","slug":"/ml/mlops-tools","permalink":"/docs/ml/mlops-tools","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/ml/mlops-tools.md","tags":[],"version":"current","sidebarPosition":42,"frontMatter":{"sidebar_position":42,"title":"\ud83d\udd27 MLOps \u5de5\u5177\u94fe"},"sidebar":"ml","previous":{"title":"\u26a1 \u5206\u5e03\u5f0f\u8bad\u7ec3","permalink":"/docs/ml/distributed-training"},"next":{"title":"\ud83c\udff7\ufe0f \u6570\u636e\u6807\u6ce8","permalink":"/docs/ml/data-labeling"}}');var t=l(22714),d=l(48885);const i={sidebar_position:42,title:"\ud83d\udd27 MLOps \u5de5\u5177\u94fe"},r="MLOps \u5de5\u5177\u94fe",o={},a=[{value:"\u5de5\u5177\u751f\u6001",id:"\u5de5\u5177\u751f\u6001",level:2},{value:"MLflow",id:"mlflow",level:2},{value:"\u5b9e\u9a8c\u8ffd\u8e2a",id:"\u5b9e\u9a8c\u8ffd\u8e2a",level:3},{value:"\u6a21\u578b\u6ce8\u518c",id:"\u6a21\u578b\u6ce8\u518c",level:3},{value:"DVC (\u6570\u636e\u7248\u672c\u63a7\u5236)",id:"dvc-\u6570\u636e\u7248\u672c\u63a7\u5236",level:2},{value:"\u7ba1\u9053\u5b9a\u4e49",id:"\u7ba1\u9053\u5b9a\u4e49",level:3},{value:"Weights &amp; Biases",id:"weights--biases",level:2},{value:"Hydra (\u914d\u7f6e\u7ba1\u7406)",id:"hydra-\u914d\u7f6e\u7ba1\u7406",level:2},{value:"\u5de5\u5177\u5bf9\u6bd4",id:"\u5de5\u5177\u5bf9\u6bd4",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",mermaid:"mermaid",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"mlops-\u5de5\u5177\u94fe",children:"MLOps \u5de5\u5177\u94fe"})}),"\n",(0,t.jsx)(e.p,{children:"MLOps \u5de5\u5177\u5e2e\u52a9\u7ba1\u7406\u673a\u5668\u5b66\u4e60\u5168\u751f\u547d\u5468\u671f\u3002"}),"\n",(0,t.jsx)(e.h2,{id:"\u5de5\u5177\u751f\u6001",children:"\u5de5\u5177\u751f\u6001"}),"\n",(0,t.jsx)(e.mermaid,{value:"graph LR\n    A[\u6570\u636e] --\x3e B[\u5b9e\u9a8c]\n    B --\x3e C[\u6a21\u578b]\n    C --\x3e D[\u90e8\u7f72]\n    D --\x3e E[\u76d1\u63a7]\n    E --\x3e A"}),"\n",(0,t.jsx)(e.h2,{id:"mlflow",children:"MLflow"}),"\n",(0,t.jsx)(e.h3,{id:"\u5b9e\u9a8c\u8ffd\u8e2a",children:"\u5b9e\u9a8c\u8ffd\u8e2a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'import mlflow\n\nmlflow.set_experiment("my-experiment")\n\nwith mlflow.start_run():\n    mlflow.log_param("learning_rate", 0.01)\n    mlflow.log_param("epochs", 100)\n\n    for epoch in range(100):\n        # \u8bad\u7ec3\n        mlflow.log_metric("loss", loss, step=epoch)\n        mlflow.log_metric("accuracy", acc, step=epoch)\n\n    mlflow.sklearn.log_model(model, "model")\n'})}),"\n",(0,t.jsx)(e.h3,{id:"\u6a21\u578b\u6ce8\u518c",children:"\u6a21\u578b\u6ce8\u518c"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'# \u6ce8\u518c\u6a21\u578b\nmlflow.register_model("runs:/xxx/model", "my-model")\n\n# \u52a0\u8f7d\u6a21\u578b\nmodel = mlflow.pyfunc.load_model("models:/my-model/Production")\n'})}),"\n",(0,t.jsx)(e.h2,{id:"dvc-\u6570\u636e\u7248\u672c\u63a7\u5236",children:"DVC (\u6570\u636e\u7248\u672c\u63a7\u5236)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# \u521d\u59cb\u5316\ndvc init\n\n# \u8ffd\u8e2a\u6570\u636e\ndvc add data/dataset.csv\ngit add data/dataset.csv.dvc\n\n# \u63a8\u9001\u5230\u8fdc\u7a0b\ndvc remote add -d storage s3://bucket/path\ndvc push\n\n# \u62c9\u53d6\u6570\u636e\ndvc pull\n"})}),"\n",(0,t.jsx)(e.h3,{id:"\u7ba1\u9053\u5b9a\u4e49",children:"\u7ba1\u9053\u5b9a\u4e49"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:"# dvc.yaml\nstages:\n  preprocess:\n    cmd: python preprocess.py\n    deps:\n      - data/raw\n    outs:\n      - data/processed\n\n  train:\n    cmd: python train.py\n    deps:\n      - data/processed\n      - src/train.py\n    outs:\n      - models/model.pkl\n    metrics:\n      - metrics.json\n"})}),"\n",(0,t.jsx)(e.h2,{id:"weights--biases",children:"Weights & Biases"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'import wandb\n\nwandb.init(project="my-project")\nwandb.config = {"lr": 0.01, "epochs": 100}\n\nfor epoch in range(100):\n    wandb.log({"loss": loss, "accuracy": acc})\n\n# \u4fdd\u5b58\u6a21\u578b\nwandb.save("model.pth")\n'})}),"\n",(0,t.jsx)(e.h2,{id:"hydra-\u914d\u7f6e\u7ba1\u7406",children:"Hydra (\u914d\u7f6e\u7ba1\u7406)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:"# config.yaml\nmodel:\n  name: resnet50\n  pretrained: true\ntraining:\n  lr: 0.001\n  batch_size: 32\n  epochs: 100\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:'import hydra\nfrom omegaconf import DictConfig\n\n@hydra.main(config_path=".", config_name="config")\ndef train(cfg: DictConfig):\n    model = build_model(cfg.model)\n    train_model(model, cfg.training)\n\n# \u547d\u4ee4\u884c\u8986\u76d6\n# python train.py training.lr=0.01 training.epochs=50\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u5de5\u5177\u5bf9\u6bd4",children:"\u5de5\u5177\u5bf9\u6bd4"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"\u5de5\u5177"}),(0,t.jsx)(e.th,{children:"\u7528\u9014"}),(0,t.jsx)(e.th,{children:"\u7279\u70b9"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"MLflow"}),(0,t.jsx)(e.td,{children:"\u5b9e\u9a8c\u8ffd\u8e2a\u3001\u6a21\u578b\u6ce8\u518c"}),(0,t.jsx)(e.td,{children:"\u5f00\u6e90\u3001\u5168\u9762"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"W&B"}),(0,t.jsx)(e.td,{children:"\u5b9e\u9a8c\u8ffd\u8e2a\u3001\u53ef\u89c6\u5316"}),(0,t.jsx)(e.td,{children:"\u4e91\u670d\u52a1\u3001UI \u597d"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"DVC"}),(0,t.jsx)(e.td,{children:"\u6570\u636e/\u6a21\u578b\u7248\u672c\u63a7\u5236"}),(0,t.jsx)(e.td,{children:"Git-like"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Hydra"}),(0,t.jsx)(e.td,{children:"\u914d\u7f6e\u7ba1\u7406"}),(0,t.jsx)(e.td,{children:"\u7075\u6d3b"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"Kubeflow"}),(0,t.jsx)(e.td,{children:"K8s \u4e0a\u7684 ML \u6d41\u6c34\u7ebf"}),(0,t.jsx)(e.td,{children:"\u4f01\u4e1a\u7ea7"})]})]})]})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}}}]);