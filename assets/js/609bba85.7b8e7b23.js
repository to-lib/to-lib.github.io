"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[23710],{48885:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>d});var i=t(99378);const s={},r=i.createContext(s);function c(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(r.Provider,{value:e},n.children)}},52802:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"cpp/classes-objects","title":"\u7c7b\u548c\u5bf9\u8c61","description":"\u7c7b\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u548c\u884c\u4e3a\u7684\u84dd\u56fe\u3002","source":"@site/docs/cpp/classes-objects.md","sourceDirName":"cpp","slug":"/cpp/classes-objects","permalink":"/docs/cpp/classes-objects","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/classes-objects.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_position":8,"title":"\u7c7b\u548c\u5bf9\u8c61"},"sidebar":"cpp","previous":{"title":"\u5185\u5b58\u7ba1\u7406","permalink":"/docs/cpp/memory-management"},"next":{"title":"\u8fd0\u7b97\u7b26\u91cd\u8f7d","permalink":"/docs/cpp/operator-overloading"}}');var s=t(22714),r=t(48885);const c={sidebar_position:8,title:"\u7c7b\u548c\u5bf9\u8c61"},d="C++ \u7c7b\u548c\u5bf9\u8c61",o={},a=[{value:"\ud83c\udfaf \u7c7b\u7684\u5b9a\u4e49",id:"-\u7c7b\u7684\u5b9a\u4e49",level:2},{value:"\ud83d\udd27 \u6784\u9020\u51fd\u6570",id:"-\u6784\u9020\u51fd\u6570",level:2},{value:"\ud83d\udca5 \u6790\u6784\u51fd\u6570",id:"-\u6790\u6784\u51fd\u6570",level:2},{value:"\ud83d\udccb \u62f7\u8d1d\u4e0e\u79fb\u52a8",id:"-\u62f7\u8d1d\u4e0e\u79fb\u52a8",level:2},{value:"\ud83d\udd12 \u8bbf\u95ee\u63a7\u5236",id:"-\u8bbf\u95ee\u63a7\u5236",level:2},{value:"\ud83c\udfad this \u6307\u9488",id:"-this-\u6307\u9488",level:2},{value:"\ud83d\udcca \u9759\u6001\u6210\u5458",id:"-\u9759\u6001\u6210\u5458",level:2},{value:"\ud83d\udc65 \u53cb\u5143",id:"-\u53cb\u5143",level:2},{value:"\u26a1 \u6700\u4f73\u5b9e\u8df5",id:"-\u6700\u4f73\u5b9e\u8df5",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"c-\u7c7b\u548c\u5bf9\u8c61",children:"C++ \u7c7b\u548c\u5bf9\u8c61"})}),"\n",(0,s.jsx)(e.p,{children:"\u7c7b\u662f\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u548c\u884c\u4e3a\u7684\u84dd\u56fe\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"-\u7c7b\u7684\u5b9a\u4e49",children:"\ud83c\udfaf \u7c7b\u7684\u5b9a\u4e49"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'#include <iostream>\n#include <string>\n\nclass Person {\nprivate:  // \u79c1\u6709\u6210\u5458\n    std::string name;\n    int age;\n\npublic:   // \u516c\u6709\u6210\u5458\n    // \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n    Person() : name("Unknown"), age(0) {}\n\n    // \u5e26\u53c2\u6570\u6784\u9020\u51fd\u6570\n    Person(const std::string& n, int a) : name(n), age(a) {}\n\n    // \u6210\u5458\u51fd\u6570\n    void introduce() const {\n        std::cout << "\u6211\u662f " << name << "\uff0c" << age << " \u5c81\u3002" << std::endl;\n    }\n\n    // Getter\n    std::string getName() const { return name; }\n    int getAge() const { return age; }\n\n    // Setter\n    void setAge(int a) { if (a >= 0) age = a; }\n};\n\nint main() {\n    Person p1;                      // \u9ed8\u8ba4\u6784\u9020\n    Person p2("\u5f20\u4e09", 25);          // \u5e26\u53c2\u6784\u9020\n    Person p3{"\u674e\u56db", 30};          // \u7edf\u4e00\u521d\u59cb\u5316\n\n    p2.introduce();\n    p3.setAge(31);\n\n    return 0;\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\u6784\u9020\u51fd\u6570",children:"\ud83d\udd27 \u6784\u9020\u51fd\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'class Widget {\nprivate:\n    int id;\n    std::string name;\n\npublic:\n    // \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n    Widget() : id(0), name("default") {}\n\n    // \u5e26\u53c2\u6784\u9020\u51fd\u6570\n    Widget(int i, const std::string& n) : id(i), name(n) {}\n\n    // \u59d4\u6258\u6784\u9020\u51fd\u6570 (C++11)\n    Widget(int i) : Widget(i, "unnamed") {}\n\n    // \u62f7\u8d1d\u6784\u9020\u51fd\u6570\n    Widget(const Widget& other) : id(other.id), name(other.name) {}\n\n    // \u79fb\u52a8\u6784\u9020\u51fd\u6570 (C++11)\n    Widget(Widget&& other) noexcept\n        : id(other.id), name(std::move(other.name)) {}\n};\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\u6790\u6784\u51fd\u6570",children:"\ud83d\udca5 \u6790\u6784\u51fd\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'class Resource {\nprivate:\n    int* data;\n\npublic:\n    Resource(int size) {\n        data = new int[size];\n        std::cout << "\u8d44\u6e90\u83b7\u53d6" << std::endl;\n    }\n\n    ~Resource() {\n        delete[] data;\n        std::cout << "\u8d44\u6e90\u91ca\u653e" << std::endl;\n    }\n};\n\nvoid example() {\n    Resource r(10);\n}  // \u79bb\u5f00\u4f5c\u7528\u57df\uff0c\u81ea\u52a8\u8c03\u7528\u6790\u6784\u51fd\u6570\n'})}),"\n",(0,s.jsx)(e.h2,{id:"-\u62f7\u8d1d\u4e0e\u79fb\u52a8",children:"\ud83d\udccb \u62f7\u8d1d\u4e0e\u79fb\u52a8"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Buffer {\nprivate:\n    int* data;\n    size_t size;\n\npublic:\n    Buffer(size_t s) : size(s), data(new int[s]) {}\n\n    // \u62f7\u8d1d\u8d4b\u503c\u8fd0\u7b97\u7b26\n    Buffer& operator=(const Buffer& other) {\n        if (this != &other) {\n            delete[] data;\n            size = other.size;\n            data = new int[size];\n            std::copy(other.data, other.data + size, data);\n        }\n        return *this;\n    }\n\n    // \u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26 (C++11)\n    Buffer& operator=(Buffer&& other) noexcept {\n        if (this != &other) {\n            delete[] data;\n            data = other.data;\n            size = other.size;\n            other.data = nullptr;\n            other.size = 0;\n        }\n        return *this;\n    }\n\n    ~Buffer() { delete[] data; }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u8bbf\u95ee\u63a7\u5236",children:"\ud83d\udd12 \u8bbf\u95ee\u63a7\u5236"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Example {\npublic:     // \u516c\u6709\uff1a\u4efb\u4f55\u5730\u65b9\u90fd\u53ef\u4ee5\u8bbf\u95ee\n    int publicVar;\n\nprotected:  // \u4fdd\u62a4\uff1a\u672c\u7c7b\u548c\u6d3e\u751f\u7c7b\u53ef\u8bbf\u95ee\n    int protectedVar;\n\nprivate:    // \u79c1\u6709\uff1a\u53ea\u6709\u672c\u7c7b\u53ef\u8bbf\u95ee\n    int privateVar;\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-this-\u6307\u9488",children:"\ud83c\udfad this \u6307\u9488"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Counter {\nprivate:\n    int count;\n\npublic:\n    Counter() : count(0) {}\n\n    Counter& increment() {\n        count++;\n        return *this;  // \u8fd4\u56de\u81ea\u8eab\u5f15\u7528\uff0c\u652f\u6301\u94fe\u5f0f\u8c03\u7528\n    }\n\n    Counter& add(int n) {\n        this->count += n;\n        return *this;\n    }\n};\n\nint main() {\n    Counter c;\n    c.increment().add(5).increment();  // \u94fe\u5f0f\u8c03\u7528\n    return 0;\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u9759\u6001\u6210\u5458",children:"\ud83d\udcca \u9759\u6001\u6210\u5458"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Counter {\nprivate:\n    static int count;  // \u9759\u6001\u6210\u5458\u53d8\u91cf\n    int id;\n\npublic:\n    Counter() : id(++count) {}\n\n    static int getCount() { return count; }  // \u9759\u6001\u6210\u5458\u51fd\u6570\n    int getId() const { return id; }\n};\n\nint Counter::count = 0;  // \u7c7b\u5916\u521d\u59cb\u5316\n\nint main() {\n    Counter c1, c2, c3;\n    std::cout << Counter::getCount() << std::endl;  // 3\n    return 0;\n}\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u53cb\u5143",children:"\ud83d\udc65 \u53cb\u5143"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Box {\nprivate:\n    double width;\n\npublic:\n    Box(double w) : width(w) {}\n\n    // \u53cb\u5143\u51fd\u6570\n    friend void printWidth(const Box& b);\n\n    // \u53cb\u5143\u7c7b\n    friend class BoxHelper;\n};\n\nvoid printWidth(const Box& b) {\n    std::cout << b.width << std::endl;  // \u53ef\u8bbf\u95ee\u79c1\u6709\u6210\u5458\n}\n\nclass BoxHelper {\npublic:\n    void resize(Box& b, double w) {\n        b.width = w;  // \u53ef\u8bbf\u95ee\u79c1\u6709\u6210\u5458\n    }\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"-\u6700\u4f73\u5b9e\u8df5",children:"\u26a1 \u6700\u4f73\u5b9e\u8df5"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4f7f\u7528\u521d\u59cb\u5316\u5217\u8868"})," - \u6bd4\u6784\u9020\u51fd\u6570\u4f53\u5185\u8d4b\u503c\u66f4\u9ad8\u6548"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u9075\u5faa\u4e09/\u4e94\u6cd5\u5219"})," - \u5b9a\u4e49\u6790\u6784\u5219\u8003\u8651\u62f7\u8d1d/\u79fb\u52a8"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6210\u5458\u51fd\u6570\u52a0 const"})," - \u4e0d\u4fee\u6539\u5bf9\u8c61\u72b6\u6001\u65f6"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4f7f\u7528 explicit"})," - \u9632\u6b62\u9690\u5f0f\u8f6c\u6362"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u79c1\u6709\u5316\u6570\u636e"})," - \u901a\u8fc7\u516c\u6709\u63a5\u53e3\u8bbf\u95ee"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}}}]);