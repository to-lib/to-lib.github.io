"use strict";(globalThis.webpackChunkto_lib_github_io=globalThis.webpackChunkto_lib_github_io||[]).push([[58558],{48885:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var s=t(99378);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},56406:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"cpp/cpp17-features","title":"C++17 \u65b0\u7279\u6027","description":"C++17 \u5e26\u6765\u4e86\u8bb8\u591a\u5b9e\u7528\u7684\u65b0\u7279\u6027\u548c\u5e93\u7ec4\u4ef6\u3002","source":"@site/docs/cpp/cpp17-features.md","sourceDirName":"cpp","slug":"/cpp/cpp17-features","permalink":"/docs/cpp/cpp17-features","draft":false,"unlisted":false,"editUrl":"https://github.com/to-lib/to-lib.github.io/tree/main/docs/cpp/cpp17-features.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{"sidebar_position":22,"title":"C++17 \u65b0\u7279\u6027"},"sidebar":"cpp","previous":{"title":"C++14 \u65b0\u7279\u6027","permalink":"/docs/cpp/cpp14-features"},"next":{"title":"C++20 \u65b0\u7279\u6027","permalink":"/docs/cpp/cpp20-features"}}');var i=t(22714),r=t(48885);const l={sidebar_position:22,title:"C++17 \u65b0\u7279\u6027"},d="C++17 \u65b0\u7279\u6027",c={},a=[{value:"\ud83c\udfaf \u7ed3\u6784\u5316\u7ed1\u5b9a",id:"-\u7ed3\u6784\u5316\u7ed1\u5b9a",level:2},{value:"\ud83d\udce6 if/switch \u521d\u59cb\u5316",id:"-ifswitch-\u521d\u59cb\u5316",level:2},{value:"\ud83d\udd04 if constexpr",id:"-if-constexpr",level:2},{value:"\ud83d\udccb std::optional",id:"-stdoptional",level:2},{value:"\ud83d\udd27 std::variant",id:"-stdvariant",level:2},{value:"\ud83d\udcdc std::string_view",id:"-stdstring_view",level:2},{value:"\ud83d\uddc2\ufe0f \u6587\u4ef6\u7cfb\u7edf\u5e93",id:"\ufe0f-\u6587\u4ef6\u7cfb\u7edf\u5e93",level:2},{value:"\u26a1 \u5176\u4ed6\u7279\u6027",id:"-\u5176\u4ed6\u7279\u6027",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"c17-\u65b0\u7279\u6027",children:"C++17 \u65b0\u7279\u6027"})}),"\n",(0,i.jsx)(n.p,{children:"C++17 \u5e26\u6765\u4e86\u8bb8\u591a\u5b9e\u7528\u7684\u65b0\u7279\u6027\u548c\u5e93\u7ec4\u4ef6\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"-\u7ed3\u6784\u5316\u7ed1\u5b9a",children:"\ud83c\udfaf \u7ed3\u6784\u5316\u7ed1\u5b9a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'// \u6570\u7ec4\nint arr[] = {1, 2, 3};\nauto [a, b, c] = arr;\n\n// pair/tuple\nauto [x, y] = std::make_pair(1, 2);\nauto [p, q, r] = std::make_tuple(1, 2.0, "three");\n\n// \u7ed3\u6784\u4f53\nstruct Point { int x, y; };\nPoint pt{10, 20};\nauto [px, py] = pt;\n\n// map \u904d\u5386\nstd::map<std::string, int> m;\nfor (const auto& [key, value] : m) {\n    std::cout << key << ": " << value << std::endl;\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-ifswitch-\u521d\u59cb\u5316",children:"\ud83d\udce6 if/switch \u521d\u59cb\u5316"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'// if \u5e26\u521d\u59cb\u5316\nif (auto it = m.find("key"); it != m.end()) {\n    std::cout << it->second << std::endl;\n}\n\n// switch \u5e26\u521d\u59cb\u5316\nswitch (auto val = getValue(); val) {\n    case 1: break;\n    case 2: break;\n    default: break;\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-if-constexpr",children:"\ud83d\udd04 if constexpr"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"template<typename T>\nauto getValue(T t) {\n    if constexpr (std::is_pointer_v<T>) {\n        return *t;\n    } else {\n        return t;\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-stdoptional",children:"\ud83d\udccb std::optional"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"std::optional<int> find(int x) {\n    if (x > 0) return x;\n    return std::nullopt;\n}\n\nauto result = find(5);\nif (result) {\n    std::cout << *result << std::endl;\n}\nstd::cout << result.value_or(-1) << std::endl;\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-stdvariant",children:"\ud83d\udd27 std::variant"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'std::variant<int, double, std::string> v;\nv = 42;\nv = 3.14;\nv = "hello";\n\nstd::visit([](auto&& arg) {\n    std::cout << arg << std::endl;\n}, v);\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-stdstring_view",children:"\ud83d\udcdc std::string_view"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'void print(std::string_view sv) {\n    std::cout << sv << std::endl;\n}\nprint("Hello");  // \u65e0\u62f7\u8d1d\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-\u6587\u4ef6\u7cfb\u7edf\u5e93",children:"\ud83d\uddc2\ufe0f \u6587\u4ef6\u7cfb\u7edf\u5e93"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include <filesystem>\nnamespace fs = std::filesystem;\n\nfs::path p = "/home/user/file.txt";\nif (fs::exists(p)) {\n    std::cout << fs::file_size(p) << std::endl;\n}\n\nfor (const auto& entry : fs::directory_iterator("/home")) {\n    std::cout << entry.path() << std::endl;\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"-\u5176\u4ed6\u7279\u6027",children:"\u26a1 \u5176\u4ed6\u7279\u6027"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u6298\u53e0\u8868\u8fbe\u5f0f"})," - \u7b80\u5316\u53ef\u53d8\u53c2\u6570\u6a21\u677f"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5185\u8054\u53d8\u91cf"})," - \u5934\u6587\u4ef6\u4e2d\u5b9a\u4e49\u53d8\u91cf"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"[[nodiscard]]"})," - \u8b66\u544a\u5ffd\u7565\u8fd4\u56de\u503c"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"[[maybe_unused]]"})," - \u6291\u5236\u672a\u4f7f\u7528\u8b66\u544a"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);